!function t(e,n,i){function r(s,l){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,(function(t){return r(e[s][1][t]||t)}),u,u.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){var i,r;i=this,r=function(){var t=[];function e(t,e){return typeof t===e}function n(t,e){this.length=t.length||0,this.selector=e||"";for(var n=0;n<this.length;n++)this[n]=t[n]}function i(i,r){return new n(function(n,i){return n instanceof Node||n instanceof Window?[n]:t.slice.call(e(n,"string")?(i||document).querySelectorAll(n):[n]||[])}(i,r),i)}function r(t,e){return(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.matchesSelector).call(t,e)}function o(t,n){if(e(t,"object"))if(e(t.length,"number"))t.forEach(n);else for(k in t)t.hasOwnProperty(k)&&n.call(null,t[k],k,t)}return i.fn={size:function(){return this.length},get:function(e){return void 0===e?t.slice.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},each:function(e){return t.every.call(this,(function(t,n){return!1!==e.call(t,t,n)})),this},first:function(){return new n(t.slice.call(this[0]))},last:function(){return new n(t.slice.call(this[this.length-1]))},parent:function(){var e;return new n((e=t.map.call(this,(function(t){return t.parentNode})),t.filter.call(e,(function(t,n){return e.indexOf(t)===n}))))},children:function(){},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},html:function(t){return this.each((function(){this.innerHTML=t}))},empty:function(){return this.each((function(){this.innerHTML=""}))},show:function(){return this.each((function(){this.style.display="block"}))},hide:function(){return this.each((function(){this.style.display="none"}))}},"add remove toggle".split(" ").forEach((function(t){var e=t+"Class";i.fn[e]=function(e){return this.each((function(){this.classList[t].apply(this.classList,e.split(" "))}))}})),i.fn.hasClass=function(e){return t.some.call(this,(function(t){return t.classList.contains(e)}))},function(){var t=1,e={};function n(e){return e._id||(e._id=t++)}function o(t,i,r,o){var s=n(t),l=e[s]||[];l.forEach((function(e,n){null!==o&&e.selector!=o||e.event!==i||e.fn!==r||(delete l[n],t.removeEventListener(i,e.delegator||r))}))}i.fn.on=function(t,i,s,l){var a=null,c=null;return s||(s=i,i=null),this.each((function(){var u=this;l&&(c=function(t){return o(u,t.type,s),s.apply(this,arguments)}),i&&(a=function(t){for(var e=t.target;e!==u;){if(r(e,i)){(c||s).apply(e,[t]);break}e=e.parentNode}}),function(t,i,r,o,s){var l=n(t);(e[l]||(e[l]=[])).push({event:i,fn:r,selector:o,delegator:s}),t.addEventListener(i,s||r)}(this,t,s,i,a||c)}))},i.fn.one=function(t,e,n){return this.on(t,e,n,!0)},i.fn.off=function(t,e,n){return arguments.length>2?(e=arguments[1],n=arguments[2]):n=arguments[1],this.each((function(){o(this,t,n,e)}))}}(),function(){var t=["columnCount","columns","fontWeight","lineHeight","opacity","zIndex","zoom"];function n(n,i,r){n[i=i.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))]=function(n,i){return e(i,"number")&&t.indexOf(n)<0?i+"px":i}(i,r)}i.fn.css=function(t,i){if(void 0===i&&e(t,"string"))return r=this[0],s=t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase(),getComputedStyle(r)[s];var r,s,l={};return e(t,"object")?o(t,(function(t,e){n(l,e,t)})):n(l,t,i),this.each((function(){var t=this;o(l,(function(e,n){t.style[n]=e}))}))}}(),i.fn.data=function(t,e){return t="data-"+t,e?this.each((function(){!function(t,e,n){t.setAttribute(e,n)}(this,t,e)})):function(t,e){return t.getAttribute(e)}(this[0],t)},n.prototype=i.fn,i},"object"==typeof e&&e.exports?e.exports=r():i.$=r()},{}],2:[function(t,e,n){"use strict";let i=t("dime.js/dime");t("./modules/masthead"),t("./modules/masthead"),t("./modules/gallery"),t("./modules/rating")(),t("./modules/getNews")(),i(".content-wrapper").removeClass("state-invisible")},{"./modules/gallery":3,"./modules/getNews":4,"./modules/masthead":5,"./modules/rating":6,"dime.js/dime":1}],3:[function(t,e,n){"use strict";const i=t("dime.js/dime"),r=i(".lightbox"),o=i(".lightbox__media"),s=i(".lightbox__nav__next"),l=i(".lightbox__nav__prev");let a=[],c=0;function u(){if(l.show(),s.show(),a.length<2)return l.hide(),void s.hide();c<1&&l.hide(),c===a.length-1&&s.hide()}function f(t){if(/\.(jpg|png)$/.test(t.url))o.html(`<img src="${t.url}">`);else{let e=t.url.split("v=").pop();o.html(`<iframe width="1280" height="720" src="https://www.youtube.com/embed/${e}?autoplay=1" frameborder="0" allowfullscreen></iframe>`)}}i(document.body).on("click","[data-gallery]",(function(t){t.preventDefault();let e=this.getAttribute("href"),n=this.getAttribute("data-gallery");switch(a=[],n){case"single":a.push({url:e});break;default:i(`[data-gallery=${n}]`).each((function(t,n){a.push({url:this.getAttribute("href"),title:this.getAttribute("data-gallery-title"),caption:this.getAttribute("data-gallery-caption")}),e===this.getAttribute("href")&&(c=n)}))}u(),f(a[c]),r.show()})),r.on("click",".lightbox__nav__prev",(function(){c<1||(c--,u(),f(a[c]))})),r.on("click",".lightbox__nav__next",(function(){c!=a.length-1&&(c++,u(),f(a[c]))})),r.on("click",".lightbox__close",(function(){r.hide(),a=[],c=0,o.empty()}))},{"dime.js/dime":1}],4:[function(t,e,n){"use strict";const i="<div class='module__table'>{posts}</div>";function r(t,e){return t.replace&&"object"==typeof e?t.replace(/\{\s*([^\|\}]+?)\s*(?:\|([^\}]*))?\s*\}/g,(function(t,n){return void 0!==e[n]?e[n]:t})):t}e.exports=function(t,e){const n=new XMLHttpRequest,{lang:o}=document.documentElement;n.onreadystatechange=function(){let t,o,s,l,a,c,u;if(4===n.readyState){if(200!==n.status)return e();try{t=JSON.parse(n.responseText),a=t.linkText,s=t.posts,o=s.shift()}catch(t){return e()}return l=document.querySelector(".hero-container"),window.g=l,l&&(l.innerHTML=r("<div class='module__media'><a href='{imgLink}' class='hero-img' target='_blank'><img src='{image}'></a></div><h3 class='title  title--alt  title--sm'>{title}</h3>{excerpt}<br/><a href='{link}' class='btn  btn--primary'><i class='fa fa-align-left'></i>{linkText}</a>",{imgLink:o.link,image:o.image||"/assets/images/news/news.default.jpg",title:o.title,link:o.link,excerpt:o.excerpt,linkText:a})),s=s.slice(0,6),s=s.map((function(t){return t&&t.title?r("<div class='module__table__cell'><div class='module__media'><a href='{imgLink}' target='_blank'><img src='{image}'></a></div><h3 class='title  title--alt  title--xs'>{title}</h3><a href='{link}' class='btn  btn--primary'><i class='fa fa-align-left'></i>{linkText}</a></div>",{imgLink:t.link,image:t.image||"/assets/images/news/news.default-thumb.jpg",title:t.title,link:t.link,linkText:a}):""})),c=s.length>0?r(i,{posts:s.slice(0,3).join("")}):"",u=s.length>3?r(i,{posts:s.slice(3,6).join("")}):"",(document.querySelector(".newsposts-container")||{}).innerHTML=c+u,e?e():void 0}},n.open("GET",`https://www.guildwars2.com/${o}/newsfeed/heart-of-thorns/`),n.setRequestHeader("Content-Type","text/plain;charset=utf-8"),n.send()}},{}],5:[function(t,e,n){"use strict";let i=t("dime.js/dime"),r=i(".masthead");i(".m-masthead__nav-toggle").on("click",(function(){r.toggleClass("state-expanded")}))},{"dime.js/dime":1}],6:[function(t,e,n){const i=new XMLHttpRequest,r=window.location.search.replace(/^.*fakeip=([^&]*)&?.*$/,"$1"),o={esrb:"http://www.esrb.org/",pegi:"http://www.pegi.info/de/index/",usk:"http://www.usk.de/"};let s,l;e.exports=s=function(){const t=l,e=o[t],n=document.querySelector(".game-menu__footer > a"),i=document.querySelector(".content-footer__legal--rating > a"),r=document.querySelector(".footer-legal-rating"),s=document.getElementsByClassName("footer__legal__image");[n,i,r].forEach((function(t){t&&(t.href=e,t.style.display="")})),s&&t&&Array.from(s).forEach((n=>{n.classList.add(`footer__${t}`),n.href=e}))},i.onreadystatechange=function(){o[i.responseText]&&(l=i.responseText),4===i.readyState&&s()},i.open("GET","https://www.guildwars2.com/ws/rating"+(r?`?fakeip=${r}`:""),!0),i.setRequestHeader("Content-Type","text/plain;charset=utf-8"),i.send()},{}]},{},[2]);
//# sourceMappingURL=mobile.js.map

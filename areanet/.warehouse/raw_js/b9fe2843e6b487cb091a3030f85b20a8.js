const HOM_config={ignore:['skin-sam-overlay','skin-sam-widget','skin-sam-widget-stack','skin-sam-tabview'],groups:{'js/':{combine:!0,comboBase:'https://2hom.staticwars.com/combo/_',root:'/js/',base:'/js/',modules:{'hom-character-search':{path:'character-search.5d64adc9.js',requires:['cookie','event','transition','gallery-boxshadow-anim','anim-easing','hom-points']},'details-page':{path:'details-page.65fc7926.js',requires:['event','tabview','hom-points','main-page','hom-points-header','hom-reward-meter','hom-points-animator','details-page-css','hom-loader-details']},'hom-item-modal':{path:'item-modal.59100bda.js',requires:['base','overlay','anim','gallery-outside-events','gallery-overlay-extras','gallery-event-nav-keys','gallery-overlay-transition']},'hom-link-btn':{path:'link-btn.5c34039a.js',requires:['event-mouseenter','anim','transition']},'hom-loader-details':{path:'loader-details.1d30b28a.js',requires:['gallery-dispatcher']},'hom-loader-main':{path:'loader-main.92c16671.js',requires:['gallery-dispatcher','node','event-custom']},'hom-loader-monitor':{path:'loader-monitor.27a16db.js',requires:['gallery-dispatcher']},'main-page':{path:'main-page.f0763edf.js',requires:['event-custom','transition','anim','hom-item-modal','hom-points-header','hom-reward-meter','hom-points','hom-points-animator','hom-loader-main','main-page-css']},'hom-page-control':{path:'page-control.3da3e336.js',requires:['base','event-delegate','history-hash','hom-points']},'hom-points-animator':{path:'points-anim.b0f4ffd3.js',requires:['node','gallery-generic-anim']},'hom-points-header':{path:'points-header.4b047ff3.js',requires:['node','hom-points','hom-todo','hom-points-animator','hom-print-btn','hom-link-btn','hom-loader-monitor']},'hom-points':{path:'points.1dd99894.js',requires:['base','arena-base64']},'hom-print-btn':{path:'print-btn.6eebd4fa.js',requires:['event-mouseenter','transition']},'print-page':{path:'print-page.5a4e56fc.js',requires:['base','node','print-page-css','io-base','hom-character-search']},'hom-reward-meter-overlay':{path:'reward-meter-overlay.6dc173d8.js',requires:['node','event-mouseenter','overlay','gallery-overlay-transition']},'hom-reward-meter':{path:'reward-meter.899e9564.js',requires:['event','transition','hom-points','gallery-generic-anim','hom-todo','hom-reward-meter-overlay','hom-loader-monitor','reward-monitor-css','icons-css']},'hom-todo':{path:'todo.906ecd95.js',requires:['base','event-mouseenter','hom-points','oop','json','cookie']},'welcome-page':{path:'welcome-page.8694a321.js',requires:['event','node','hom-character-search','hom-page-control']}}},'js/gallery/':{combine:!0,comboBase:'https://2hom.staticwars.com/combo/_',root:'/js/gallery/',base:'/js/gallery/',modules:{'gallery-boxshadow-anim':{path:'boxshadow-anim.411441ac.js',requires:['anim-base']},'gallery-dispatcher':{path:'dispatcher.b6f8b33d.js',requires:['base','node-base','io-base','get','async-queue','classnamemanager']},'gallery-generic-anim':{path:'generic-anim.f946de23.js',requires:['base','base-build']},'gallery-overlay-extras':{path:'overlay-extras.8b77c590.js',supersedes:['gallery-overlay-modal'],requires:['overlay','plugin','event-resize','event-outside']}}},'js/lib/':{combine:!0,comboBase:'https://2hom.staticwars.com/combo/_',root:'/js/lib/',base:'/js/lib/',modules:{'arena-base64':{path:'Base64Codec.2e2f6a63.js',requires:[]}}},css:{combine:!0,comboBase:'https://2hom.staticwars.com/combo/_',root:'/css/',base:'/css/',modules:{'icons-css':{path:'icons.3bdf6a84.css',type:'css'},'main-page-css':{path:'main-page.1f3c1616.css',type:'css'},'details-page-css':{path:'details-page.69272956.css',type:'css'},'reward-monitor-css':{path:'reward-monitor.66eb93b.css',type:'css'},'print-page-css':{path:'print-page.32fc1a61.css',type:'css'}}}}}
YUI.add("main-page",(function(t){"use strict";const e=t.namespace("hom");function o(){t.once("loader_main:ready",(function(){const o=e.points;this._setupBanners(),o.after("valueChange",this._attrChange,this),t.each(["devotion","fellowship","honor","resilience","valor"],(function(t){this._attrChange({newVal:o.get(t),attrName:t})}),this),e.todo.after("displayChange",this._todoDisplay,this),e.todo.after("change",this._todoUpdateColumn,this),this._todoDisplay(),o.on("updatesuccess",this.resetBanners),t.on("domready",(function(){new e.ItemModal}))}),this)}o.prototype={_leaveTime:0,resetBanners:function(){t.each(["devotion","fellowship","honor","resilience","valor"],(function(e){t.all(`#banner-${e} .bd ol li`).removeClass("(todo|active)")}))},_setupBanners:function(){const o=t.one("#main"),n=t.all("#main .highlight");n.each((function(t){t.on("transition:start",(function(t){t.config.opacity>0&&t.currentTarget.removeClass("hide")})),t.on("transition:end",(function(t){0===t.config.opacity&&t.currentTarget.addClass("hide")}))})),t.delegate("mouseenter",(function(t){const e=t.target.ancestor("li").get("id").split("-")[1];n.filter(`.highlight-${e}`).item(0).transition({duration:new Date-this._leaveTime<250?0:.2,easing:"ease-in",opacity:1})}),o,".btn-wrapper a",this),t.delegate("mouseleave",(function(t){this._leaveTime=Number(new Date);const e=t.target.ancestor("li").get("id").split("-")[1];n.filter(`.highlight-${e}`).item(0).transition({duration:.5,easing:"ease-out",opacity:0})}),o,".btn-wrapper a",this),t.delegate("click",(function(t){t.preventDefault(),e.tab=o.all(".group").indexOf(t.currentTarget.ancestor("li.group")),e.pageControl.set("page","details")}),o,"a.btn",this)},_attrChange:function(o){const n=t.one(`#banner-${o.attrName}`);e.pointsAnim(n.one(".points"),o.newVal.total);const a=n.all("ol li"),i=a.filter(".active"),s=o.newVal.total-i.size();if(0!==s){const e=new t.GenericAnim({steps:Math.abs(s)});e.on("step",(function(t){const e=s<0?a.size()-i.size()+Math.abs(t-1):a.size()-i.size()-t,o=a.item(e);o&&o[s<0?"removeClass":"addClass"]("active")})),e.run()}},_todoUpdateColumn:function(o){const n=e.todo.get("display"),a=t.one(`#banner-${o.details.section}`),i=a.one(".points"),s=a.all(".vert-bar .cell");let l="",r=o.points.complete.total;n&&(o.points.hover.total>o.points.todo.total&&o.points.hover.total>o.points.complete.total?(l="todo-hover-txt",r=o.points.hover.total):o.points.todo.total>o.points.complete.total&&(l="todo-txt",r=o.points.todo.total)),i.replaceClass("(todo-hover-txt|todo-txt)",l),e.pointsAnim(i,r),s._nodes.reverse(),s.removeClass("todo"),s.each((function(t,e){e>=o.points.complete.total&&e<r&&t.addClass("todo")}))},_todoDisplay:function(){const o=e.todo.getValues();t.each(o,(function(t,o){this._todoUpdateColumn(e.Todo.data({section:o}))}),this)}},e.pageControl.constructors.main=o}),"@VERSION@",{requires:["event-custom","transition","anim","hom-item-modal","hom-points-header","hom-reward-meter","hom-points","hom-points-animator","hom-loader-main","main-page-css"]});
!function(e){"use strict";function t(...e){return e.reduce(((e,t,r)=>{const a=r?" ":"";if(!t)return e;if("string"==typeof t)return e+a+t;if("object"!=typeof t||!Array.isArray(t))return e;const n=t[0],s=t[1],o=t[2];return n?e+a+s:o?e+a+o:e}),"")}function r(e,t,{timeout:r=5e3,add:a=!1}={}){return e&&t?new Promise(((n,s)=>{let o=!1;const i=setTimeout((()=>{o||(console.error(`Timeout occurred before animation completed: ${t}`),o=!0,s(!1))}),r);e.addEventListener("animationend",(()=>{o||(clearTimeout(i),o=!0,n(!0))}),{once:!0,passive:!0}),"http://www.w3.org/2000/svg"!==e.namespaceURI?a?e.classList.add(t):e.className=t:a?e.className.baseVal+=` ${t}`:e.className.baseVal=t})):Promise.reject(!1)}const a="mcf030af59_loadingSpinner";var n={loadingSpinner:a,loadingSpinnerFixed:"mcf030af59_loadingSpinner mcf030af59_loadingSpinnerFixed"},s={view({attrs:t}){const{fixed:r=!0}=t;return e("div[data-test=loading]",{class:r?n.loadingSpinnerFixed:n.loadingSpinner})}};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})})),r}var c,l={exports:{}};var u=(c||(c=1,function(e){e.exports=function(){var e=Object.prototype.toString;function t(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function r(e){if(!e)return!0;if(s(e)&&0===e.length)return!0;if("string"!=typeof e){for(var r in e)if(t(e,r))return!1;return!0}return!1}function a(t){return e.call(t)}function n(e){return"object"==typeof e&&"[object Object]"===a(e)}var s=Array.isArray||function(t){return"[object Array]"===e.call(t)};function o(e){return"boolean"==typeof e||"[object Boolean]"===a(e)}function i(e){var t=parseInt(e);return t.toString()===e?t:e}function c(e){var a,c,l=function(e){return Object.keys(l).reduce((function(t,r){return"create"===r||"function"==typeof l[r]&&(t[r]=l[r].bind(l,e)),t}),{})};function u(e,t){if(a(e,t))return e[t]}function d(e,t,r,a){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return d(e,t.split(".").map(i),r,a);var n=t[0],s=c(e,n);return 1===t.length?(void 0!==s&&a||(e[n]=r),s):(void 0===s&&("number"==typeof t[1]?e[n]=[]:e[n]={}),d(e[n],t.slice(1),r,a))}return a=(e=e||{}).includeInheritedProps?function(){return!0}:function(e,r){return"number"==typeof r&&Array.isArray(e)||t(e,r)},c=e.includeInheritedProps?function(e,t){"string"!=typeof t&&"number"!=typeof t&&(t=String(t));var r=u(e,t);if("__proto__"===t||"prototype"===t||"constructor"===t&&"function"==typeof r)throw new Error("For security reasons, object's magic properties cannot be set");return r}:function(e,t){return u(e,t)},l.has=function(r,a){if("number"==typeof a?a=[a]:"string"==typeof a&&(a=a.split(".")),!a||0===a.length)return!!r;for(var n=0;n<a.length;n++){var o=i(a[n]);if(!("number"==typeof o&&s(r)&&o<r.length||(e.includeInheritedProps?o in Object(r):t(r,o))))return!1;r=r[o]}return!0},l.ensureExists=function(e,t,r){return d(e,t,r,!0)},l.set=function(e,t,r,a){return d(e,t,r,a)},l.insert=function(e,t,r,a){var n=l.get(e,t);a=~~a,s(n)||(n=[],l.set(e,t,n)),n.splice(a,0,r)},l.empty=function(e,t){var i,c;if(!r(t)&&null!=e&&(i=l.get(e,t))){if("string"==typeof i)return l.set(e,t,"");if(o(i))return l.set(e,t,!1);if("number"==typeof i)return l.set(e,t,0);if(s(i))i.length=0;else{if(!n(i))return l.set(e,t,null);for(c in i)a(i,c)&&delete i[c]}}},l.push=function(e,t){var r=l.get(e,t);s(r)||(r=[],l.set(e,t,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},l.coalesce=function(e,t,r){for(var a,n=0,s=t.length;n<s;n++)if(void 0!==(a=l.get(e,t[n])))return a;return r},l.get=function(e,t,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return r;if("string"==typeof t)return l.get(e,t.split("."),r);var a=i(t[0]),n=c(e,a);return void 0===n?r:1===t.length?n:l.get(e[a],t.slice(1),r)},l.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(r(t))return e;if("string"==typeof t)return l.del(e,t.split("."));var n=i(t[0]);return c(e,n),a(e,n)?1!==t.length?l.del(e[n],t.slice(1)):(s(e)?e.splice(n,1):delete e[n],e):e},l}var l=c();return l.create=c,l.withInheritedProps=c({includeInheritedProps:!0}),l}()}(l)),l.exports),d=o(u);function p(e){const t=m.parseQueryString(location.search),r=m.buildQueryString(Object.assign({_t:Date.now()},t));return m.request({url:`/${e}.json?${r}`})}const g=["overview","settings","security/settings","content","applications"],h=["allowlist-ip","allowlist-ip/success","login/steam/return"],f=[/applications\/[0-9A-Z]{8}-[0-9A-Z]{4}-[0-9A-Z]{4}-[0-9A-Z]{4}-[0-9A-Z]{12}\/delete/,"security/2-step/sms/unlink/warning",/applications\/[0-9A-Z]{8}-[0-9A-Z]{4}-[0-9A-Z]{4}-[0-9A-Z]{4}-[0-9A-Z]{12}\/edit/];function v(e,t){return t.some((t=>!(!t.length||e!==t)||!(!t.test||!t.test(e))))}class b{constructor(){this.loaded={},this.loading=!1,this._preloading=!1,this._preloadPromise=!1,this._preloadPages=[]}preloaded(){return!1!==this._preloadPromise&&!this._preloading}preloadPages(e,t,r,a=!0){if(!this.preloaded()&&t)return this._preloading=!0,this._preloadPages=g.filter((t=>!(t in this.loaded||this.loading&&t===e||r.isSteamUser&&"security/settings"===t))),this._preloadPromise=Promise.all(this._preloadPages.map((e=>p(e).then((t=>{this.loaded[e]=!0,r.update(t)}))))).then((()=>{this._preloading=!1})).catch((e=>{console.log(e)})),this._preloadPromise}invalidateLoaded(){this._preloadPromise=!1,this.loaded={}}getState(e,t,{first:r}={}){return v(e,h)||!r&&v(e,f)?Promise.resolve():(this.loaded[e]||(this.loading=!0,m.redraw()),this._preloadPages.includes(e)&&this._preloading?(this.loading=!0,this._preloadPromise.then((()=>{this.loading=!1}))):p(e).then((r=>{if(r&&r.redirect)return r.redirect.match(/http(?:s)?:/)?void(window.location.href=r.redirect):m.route.set(r.redirect);r&&t.update(r),this.loading=!1,this.loaded[e]=!0})).catch((r=>{t.update({devReason:d.get(r,"error.devReason"),errorMessage:"requestPageState error"}),this.loading=!1,this.loaded[e]=!0,console.error(r)})))}}class w{constructor(){this.data={},this.errors={},this.valid=!0,this.errorMessage="",this.debounceErrors={}}getErrorMessage(){return this.errorMessage}setErrorMessage(e){this.errorMessage=e}clearErrorMessage(){this.errorMessage=""}clearError(){this.errorMessage="",this.errors={}}setForm({data:e=this.data,errors:t=this.errors,valid:r=this.valid}){this.data=e,this.errors=t,this.valid=r}getFormValue(e){return this.data[e]}}var y={currentModal:null,currentAttrs:{},previousModal:null,previousAttrs:{},clone:e=>Object.assign({},e),display(e,t){this.previousModal=this.clone(this.currentModal),this.previousAttrs=this.clone(this.currentAttrs),this.currentModal=e,this.currentAttrs=t},displayPrev(){this.currentModal=this.clone(this.previousModal),this.currentAttrs=this.clone(this.previousAttrs)},close(){this.previousModal=null,this.previousAttrs={},this.currentModal=null,this.currentAttrs={}}};const _="i18n.errors.general";function k({error:e={},message:t}){let r=_;e.message&&(r=e.message.includes("i18n")?e.message:`i18n.errors.${e.message}`);return{errMsg:D.getAndSub(r,["urls.troubleLoggingIn"])||D[_]}}let x=!1;const S=[];function C(){if(!window.uancsoft)return setTimeout((()=>C()),5e3);for(;S.length;)window.uancsoft(...S[0]),S.shift()}function P(...e){if("logout"!==e[0]){if(D.loggedIn&&!x)x=!0,S.push(["set","user_id",[{type:"user_id",id:D.user.user_id.toUpperCase()}]]),S.push(e);else{if("account_anet_login"===e[1])return;S.push(e)}C()}else x=!1}var L,A;var E,T,$=function(){if(A)return L;A=1;const e=/^[0-9]{17}@steam$/;return L=function(t=""){return e.test(t)},L}(),I=o($);var N=function(){if(T)return E;T=1;const e=/^\w+@epic$/;return E=function(t=""){return e.test(t)},E}(),O=o(N);const D=new class{constructor({strings:e,langs:t,lang:r,steam:a,urls:n,gameCode:s,redirect:o}){this.i18n=e,this.lang=r||"en",this.langs=t||["en","de","es","fr"],this.gameCode=s,this.china="gw2cn"===s,this.loader=new b,this.redirect=o||"",this.modal=y,this.steam=a,this.showMobileNav=!1,this.urls=n,this.twitch_id=null,this.twitch_display_name=null,this.purchaseHistory=null,this._loading=!1,this._page="",this._errorMessage="",this._containerClass="",this.form=new w}get containerClass(){return this.page.replace(/\//g,"-")}set containerClass(e){this._containerClass=e}get loggedIn(){return this.get("user.user_id")}get missingExpansions(){return Object.entries(this.gw2Features).filter((([e,t])=>t.isExp&&!t.owned)).map((([e,t])=>e))}twoStepUrl(){return"totp"===this.auth_type||"sms"===this.auth_type?`/security/2-step/${this.auth_type}/unlink/warning`:"/security/2-step"}update(e={}){!function(e,t){for(const r in t)if(t.hasOwnProperty(r))if("object"!=typeof e[r]||"object"!=typeof t[r])e[r]=t[r];else{if(Array.isArray(e[r])&&Array.isArray(t[r])){e[r]=t[r];continue}Object.assign(e[r],t[r])}}(this,e),this.setDefaults()}logout(){p("logout").then((()=>{var t;P("logout"),this.user={user_id:!1},this.setDefaults(),t="s",document.cookie=`${t}=;expires=${new Date(0).toUTCString()}`,e.route.set("/login")}))}updateState(e){return this.loader.getState(this.page,this,e)}preloadPages(e=!0){return this.loader.preloadPages(this.page,this.loggedIn,this,e)}invalidateLoaded(){this.loader.invalidateLoaded(),this.preloadPages(!1)}isPreloaded(){return this.loader.preloaded()}setDefaults(){this.hasGw1=this.hasGw1||!1,this.hasGw2=Boolean(this.gw2Features),this.gw2Features=this.gw2Features||{},this.commPrefs=this.commPrefs||{},this.appData=this.appData||{},this.allowlist=this.allowlist||[],this.logins=this.logins||[],this.showMobileNav=!1,this.twitch_id=this.loggedIn&&this.twitch_id||null,this.twitch_display_name=this.loggedIn&&this.twitch_display_name||null,this.purchaseHistory=this.loggedIn&&this.purchaseHistory||null,this.theme=this.loggedIn&&"/welcome"!==e.route.get()?localStorage.getItem("theme"):"default"}#e(t){const r=this.get("user.login_name");return r?"Steam"===t?I(r):O(r):e.route.param("provider")===t}getBuyLink(e="gw2"){let t;return t=this.isSteamUser&&"gw1"!==e?"steamBuyLinks":this.isEpicUser&&"gw1"!==e?"epicBuyLinks":"buyLinks",this.get(["urls",t,e])||this.get(["urls",t,"gw2"])}get(...e){return d.get(this,...e)}getAndSub(e,t){let r=d.get(this,e);return t.forEach((e=>{r=r.replace(`{${e}}`,d.get(this,e))})),r}get loading(){return this._loading||this.loader.loading}set loading(e){this._loading=e}get page(){return location.pathname.substr(1)}set page(e){this._page=e}clearErrorMessage(){this.form.clearErrorMessage(),this._errorMessage=""}get errorMessage(){return this.form.errorMessage||this._errorMessage}set errorMessage(e){this._errorMessage=e}get isSteamUser(){return this.#e("Steam")}get isEpicUser(){return this.#e("Epic")}get isThirdParty(){return this.isSteamUser||this.isEpicUser}get provider(){return this.isSteamUser?"Steam":this.isEpicUser?"Epic":"Portal"}set theme(e){this.loggedIn&&localStorage.setItem("theme",e),document.body.setAttribute("data-theme",e||""),this._theme=e}get theme(){return this._theme}}({strings:window.strings,langs:window.state.langs,lang:document.documentElement.lang,urls:window.state.urls,gameCode:window.state.gameCode,redirect:window.state.redirect});window.state.error&&404!==window.state.error.code&&(D.errorMessage=k({error:window.state.error}));const M={black1:"var(--black1)",grey1:"var(--grey1)",grey2:"var(--grey2)",grey3:"var(--grey3)",grey4:"var(--grey4)",grey5:"var(--grey5)",grey6:"var(--grey6)",grey7:"var(--grey7)",grey8:"var(--grey8)",grey9:"var(--grey9)",grey10:"var(--grey10)",grey11:"var(--grey11)",grey12:"var(--grey12)",grey13:"var(--grey13)",grey14:"var(--grey14)",red1:"var(--red1)",red2:"var(--red2)",red3:"var(--red3)",red4:"var(--red4)",red5:"var(--red5)",red6:"var(--red6)",red7:"var(--red7)",red8:"var(--red8)",red9:"var(--red9)",green1:"var(--green1)",green2:"var(--green2)",green3:"var(--green3)",green4:"var(--green4)",green5:"var(--green5)",purple1:"var(--purple1)",purple2:"var(--purple2)",teal1:"var(--teal1)",yellow1:"var(--yellow1)",blue1:"var(--blue1)",orange1:"var(--orange1)",orange2:"var(--orange2)",facebook:"var(--facebook)",twitter:"var(--twitter)",twitch:"var(--twitch)",moduleBg:"var(--moduleBg)",moduleShadow:"var(--moduleShadow)",text:"var(--text)",anchor:"var(--anchor)",anchorHover:"var(--anchorHover)",overlay:"var(--overlay)",toggleNub:"var(--toggleNub)",apiBorder:"var(--apiBorder)"},F={cronos:"CronosPro, Helvetica, Arial, sans-serif",eason:'EasonPro, "Times New Roman", serif',easonCaps:'EasonProDisplayCaps, EasonPro, "Times New Roman", serif'},R="0.5em",j="0.6em",B="0.8em",U="mc839d4325_errorBar",G="mc839d4325_constrained";var H={$values:{colors:M},body:"body",mount:"mount",wrap:"mc839d4325_wrap",errorBar:U,errorBarOut:"mc839d4325_errorBar mc839d4325_errorBarOut",closeError:"mc839d4325_closeError",constrained:G,errorText:"mc839d4325_constrained mc839d4325_errorText",page:"mc839d4325_constrained mc8f6ed05d_fadeIn mc839d4325_page"};const q="pure-u-1 mc2c8544e2_overlay",W="mc2c8544e2_overlayContent";var z={$values:{colors:M},overlay:q,deleteBtn:"mc2c8544e2_deleteBtn",constrained:"mc839d4325_constrained mc2c8544e2_constrained",overlayIn:"pure-u-1 mc2c8544e2_overlay mc8f6ed05d_fadeIn mc2c8544e2_overlayIn",overlayOut:"pure-u-1 mc2c8544e2_overlay mc2c8544e2_overlayOut",closeOverlay:"mc2c8544e2_closeOverlay",overlayContent:W,overlayContentIn:"mc2c8544e2_overlayContent mc839d4325_constrained mc2c8544e2_overlayContentIn",overlayContentOut:"mc2c8544e2_overlayContent mc839d4325_constrained mc2c8544e2_overlayContentOut"};function V(t){"Escape"===t.key&&(D.modal.close(),D.form.clearError(),e.redraw())}var Q={view:({state:t})=>D.modal.currentModal?e("div",{class:z.overlayIn,oninit(){window.addEventListener("keydown",V)},onbeforeremove({dom:e}){const{contentDom:a}=t;return window.removeEventListener("keydown",V),Promise.all([r(e,z.overlayOut),r(a,z.overlayContentOut)])},onclick:e=>{e.target===e.currentTarget&&(D.modal.close(),D.form.clearError(),D.postSuccess=!1)}},e("div",{class:z.overlayContentIn,oncreate({dom:e}){t.contentDom=e}},e(D.modal.currentModal,D.modal.currentAttrs))):null},K={en:{"":"",nav:{logoTitle:"ArenaNet",navlinks:[{name:"About Us",slug:"about"},{name:"Our Games",slug:"games",dropdown:[{name:"Guild Wars 2",slug:"https://www.guildwars2.com"},{name:"Guild Wars",slug:"https://www.guildwars.com"}]},{name:"Careers",slug:"careers"},{name:"Contact",slug:"contact"}],shoplink:{name:"Merchandise",slug:"https://www.guildwars2.com/en/shop/"},supportlink:{name:"Support",slug:"https://help.guildwars2.com"}},misc:{buttons:{labels:{next:"Next",prev:"Previous",openmenu:"Menu",close:"Close",play:"Play Video",readmore:"Read More"}}},footer:{followUs:"Follow Us",socials:{youtube:{label:"YouTube",href:"https://www.youtube.com/arenanet"},facebook:{label:"Facebook",href:"https://www.facebook.com/ArenaNet/"},twitter:{label:"Twitter",href:"https://twitter.com/ArenaNet"},twitch:{label:"Twitch",href:"https://twitch.tv/guildwars2"},instagram:{label:"Instagram",href:"https://instagram.com/arenanet"},tumblr:{label:"Tumblr",href:"https://guildwars2.tumblr.com"},flickr:{label:"Flickr",href:"https://flickr.com/photos/arenanet"}},links:{cookiepreferences:"Cookie Preferences",gw2:{privacy:"Privacy Policy",legal:"Legal Documentation"},gw1:{partners:"Partners",legal:"Legal Documentation",privacy:"Privacy Policy"}},esrb:{gw2:{upper:"Blood and Gore, Language, Use of Alcohol, Violence",lower:"In-Game Purchases, Users Interact"},gw1:{upper:"Animated Blood, Mild Suggestive Themes, Violence, Use of Alcohol"}},pegi:{provisional:"Provisional"},ad:{label:"Buy Now"}}},de:{"":"",nav:{logoTitle:"ArenaNet",navlinks:[{name:"\xdcber uns",slug:"about"},{name:"Unsere Spiele",slug:"games",dropdown:[{name:"Guild Wars 2",slug:"https://www.guildwars2.com/de/"},{name:"Guild Wars",slug:"https://www.guildwars.com/de/"}]},{name:"Jobs",slug:"careers"},{name:"Kontakt",slug:"contact"}],shoplink:{name:"Merchandising-Artikel",slug:"https://www.guildwars2.com/de/shop/"},supportlink:{name:"Support",slug:"https://help.guildwars2.com"}},misc:{buttons:{labels:{next:"Weiter",prev:"Zur\xfcck",openmenu:"Men\xfc",close:"Schliessen",play:"Abspielen",readmore:"Weitere Infos"}}},footer:{followUs:"Folgt Uns",socials:{youtube:{label:"YouTube",href:"https://www.youtube.com/arenanet"},facebook:{label:"Facebook",href:"https://www.facebook.com/ArenaNet/"},twitter:{label:"Twitter",href:"https://twitter.com/ArenaNet"},twitch:{label:"Twitch",href:"https://twitch.tv/guildwars2"},instagram:{label:"Instagram",href:"https://instagram.com/arenanet"},tumblr:{label:"Tumblr",href:"https://guildwars2.tumblr.com"},flickr:{label:"Flickr",href:"https://flickr.com/photos/arenanet"}},links:{cookiepreferences:"Cookie-Einstellungen",gw2:{privacy:"Datenschutzrichtlinie",legal:"Rechtliche Informationen"},gw1:{partners:"Partner",legal:"Rechtliche Informationen",privacy:"Datenschutzrichtlinie"}},esrb:{gw2:{upper:"Blood and Gore, Language, Use of Alcohol, Violence",lower:"In-Game Purchases, Users Interact"},gw1:{upper:"Animiertes Blut, Leichte Anspielungen, Gewalt, Alkoholkonsum"}},pegi:{provisional:"Provisorisch"},ad:{label:"Jetzt kaufen"}}},es:{"":"",nav:{logoTitle:"ArenaNet",navlinks:[{name:"Sobre nosotros",slug:"about"},{name:"Nuestros juegos",slug:"games",dropdown:[{name:"Guild Wars 2",slug:"https://www.guildwars2.com/es/"},{name:"Guild Wars",slug:"https://www.guildwars.com/es/"}]},{name:"Carrera",slug:"careers"},{name:"Contacto",slug:"contact"}],shoplink:{name:"Productos",slug:"https://www.guildwars2.com/es/shop/"},supportlink:{name:"Ayuda",slug:"https://help.guildwars2.com"}},misc:{buttons:{labels:{next:"Siguiente",prev:"Anterior",openmenu:"Men\xfa",close:"Cerrar",play:"Reproducir",readmore:"Seguir leyendo"}}},footer:{followUs:"S\xedguenos",socials:{youtube:{label:"YouTube",href:"https://www.youtube.com/arenanet"},facebook:{label:"Facebook",href:"https://www.facebook.com/ArenaNet/"},twitter:{label:"Twitter",href:"https://twitter.com/ArenaNet"},twitch:{label:"Twitch",href:"https://twitch.tv/guildwars2"},instagram:{label:"Instagram",href:"https://instagram.com/arenanet"},tumblr:{label:"Tumblr",href:"https://guildwars2.tumblr.com"},flickr:{label:"Flickr",href:"https://flickr.com/photos/arenanet"}},links:{cookiepreferences:"Preferencias de cookies",gw2:{privacy:"Pol\xedtica de privacidad",legal:"Documentos legales"},gw1:{partners:"Socios",legal:"Documentos legales",privacy:"Pol\xedtica de privacidad"}},esrb:{gw2:{upper:"Blood and Gore, Language, Use of Alcohol, Violence",lower:"In-Game Purchases, Users Interact"},gw1:{upper:"Animaci\xf3n de sangre, Temas insinuantes moderados, Violencia, Uso de alcohol"}},pegi:{provisional:"Provisional"},ad:{label:"Comprar ahora"}}},fr:{"":"",nav:{logoTitle:"ArenaNet",navlinks:[{name:"Qui nous sommes",slug:"about"},{name:"Nos jeux",slug:"games",dropdown:[{name:"Guild Wars 2",slug:"https://www.guildwars2.com/fr/"},{name:"Guild Wars",slug:"https://www.guildwars.com/fr/"}]},{name:"Emplois",slug:"careers"},{name:"Contact",slug:"contact"}],shoplink:{name:"Produits d\xe9riv\xe9s",slug:"https://www.guildwars2.com/fr/shop/"},supportlink:{name:"Assistance",slug:"https://help.guildwars2.com"}},misc:{buttons:{labels:{next:"Suivant",prev:"Pr\xe9c\xe9dent",openmenu:"Menu",close:"Fermer",play:"Regarder",readmore:"En savoir plus"}}},footer:{followUs:"Suivez-Nous",socials:{youtube:{label:"YouTube",href:"https://www.youtube.com/arenanet"},facebook:{label:"Facebook",href:"https://www.facebook.com/ArenaNet/"},twitter:{label:"Twitter",href:"https://twitter.com/ArenaNet"},twitch:{label:"Twitch",href:"https://twitch.tv/guildwars2"},instagram:{label:"Instagram",href:"https://instagram.com/arenanet"},tumblr:{label:"Tumblr",href:"https://guildwars2.tumblr.com"},flickr:{label:"Flickr",href:"https://flickr.com/photos/arenanet"}},links:{cookiepreferences:"Pr\xe9f\xe9rences cookie",gw2:{privacy:"Charte de confidentialit\xe9",legal:"Mentions L\xe9gales"},gw1:{partners:"Partenaires",legal:"Mentions L\xe9gales",privacy:"Charte de confidentialit\xe9"}},esrb:{gw2:{upper:"Blood and Gore, Language, Use of Alcohol, Violence",lower:"In-Game Purchases, Users Interact"},gw1:{upper:"Sang anim\xe9, Th\xe8mes suggestifs mod\xe9r\xe9s, Violence, Consommation d'alcool"}},pegi:{provisional:"Provisoire"},ad:{label:"Acheter maintenant"}}},"en-gb":{"":"",nav:{logoTitle:void 0,navlinks:[{name:" About Us",slug:"about"},{name:"Our Games",slug:"games",dropdown:[{name:"Guild Wars 2",slug:"https://www.guildwars2.com/en-gb/"},{name:"Guild Wars",slug:"https://www.guildwars.com"}]},{name:"Careers",slug:"careers"},{name:"Contact",slug:"contact"}],shoplink:{name:"Merchandise",slug:"https://www.guildwars2.com/en-gb/shop/"},supportlink:{name:"Support",slug:"https://help.guildwars2.com"}},misc:{buttons:{labels:{next:"Next",prev:"Previous",openmenu:"Menu",close:"Close",play:"Play Video",readmore:"Read More"}}},footer:{followUs:"Follow Us",socials:{youtube:{label:"YouTube",href:"https://www.youtube.com/arenanet"},facebook:{label:"Facebook",href:"https://www.facebook.com/ArenaNet/"},twitter:{label:"Twitter",href:"https://twitter.com/ArenaNet"},twitch:{label:"Twitch",href:"https://twitch.tv/guildwars2"},instagram:{label:"Instagram",href:"https://instagram.com/arenanet"},tumblr:{label:"Tumblr",href:"https://guildwars2.tumblr.com"},flickr:{label:"Flickr",href:"https://flickr.com/photos/arenanet"}},links:{cookiepreferences:"Cookie Preferences",gw2:{privacy:"Privacy Policy",legal:"Legal Documentation"},gw1:{partners:"Partners",legal:"Legal Documentation",privacy:"Privacy Policy"}},esrb:{gw2:{upper:"Blood and Gore, Language, Use of Alcohol, Violence",lower:"In-Game Purchases, Users Interact"},gw1:{upper:"Animated Blood, Mild Suggestive Themes, Violence, Use of Alcohol"}},pegi:{provisional:"Provisional"},ad:{label:"Buy Now"}}}};const Y="mcf994e7dc_footer",J=Y+" mcf994e7dc_halfFooter",Z="mcf994e7dc_footerLight",X="mcf994e7dc_pageFooterNav",ee="mcf994e7dc_navChildBar",te="mcf994e7dc_socialBar",re="mcf994e7dc_followUs",ae="mcf994e7dc_socialIcon",ne=ae+" mcf994e7dc_youtube",se=ae+" mcf994e7dc_facebook",oe=ae+" mcf994e7dc_twitter",ie=ae+" mcf994e7dc_twitch",ce=ae+" mcf994e7dc_instagram",le=ae+" mcf994e7dc_tumblr",ue=ae+" mcf994e7dc_flickr",de=ae+" mcf994e7dc_rss",pe="mcf994e7dc_pof",me="mcf994e7dc_legalFooter",ge="mcf994e7dc_logos",he="mcf994e7dc_logo",fe=he+" mcf994e7dc_nc",ve=he+" mcf994e7dc_anet",be=ve+" mcf994e7dc_anetpof",we="mcf994e7dc_rating",ye="mcf994e7dc_pegi",_e="mcf994e7dc_esrb",ke="mcf994e7dc_usk",xe="mcf994e7dc_navCleanup",Se="mcf994e7dc_ncFooter",Ce="mcf994e7dc_pageFooterNavContainer";var Pe,Le,Ae,Ee,Te,$e,Ie,Ne,Oe={footer:Y,halfFooter:J,footerLight:Z,pageFooterNav:X,navChildBar:ee,socialBar:te,followUs:re,socialIcon:ae,youtube:ne,facebook:se,twitter:oe,twitch:ie,instagram:ce,tumblr:le,flickr:ue,rss:de,pof:pe,legalFooter:me,logos:ge,logo:he,nc:fe,anet:ve,anetpof:be,rating:we,pegi:ye,esrb:_e,usk:ke,navCleanup:xe,ncFooter:Se,pageFooterNavContainer:Ce},De=i(Object.freeze({__proto__:null,anet:ve,anetpof:be,default:Oe,esrb:_e,facebook:se,flickr:ue,followUs:re,footer:Y,footerLight:Z,halfFooter:J,instagram:ce,legalFooter:me,logo:he,logos:ge,navChildBar:ee,navCleanup:xe,nc:fe,ncFooter:Se,pageFooterNav:X,pageFooterNavContainer:Ce,pegi:ye,pof:pe,rating:we,rss:de,socialBar:te,socialIcon:ae,tumblr:le,twitch:ie,twitter:oe,usk:ke,youtube:ne}));function Me(){if(Le)return Pe;Le=1;const t=e,r=K,a=De;return Pe={view(e){const n=r[e.attrs.lang].footer.esrb[e.attrs.footerLinks];return t("div",{class:a.rating,"data-test":"esrb-rating"},t("a",{class:a.esrb,href:"https://www.esrb.org",target:"_blank","aria-label":"esrb"},"esrb"),t("div",t("ul",n.upper.split(",").map((e=>t("li",e.trim())))),n.lower&&[t("hr"),t("ul",n.lower.split(",").map((e=>t("li",e.trim()))))]))}}}function Fe(){if(Ee)return Ae;Ee=1;const t=e,r=De;return Ae={view:()=>t("div",{class:r.rating,"data-test":"pegi-rating"},t("a",{class:r.pegi,href:"https://www.pegi.info",target:"_blank","aria-label":"pegi"},"pegi"))}}function Re(){if($e)return Te;$e=1;const t=e,r=De;return Te={view:e=>t("div",{class:r.rating,"data-test":"usk-rating"},t("a",{class:r.usk,href:"https://www.usk.de",target:"_blank","aria-label":"usk"},"usk"))}}function je(){if(Ne)return Ie;Ne=1;function e(e,t,r,a){(window.dataLayer||[]).push({event:"event",eventCategory:a||"anet2",eventAction:e,eventLabel:t,eventValue:r})}return Ie={event:e,clickTracker:function(){const t=document.querySelectorAll("[data-ga-event]");Array.prototype.forEach.call(t,(t=>{t.addEventListener("click",(t=>{e(t.target.dataset.gaAction||"click",t.target.dataset.gaLabel||t.target.text,t.target.dataset.gaValue||1,t.target.dataset.gaCategory)}))}))},pageView:function(e,t){(window.dataLayer||[]).push({event:"pageview",url:e,title:t})},scrollHandler:function(t){const r=document.getElementsByTagName("section");Array.prototype.forEach.call(r,(r=>{const a=Date.now(),n=r.getBoundingClientRect().top<window.innerHeight,s=!r.dataset.gaTriggered||parseInt(r.dataset.gaTriggered,10)+3e4<a;n&&s&&(r.dataset.gaTriggered=a,e("Section view",`${r.id.charAt(0).toUpperCase()+r.id.slice(1)}`,"",`${t} Page`))}))}},Ie}var Be,Ue,Ge={en:{copyright:"\xa9{year} ArenaNet, LLC. All rights reserved. All trademarks are the property of their respective owners."},de:{copyright:"\xa9{year} ArenaNet, LLC. Alle Rechte vorbehalten. Alle Warenzeichen sind das Eigentum ihrer jeweiligen Besitzer."},es:{copyright:"\xa9{year} ArenaNet, LLC. Reservados todos los derechos. Todas las marcas comerciales son propiedad de sus respectivos due\xf1os."},fr:{copyright:"\xa9{year} ArenaNet, LLC. Tous droits r\xe9serv\xe9s. Toutes les marques d\xe9pos\xe9es sont la propri\xe9t\xe9 de leurs propri\xe9taires respectifs."},"en-gb":{copyright:"\xa9{year} ArenaNet, LLC. All rights reserved. All trademarks are the property of their respective owners."}},He={dimebar:{forums:{en:"https://en-forum.guildwars2.com",de:"https://de-forum.guildwars2.com",es:"https://es-forum.guildwars2.com",fr:"https://fr-forum.guildwars2.com","en-gb":"https://en-forum.guildwars2.com"},support:{en:"https://help.guildwars2.com/hc/en",de:"https://help.guildwars2.com/hc/de",es:"https://help.guildwars2.com/hc/es",fr:"https://help.guildwars2.com/hc/fr","en-gb":"https://help.guildwars2.com/hc/en"},wiki:{en:"https://wiki-en.guildwars2.com",de:"https://wiki-de.guildwars2.com",es:"https://wiki-es.guildwars2.com",fr:"https://wiki-fr.guildwars2.com","en-gb":"https://wiki-en.guildwars2.com"},login:{en:"https://account.arena.net",de:"https://account.arena.net",es:"https://account.arena.net",fr:"https://account.arena.net","en-gb":"https://account.arena.net"}},download:"https://account.arena.net/welcome",socials:{youtube:{en:"https://www.youtube.com/GuildWars2",de:"https://www.youtube.com/GuildWars2",es:"https://www.youtube.com/GuildWars2",fr:"https://www.youtube.com/GuildWars2","en-gb":"https://www.youtube.com/GuildWars2"},facebook:{en:"https://www.facebook.com/GuildWars2",de:"https://www.facebook.com/GuildWars2",es:"https://www.facebook.com/GuildWars2",fr:"https://www.facebook.com/GuildWars2","en-gb":"https://www.facebook.com/GuildWars2"},twitter:{en:"https://twitter.com/GuildWars2",de:"https://twitter.com/GuildWars2_DE",es:"https://twitter.com/GuildWars2_ES",fr:"https://twitter.com/GuildWars2_FR","en-gb":"https://twitter.com/GuildWars2"},twitch:{en:"https://twitch.tv/guildwars2",de:"https://twitch.tv/guildwars2",es:"https://twitch.tv/guildwars2",fr:"https://twitch.tv/guildwars2","en-gb":"https://twitch.tv/guildwars2"},instagram:{en:"https://instagram.com/guildwars2",de:"https://instagram.com/guildwars2",es:"https://instagram.com/guildwars2",fr:"https://instagram.com/guildwars2","en-gb":"https://instagram.com/guildwars2"},tumblr:{en:"https://guildwars2.tumblr.com",de:"https://guildwars2.tumblr.com",es:"https://guildwars2.tumblr.com",fr:"https://guildwars2.tumblr.com","en-gb":"https://guildwars2.tumblr.com"},flickr:{en:"https://www.flickr.com/photos/arenanet",de:"https://www.flickr.com/photos/arenanet",es:"https://www.flickr.com/photos/arenanet",fr:"https://www.flickr.com/photos/arenanet","en-gb":"https://www.flickr.com/photos/arenanet"}},footer:{gw2:{privacy:"https://arena.net/legal/privacy-policy",legal:"https://arena.net/legal"},gw1:{partners:"/{lang}/partners",privacy:"/{lang}/privacy-policy",legal:"https://arena.net/legal"}}};var qe=function(){if(Ue)return Be;Ue=1;const t=e,r=Me(),a=Fe(),n=Re(),s=De,o=je().event,i=K,c=Ge,l=He,u={esrb:r,pegi:a,usk:n};let d;const p={view(e){const r=d?t.route.link:null;return t("a",Object.assign({oncreate:r,onupdate:r},e.attrs),e.children)}};return Be={oninit(e){const{lang:t,curDate:r,routeLink:a}=e.attrs;d=a;const n=i[t]||i.en,s=c[t]||c.en;e.state.i18n=n,e.state.navs=n.nav.navlinks,e.state.followLinks=Object.keys(n.footer.socials),e.state.copyrightWithYear=s.copyright.replace("{year}",r)},oncreate(){document.dispatchEvent(new Event("anetfooter-loaded"))},view(e){const{lang:r,rating:a,routeLink:n,noSocial:i,showNav:c,theme:d="",light:m=!1,footerLinks:g="gw2",nc:h=!1}=e.attrs,{followLinks:f,i18n:v,navs:b,copyrightWithYear:w}=e.state;return t("div",{class:[c||i?null:s.navCleanup,!c&&i?s.halfFooter:s.footer,m?s.footerLight:"",h?s.ncFooter:""].join(" "),"data-test":"footer"},c||!i?[t("ul",{class:s.pageFooterNav},Object.keys(b).map((e=>t("li",t(p,{href:`${n?"":"https://www.arena.net"}/${r}/${b[e].slug}`,"data-ga-event":"","data-ga-category":"Footer"},b[e].name)))),t("li",t("a",{href:v.nav.shoplink.slug,target:"_blank",rel:"noreferrer","data-ga-event":"","data-ga-category":"Footer"},v.nav.shoplink.name))),i?null:t("div",{class:`${s[d]} ${s.socialBar}`},t("p",{class:s.followUs},v.footer.followUs),f.map((e=>t("a",{onclick(){o("Social Media",v.footer.socials[e].label,1,"Footer")},class:s[e],href:l.socials[e][r],target:"_blank",rel:"noreferrer","aria-label":v.footer.socials[e].label}))))]:null,t("div",{class:s.logos},h?t(p,{class:s.nc,href:""+(n?"":"https://www.ncsoft.com"),"data-ga-event":"","data-ga-category":"Footer","aria-label":"NCSoft Home"},"NCSoft"):null,t(p,{class:`${s.anet} ${s[`anet${d}`]}`,href:""+(n?"":"https://www.arena.net"),"data-ga-event":"","data-ga-category":"Footer","aria-label":"ArenaNet Home"},"ArenaNet")),t("div",{class:s.legalFooter},t("div",t("a",{href:"#ShowCookiePreferences",onclick:function(e){e.preventDefault();const t=window.arenanetCookieNotification;t&&t.toggle&&t.toggle()}},v.footer.links.cookiepreferences),Object.entries(l.footer[g]).map((([e,a])=>{const n=a.replace("{lang}",r),s=v.footer.links[g][e];return t(a.includes("https")?"a":p,{href:n},s)}))),t("p",w)),a&&u[a]?t(u[a],{lang:r,theme:d,footerLinks:g}):null)}},Be}(),We=o(qe);const ze="mc297c7e88_anetDimebar",Ve=ze+" mc297c7e88_anetDimebarAbs",Qe="mc297c7e88_wrapper",Ke="mc297c7e88_siteNav",Ye="mc297c7e88_primaryNav",Je="mc297c7e88_secondaryNav",Ze="mc297c7e88_downloadBtn",Xe="mc297c7e88_anetLogo",et="mc297c7e88_langSelectBar",tt="mc297c7e88_currentLang",rt="mc297c7e88_hideable";var at,nt,st={anetDimebar:ze,anetDimebarAbs:Ve,wrapper:Qe,siteNav:Ke,primaryNav:Ye,secondaryNav:Je,downloadBtn:Ze,anetLogo:Xe,langSelectBar:et,currentLang:tt,hideable:rt},ot=i(Object.freeze({__proto__:null,anetDimebar:ze,anetDimebarAbs:Ve,anetLogo:Xe,currentLang:tt,default:st,downloadBtn:Ze,hideable:rt,langSelectBar:et,primaryNav:Ye,secondaryNav:Je,siteNav:Ke,wrapper:Qe})),it={en:{"":void 0,nav:{logoTitle:"ArenaNet",navlinks:[{name:"About Us",slug:"about"},{name:"Our Games",slug:"games"},{name:"Careers",slug:"careers"}],shoplink:{name:"Merchandise",slug:"https://www.guildwars2.com/en/shop/"},dimebar:{forums:"Forums",wiki:"Wiki",support:"Support",login:"Sign in",account:"Account",logout:"Logout",register:"Register"}}},de:{"":void 0,nav:{logoTitle:"ArenaNet",navlinks:[{name:"\xdcber uns",slug:"about"},{name:"Unsere Spiele",slug:"games"},{name:"Jobs",slug:"careers"}],shoplink:{name:"Merchandising-Artikel",slug:"https://www.guildwars2.com/de/shop/"},dimebar:{forums:"Foren",wiki:"Wiki",support:"Support",login:"Login",account:"Account",logout:"Ausloggen",register:"Registrieren"}}},es:{"":void 0,nav:{logoTitle:"ArenaNet",navlinks:[{name:"Sobre nosotros",slug:"about"},{name:"Nuestros juegos",slug:"games"},{name:"Carrera",slug:"careers"}],shoplink:{name:"Productos",slug:"https://www.guildwars2.com/es/shop/"},dimebar:{forums:"Foros",wiki:"Wiki",support:"Ayuda",login:"Iniciar sesi\xf3n",account:"Cuenta",logout:"Cerrar Sesi\xf3n",register:"Registro"}}},fr:{"":void 0,nav:{logoTitle:"ArenaNet",navlinks:[{name:"Qui nous sommes",slug:"about"},{name:"Nos jeux",slug:"games"},{name:"Emplois",slug:"careers"}],shoplink:{name:"Produits d\xe9riv\xe9s",slug:"https://www.guildwars2.com/fr/shop/"},dimebar:{forums:"Forums",wiki:"Wiki",support:"Assistance",login:"Se connecter",account:"Compte",logout:"D\xe9connexion",register:"S'inscrire"}}},"en-gb":{"":void 0,nav:{logoTitle:void 0,navlinks:[{name:" About Us",slug:"about"},{name:"Our Games",slug:"games"},{name:"Careers",slug:"careers"}],shoplink:{name:"Merchandise",slug:"https://www.guildwars2.com/en-gb/shop/"},dimebar:{forums:"Forums",wiki:"Wiki",support:"Support",login:"Sign in",account:"Account",logout:"Logout",register:"Register"}}}};var ct=function(){if(nt)return at;nt=1;const t=e,r=ot,a=je(),n=it,s=He,o=["forums","wiki"];return at={oninit(e){const{lang:t,langs:r}=e.attrs,a=0===t.indexOf("en-")?"en":t,s=n[a]||n.en;e.state.i18nLang=a,e.state.i18n=s,e.state.otherLangs=r.filter((e=>e!==t)),e.state.dimebarLeft=s.nav.navlinks,e.state.dimebarLeftKeys=Object.keys(e.state.dimebarLeft),e.state.dimebarRight=s.nav.dimebar,e.state.dimebarRightKeys=Object.keys(e.state.dimebarRight)},oncreate(){a.clickTracker(),document.dispatchEvent(new Event("anetdimebar-loaded"))},view(e){const{pageName:a,excludeDimebar:n,position:i,opacity:c,lang:l}=e.attrs,{dimebarLeft:u,dimebarLeftKeys:d,dimebarRight:p,dimebarRightKeys:m,otherLangs:g,i18n:h,i18nLang:f}=e.state;let{pathname:v}=window.location;return t("nav",{class:"absolute"===i?r.anetDimebarAbs:r.anetDimebar,"data-title":h.logoTitle,"aria-label":"ArenaNet Menu","data-test":"dimebar",style:`opacity:${c||1}`},t("div",{class:r.wrapper},t("div",{class:r.primaryNav},t("a",{class:r.anetLogo,href:`https://www.arena.net/${f}`,"data-ga-event":"","data-ga-category":"Header"},t("img",{src:"https://account.staticwars.com/services/2bumpers/img/arenanet-color.34ce7b81-svc.svg",alt:"ArenaNet"})),d.map((e=>t("a",{href:`https://www.arena.net/${f}/${u[e].slug}`,"data-ga-event":"","data-ga-category":"Header","data-selected":a===u[e].slug?"current":""},u[e].name))),t("a",{href:`${h.nav.shoplink.slug}`,target:"_blank",rel:"noreferrer","data-ga-event":"","data-ga-category":"Header"},h.nav.shoplink.name)),t("ul",{class:r.secondaryNav},n?null:m.filter((t=>{const r=!1===e.attrs[t],a=!s.dimebar[t]&&!e.attrs[t];return!(r||a)})).map((a=>{const n=Object.assign({"data-ga-event":"","data-ga-category":"dimebar","data-test":a},e.attrs[a]||{href:s.dimebar[a]?.[f]||e.attrs[a],target:"_blank",rel:"noopener"});let i=p[a];return"login"!==a||window.location.href.includes("account")||e.attrs.login||(i=p.account),t("li",{class:o.includes(a)?r.hideable:""},t("a",n,i))})),g.length?t("li",{class:r.langSelectBar},t("a",{class:r.currentLang,onmouseover(){v=window.location.pathname}},l),g.map((e=>t("a",{href:v.replace(l,e)},e)))):null)))}},at}(),lt=o(ct),ut={view:()=>e(We,{lang:D.lang,rating:D.rating,noSocial:!0,curDate:(new Date).getFullYear()})},dt={view(){const t=e.route.get(),r=t.includes("register"),a=t.includes("login");return e(lt,{lang:D.lang,langs:[],login:!D.loggedIn&&!a&&{oncreate:e.route.link,href:"/login"},logout:!!D.loggedIn&&{href:"/logout",onclick(e){e.preventDefault(),D.logout()}},register:!D.loggedIn&&!r&&{oncreate:e.route.link,href:"/register"}})}};const pt=["register","unsubscribe","subscribed","welcome"];function mt(){const t=e.route.get().split("?")[0];return!D.loggedIn||pt.some((e=>t.includes(e)))}var gt={header:"mcc4e79aa8_header","pure-menu":"pure-menu","pure-menu-horizontal":"pure-menu-horizontal","pure-menu-scrollable":"pure-menu-scrollable","pure-menu-link":"pure-menu-link",hdActions:"pure-u-1 pure-u-sm-5-24 pure-menu pure-menu-horizontal serifCaps mcc4e79aa8_hdActions",constrained:"mc839d4325_constrained mcc4e79aa8_constrained",external:"pure-u-1 pure-u-sm-19-24 pure-menu pure-menu-horizontal pure-menu-scrollable serifCaps mcc4e79aa8_external",headerArt:"mc8f6ed05d_fadeIn mcc4e79aa8_headerArt",anetLogo:"mcc4e79aa8_anetLogo"},ht={view:()=>mt()?null:e("div",{class:gt.headerArt},e("div",{class:gt.constrained},e("a",{class:gt.anetLogo,oncreate:e.route.link,href:D.loggedIn?"/overview":"/login"},e("img",{src:"https://account.staticwars.com/img/logo-red-white.5996ee85.svg",alt:"ArenaNet"}))))},ft={view:({attrs:t,children:r})=>e("a",Object.assign({oncreate:e.route.link},t),r)};var vt={$values:{colors:M,cronos:F.cronos,eason:F.eason,easonCaps:F.easonCaps,fonts:F},nav:"mc839d4325_constrained mc8f6ed05d_fadeIn mc4e35d4e6_nav",selected:"mc4e35d4e6_selected","sel-1":"mc4e35d4e6_sel-1","sel-2":"mc4e35d4e6_sel-2","sel-3":"mc4e35d4e6_sel-3","sel-4":"mc4e35d4e6_sel-4","sel--1":"mc4e35d4e6_sel--1",mobileNavHeader:"mc4e35d4e6_mobileNavHeader",showMobileNav:"mc4e35d4e6_showMobileNav",menuIcon:"mc4e35d4e6_menuIcon"};const bt=[{key:"overview",url:"/overview"},{key:"settings",url:"/settings"},{key:"security",url:"/security/settings"},{key:"content",url:"/content"},{key:"applications",url:"/applications"}];var wt={view({state:r}){const a=e.route.get(),n=bt.filter((({key:e})=>!((D.isSteamUser||D.isEpicUser)&&"security"===e))),s=100/n.length,o=n.findIndex((e=>"/security/settings"===e.url?a.startsWith("/security"):a.startsWith(e.url))),i=-1===o;return mt()?null:e("div",{class:vt.nav},e("div",{class:vt.mobileNavHeader},!i&&e("h2",D.i18n.nav[n[o].key]),e("button",{class:vt.menuIcon,"aria-haspopup":"true","aria-expanded":r.showMobileNav,"aria-label":D.i18n.ui.menu,onclick(){D.showMobileNav=!D.showMobileNav}})),e("nav",{class:t(vt[`sel-${o}`],[D.showMobileNav,vt.showMobileNav])},n.map((({key:t,url:r},a)=>e(ft,{class:a===o?vt.selected:"","data-test":`${t}Nav`,href:r,style:{flexBasis:`${s}%`}},D.i18n.nav[t]))),e("hr",{style:{width:`calc(${s}% - 1px)`}})))}},yt={view({children:a}){const n=D.get("regTheme.name")||"",o=D.devReason||D.errorMessage.message;return[e("div",{class:t(D.containerClass,n,H.wrap)},e(dt),e(ht),D.errorMessage?e("div",{class:H.errorBar,"data-test":"errorBar",onbeforeremove:({dom:e})=>r(e,H.errorBarOut)},e("div",{class:H.errorText,"data-test":"errorText"},e.trust(D.errorMessage.errMsg||D.errorMessage)),o&&e("pre",JSON.stringify(JSON.parse(o),null,4)),e("button",{class:H.closeError,"data-test":"closeError","aria-label":D.i18n.ui.close,onclick:()=>D.clearErrorMessage()},"\xd7")):null,e(wt),e("div.body",D.loading?e(s):e("div",{class:H.page,"data-test":"page"},a)),e(ut)),e(Q)]}};const _t=D.i18n;var kt,xt={view:({attrs:t,children:r})=>e("div",{class:["module",t.class].join(" ")},e("button",{class:z.closeOverlay,onclick(e){e.preventDefault(),D.modal.close(),D.form.clearError(),D.postSuccess=!1},"aria-label":_t.ui.close},"\ud83d\uddd9"),r)},St={exports:{}};function Ct(){return kt||(kt=1,function(e,t){!function(t,r){var a=function(e){var t=typeof e;switch(null===e&&(t="null"),t){case"number":return isFinite(e);case"null":case"undefined":return!1;default:return Boolean(t)}},n=function(){for(var e,t,r=0,a=arguments.length,n={};r<a;++r)for(e in t=arguments[r])t.hasOwnProperty(e)&&(n[e]=t[e]);return n};function s(){return!1}function o(e){return"function"==typeof e?e:r._tests[e]?r._tests[e]:((console.error||console.log)("Unknown test "+JSON.stringify(e)+"\n{"+(new Error).stack+"}"),s)}function i(e){return"string"==typeof e._value&&r.regexes[e.test].test(e._value)}function c(e){return e.optional&&(!a(e._value)||""===e._value)}r={regexes:{email:/\S+@\S+\.\S{2,}$/,guid:/^[A-Fa-f0-9]{32}$|^(\{|\()?[A-Fa-f0-9]{8}-([A-Fa-f0-9]{4}-){3}[A-Fa-f0-9]{12}(\}|\))?$/,login:/\S+@(?:\S+\.\S+|ncsoft|plaync|ncjapan)$|\\/,digits:/^\d+$/},_error:"__gw2-error__",_tests:{email:i,guid:i,login:i,digits:i,int:function(e){return!isNaN(parseInt(e._value,10))},number:function(e){return!isNaN(Number(e._value))},compare:function(e){var t,r=e._value,n=a(e.compare)?e.compare:this[e.field];if(e.optional&&!a(n))return!0;switch(e.comparison){case"<":t=r<n;break;case"<=":t=r<=n;break;case">":t=r>n;break;case">=":t=r>=n;break;case"!=":t=r!=n;break;case"===":t=r===n;break;default:t=r==n}return t},length:function(e){var t,r=e._value,a=e.length;switch(e.comparison){case"<":t=r.length<a;break;case"<=":t=r.length<=a;break;case"==":t=r.length==a;break;case">":t=r.length>a;break;default:t=r.length>=a}return t},passthrough:function(){return!0},value:function(e){return!!a(e._value)&&("string"!=typeof e._value||Boolean(e._value.length))},boolString:function(e){return!!a(e._value)&&("string"==typeof e._value&&("true"===e._value.toLowerCase()||"false"===e._value.toLowerCase()))},schema:function(e){return!(!e._value||!e.schema)&&r.validate(e._value,e.schema).valid}},validate:function(e,t){var r={valid:!1,data:{},errors:{}};return e&&"object"==typeof t&&"object"==typeof e?(Object.keys(t).forEach((function(n){var s=e[n],i=t[n];if(a(s))if(r.data[n]=s,Array.isArray(i)||Array.isArray(i.tests))(i.tests||i).some((function(t){if("string"==typeof t||"function"==typeof t?t={test:t,_value:s}:"object"==typeof t&&(t._value=s),!c(t))return!o(t.test).call(e,t)&&(r.errors[n]=t,!0)}));else if("object"==typeof i){if(i.test||(i={test:i}),i._value=s,c(i))return;o(i.test).call(e,i)||(r.errors[n]=i)}else o((i={test:i,_value:s}).test).call(e,i)||(r.errors[n]=i);else i.optional||(r.errors[n]="invalid-data")})),r.valid=!Object.keys(r.errors).length,r):r},error:function(e,t,r){return"object"!=typeof e||(e.errors||(e.errors={}),e.valid=!1,e.errors[t]={test:r||"force",_value:e.data&&a(e.data[t])?e.data[t]:null}),e},test:function(e,t,r){var a=n(r||{},{test:e,_value:t});return o(e).call(this,a)},add:function(e,t){return!(e in r._tests)&&(r._tests[e]=t,!0)},addRegex:function(e,t){var a=r.add(e,i);return a&&(r.regexes[e]=t),a}},e.exports=r}()}(St)),St.exports}var Pt=o(Ct());const Lt=["input:","input:tel","input:text","input:hidden","input:file","input:password","input:number","input:email","textarea:","textarea:textarea","select:","select:select-one"];function At(e){const t={};return"form"===e.nodeName.toLowerCase()&&(Array.prototype.forEach.call(e.elements,(e=>{const r=function(e){const t=e.getAttribute("type"),r=null!==e.getAttribute("data-checkbox2"),a={type:`${e.nodeName.toLowerCase()}:${t?t.toLowerCase():""}`,name:e.getAttribute("name")};return Lt.includes(a.type)?a.value=e.value:"select:select-multiple"===a.type?a.value=Array.prototype.filter.call(e.options,(e=>e.selected)):"input:radio"===a.type||"input:checkbox"===a.type&&!r?e.checked?a.value=e.value:delete a.name:"input:checkbox"===a.type&&r&&(a.value=e.checked.toString()),a}(e);r.value&&r.name in t?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r.value)):r.name&&(t[r.name]=r.value)})),t)}async function Et({action:e}){await async function(){return new Promise(((e,t)=>{const r=setTimeout((()=>t(new Error("Recaptcha timed out"))),5e3);grecaptcha.enterprise.ready((()=>{clearTimeout(r),e()}))}))}();const t=document.getElementById("antifraud-recaptcha").getAttribute("data-key");return grecaptcha.enterprise.execute(t,{action:e})}var Tt,$t,It,Nt;var Ot=function(){if(Nt)return It;Nt=1;const e=$t?Tt:($t=1,Tt=Ct()),t=/[a-zA-Z0-9\/\=\+]{28}/,r=["value","digits",{test:"length",length:6,comparison:"=="}],a=["value","digits",{test:"length",length:5,comparison:"=="}],n=["value",{test:"length",length:8},{test:"length",comparison:"<=",length:64}],s={test:"compare",field:"password"};return e.add("phoneFormat",(e=>{if(!e._value)return!1;const t=String(e._value).replace(/[^0-9]/gi,"").length;return t>=3&&t<=20})),e.add("codeFormat",(e=>!e._value||25===e._value.replace(/[^A-Z0-9]/gi,"").length)),e.add("displayname",(e=>{const t=String(e._value||"").trim();let r=!/\s{2,}/.test(t);return r&&(r=/^[A-Z\s]{3,27}$/gi.test(t)),r})),e.add("openidResponse_nonce",(e=>{const r=e._value.indexOf("Z"),a=e._value.slice(0,r+1),n=e._value.slice(r+1);return!isNaN(Date.parse(a))&&t.test(n)})),e.addRegex("openidSig",t),e.addRegex("openidId",/https:\/\/steamcommunity\.com\/openid\/id\/[0-9]+/),e.add("openidReturn_to",(e=>{const[t]=e._value.split("?");return["http://account.local.ncplatform.net/login/steam/return","https://account-dev.ncplatform.net/login/steam/return","https://account-stage.ncplatform.net/login/steam/return","https://account.arena.net/login/steam/return"].includes(t)})),e.add("lang",(e=>["en","de","es","fr"].includes(e._value))),It={login:{email:"login",password:"value"},steamLogin:{"openid.ns":{test:"compare",compare:"http://specs.openid.net/auth/2.0",comparison:"==="},"openid.mode":{test:"compare",compare:"id_res",comparison:"==="},"openid.op_endpoint":{test:"compare",compare:"https://steamcommunity.com/openid/login",comparison:"==="},"openid.claimed_id":"openidId","openid.identity":"openidId","openid.return_to":"openidReturn_to","openid.response_nonce":"openidResponse_nonce","openid.assoc_handle":{test:"compare",compare:"1234567890",comparison:"==="},"openid.signed":{test:"compare",compare:"signed,op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle",comparison:"==="},"openid.sig":"openidSig",redirect_uri:{test:"value",optional:"true"}},login_wait_totp:{otp:r,allowlist:{test:"value",optional:!0}},login_wait_sms:{otp:a,allowlist:{test:"value",optional:!0}},login_wait_email:{otp:["value","digits",{test:"length",length:5,comparison:"=="}],allowlist:{test:"value",optional:!0}},register:{code:"codeFormat",email:["value","email"],password:n,password2:s,displayname:["value","displayname"],eula:{test:"value"}},email:{email:["login"]},"add-code":{code:["value","codeFormat"]},"totp-link":{otp:r,secret:"value",allowlist:{test:"passthrough",optional:!0}},"totp-remove":{otp1:r,otp2:r},"sms-verify":{phone:["value","phoneFormat"],countryCode:["value","digits"],type:"value"},"sms-link":{allowlist:{test:"passthrough",optional:!0},otp:a},"sms-remove":{otp1:a},"link-accounts":{email:"email",password:"value"},"password-reset-totp":{otp:r},"password-reset-sms":{otp:a},"password-reset-recovery-keycharacter":{character:["value",{test:"length",length:3}],key:["value","codeFormat"]},"password-reset-recovery-character":{character:["value",{test:"length",length:3}]},"password-reset":{email:"email"},"password-reset-confirm":{email:{test:"email",optional:!0},password:n,password2:s},"change-pw":{old:"passthrough",password:n,password2:s},"change-displayname":{displayname:["value","displayname"]},"change-accountname":{email:["value","email"],password:n},"change-realname":{realname:["passthrough"]},"change-phone":{phone:[{test:"phoneFormat",optional:!0},{test:"length",comparison:"<=",length:20}]},unsubscribe:{email:"email"},commPrefs:{email:{test:"email",optional:!0},anet:["value","boolString"],gw2:["value","boolString"],gw:["value","boolString"],signupUrl:"value",lang:"lang"},commPrefsSignup:{email:"email",signupUrl:"value"},apikey:{name:"value"}}}(),Dt=o(Ot);function Mt(e){const t=document.createElement("a");return t.href=e,{host:t.host,path:t.pathname,search:t.search}}function Ft({action:e,method:t="POST",fields:r}){const a=document.createElement("form");a.method="post",a.action=decodeURIComponent(e),a.style.display="none";for(const e in r){const t=document.createElement("input");t.type="hidden",t.name=e,t.value=r[e],a.appendChild(t)}document.body.appendChild(a),a.submit()}function Rt({err:t,errorMessage:r=k(t)}){D.form.setErrorMessage(r),D.loading=!1,e.redraw()}async function jt(t,r){r.preventDefault();const a=r.currentTarget,n=Mt(a.action),s=At(a);if(s._formName in Dt){const e=Pt.validate(s,Dt[s._formName]);if(!e.valid)return D.form.setForm(e),Rt({errorMessage:D.i18n.errors.invalidFields})}try{t.iovation&&Object.assign(s,function(){const{blackbox:e,finished:t}=window?.IGLOO?.getBlackbox?.()||{};return{blackbox:e,finished:t}}()),t.recaptcha&&(s.captcha=await Et(t.recaptcha))}catch(e){return Rt({err:e})}D.form.clearErrorMessage(),D.loading=!0,e.request({method:a.method,url:`${n.path}.json${n.search}`,data:s,deserialize(e){let t;try{t=JSON.parse(e)}catch(r){t=e}return t}}).then((r=>{if(r.redirect){if("POST"===r.redirect.method)return void Ft(r.redirect);if(Mt(r.redirect).host!==Mt(window.location).host)return void(window.location=r.redirect);e.route.set(r.redirect)}else D.update(r),e.redraw();D.loading=!1,D.invalidateLoaded(),t.onSuccess&&t.onSuccess(r)})).catch((e=>Rt({err:e})))}function Bt(t,r=!1){const a=At(t),n=Pt.validate(a,Dt[a._formName]);return function({errors:e}){Object.keys(e).forEach((t=>{e[t]._value||delete e[t]}))}(n),Object.keys(n.errors).length||D.form.setForm(n),r&&(window.clearTimeout(D.form.debounceErrors[a._formName]),D.form.debounceErrors[a._formName]=window.setTimeout((()=>{D.form.setForm(n),e.redraw()}),50)),n}function Ut(e){return e.preventDefault(),Bt(e.target.form,"input"===e.type)}function Gt(e={}){return Object.assign({oninput:Ut,onchange:Ut,onsubmit:jt.bind(null,e),onkeydown(t){"Enter"===t.key&&(t.metaKey||t.ctrlKey)&&jt(e,t)}},e)}var Ht="mcc9791d9e_tooltip",qt={view({attrs:r,children:a}){const{style:n}=r;return e("div",{class:t(Ht,[n,n])},a)}};const Wt="mc603867f7_rules";var zt={errIcon:"mc603867f7_errIcon","pure-checkbox":"pure-checkbox","pure-radio":"pure-radio",rules:Wt,rulesFocused:"mc603867f7_rules mc603867f7_rulesFocused"},Vt={view:()=>m("i",{class:zt.errIcon})};const Qt={view:({attrs:t})=>e(t.attrs.href?"a":"button",t.attrs,t.strings)},Kt=["strings","labelClass","tooltipExtra"];var Yt={oninit:({state:e,attrs:t})=>{const{strings:r={}}=t;e.focused=t.autofocus,e.checkOrRadio="checkbox"===t.type||"radio"===t.type,e.defaultAttrs={type:"text",placeholder:e.checkOrRadio?"":r.label,value:"checkbox"===t.type?"on":t.value,onfocus(){e.focused=!0},onfocusout(){e.focused=!1}}},oncreate({dom:e,attrs:t}){t.autofocus&&e.focus()},view({state:t,attrs:r,children:a}){const{attrs:n,value:s,error:o}=function(e,t){const r=Object.assign(e.defaultAttrs,t);let a;return Kt.forEach((e=>{delete r[e]})),"checkbox"===r.type&&r.name in D.form.data&&(r.checked=Boolean(D.form.data[r.name])),r.name in D.form.errors&&(r.class="error",a=!0),{attrs:r,value:r.value,error:a}}(t,r);return e("label",{class:`field ${r.labelClass}`,"data-error":Boolean(o)},e(`input[data-test=${r.name}-input].pure-u`,n,s),o?e(Vt):null,o&&r.strings.error&&t.focused?e(qt,r.strings.error[D.form.errors[r.name].test]||r.strings.error[r.name]):null,r.strings&&r.strings.rules&&!o?e(qt,{style:t.focused?zt.rulesFocused:zt.rules},r.strings.rules,r.tooltipExtra?e(Qt,r.tooltipExtra):null):null,t.checkOrRadio?e("div.labelText.pure-u",r.label||e.trust(r.strings.label)):null,a)}};var Jt={form:"pure-form mc738cc478_form",helpHd:"mc738cc478_helpHd",help:"mc738cc478_help",addCode:"mc738cc478_addCode",submit:"pure-button pure-button-primary pure-u-1 pure-u-md-1-3 mc738cc478_submit",addedItems:"mc738cc478_addedItems",another:"pure-menu-link mc738cc478_another",disclaimer:"mc738cc478_disclaimer"};const Zt=D.i18n.addCode,Xt=D.i18n.forms.addCode;var er={oninit({state:e}){e.helpLinks=[{text:Zt.link1,href:D.get("urls.findingCodes")},{text:Zt.link3,href:D.get("urls.redeemingCodes")}]},view({state:t}){const r=D.added||[],{helpLinks:a}=t;return e(xt,{class:Jt.addCode},D.added?[e("h3",r.length?Zt.successTitle:Zt.noItemsTitle),e("ul",{class:Jt.addedItems},r.map((t=>e("li",t)))),r.length?e("p",{class:Jt.disclaimer},Zt.disclaimer):null,e("button",{class:Jt.another,type:"button",onclick(){delete D.added}},D.i18n.overview.links.button)]:[e("h3",Zt.title),e("form[method=post][action=/modals/add-code]",Gt({class:Jt.form,onSuccess(){P("send","account_anet_redeem_success")}}),e("input[type=hidden][name=_formName][value=add-code]"),e(Yt,{name:"code",strings:Xt.code,labelClass:"pure-u-1 pure-u-md-15-24",autofocus:!0,autocomplete:!1}),e("button",{class:Jt.submit,type:"submit"},D.i18n.submit)),e("div",e("p",{class:Jt.helpHd},Zt.help),a.map((({text:t,href:r})=>e("a",{href:r,class:Jt.help,target:"_blank",rel:"noopener noreferrer"},t))))])}},tr={view(t){const{i18n:r,name:a}=t.attrs;return e(xt,e("div",{"data-test":`${a}-modal`},e("h3[data-test=success]",r.header),r.body&&e("p",e.trust(r.body)),t.children))}};const rr=D.i18n["password-inputs"];var ar={oninit({state:t}){t.suggestedPassword=null,t.register=e.route.get().includes("register"),t.password=""},view:({state:r})=>{const a=r.suggestedPassword===r.password;return r.register&&(rr.password.label=rr.register.password.label,rr.password2.label=rr.register.password2.label),e("div",a?e("input",{type:"hidden",name:"suggested",value:!0}):null,e(Yt,{name:"password",autocomplete:"new-password",strings:rr.password,type:a?"text":"password",value:r.password,labelClass:t("pure-u-1",[!r.register,"pure-u-md-17-24"]),oninput:e.withAttr("value",(e=>{r.password=e})),tooltipExtra:{strings:rr.password.suggest,attrs:{type:"button",tabindex:-1,"data-test":"passwordSuggestion",onmousedown(t){t.preventDefault(),r.gettingPassword||(r.gettingPassword=!0,e.request({url:`/ws/password?${e.buildQueryString({_t:Date.now()})}`}).then((({suggested_password:e})=>{r.password=r.suggestedPassword=e,delete r.gettingPassword})))}}}}),e(Yt,{name:"password2",autocomplete:"new-password",strings:r.register?rr.register.password2:rr.password2,labelClass:t("pure-u-1",[!r.register,"pure-u-md-17-24"]),type:"password"}))}};const nr=D.i18n.changepw;var sr={view:()=>D.postSuccess?e(tr,{i18n:{header:nr.success}}):e(xt,e("h3",nr.title),e("form.pure-form[method=post][action=/modals/change-pw]",Gt(),e("input[type=hidden][name=_formName][value=change-pw]"),e(Yt,{name:"old",labelClass:"pure-u-1 pure-u-md-17-24",type:"password",strings:D.i18n.forms.changepw.old,autofocus:!0,autocomplete:!1}),e(ar),e("button[type=submit].pure-button.pure-button-primary",D.i18n.submit)))};const or=D.i18n.linkAccounts,ir=D.i18n.forms["link-accounts"];var cr={view:()=>e(xt,D.hasGw1?e("h3",e.trust(or.title.linked)):D.postSuccess?[e("h3",e.trust(or.success.title)),e("p",e.trust(or.success.body)),e("p",D.user.login_name)]:[e("h3",e.trust(or.title.unlinked)),e("p",e.trust(or.body1)),e("p",e.trust(or.body2)),e("form.pure-form[method=post][action=/modals/link-accounts]",Gt(),e("input[type=hidden][name=_formName][value=link-accounts]"),e(Yt,{name:"email",strings:ir.email,labelClass:"pure-u-1 pure-u-md-17-24",type:"email"}),e(Yt,{name:"password",strings:ir.password,labelClass:"pure-u-1 pure-u-md-17-24",type:"password"}),e("button[type=submit].pure-button.pure-button-primary",or.button))])};const{i18n:lr}=D;var ur={view(t){const{name:r,field:a}=t.attrs;return D.postSuccess?e(tr,{i18n:{header:D.i18n.success}}):e(xt,e("h3",lr.forms[r].confirm.title),e(`form.pure-form[method=post][action=/modals/${r}]`,Gt(),e("p",lr.forms[r].confirm.desc),e("input[type=hidden]",{name:a}),e("span",e("button[type=submit][data-test=confirm].pure-button.pure-button-primary",lr.forms.confirm),e("button[data-type=secondary][data-test=cancel].pure-button",{onclick(){D.modal.displayPrev()}},lr.forms.cancel))))}};var dr={info:"mcb4b54917_info",details:"mcb4b54917_details"};const{i18n:pr}=D,mr={};var gr,hr={oninit({attrs:e}){!mr[e.name]&&"test"in e&&(mr[e.name]=!0,Dt[e.name][e.field].push(e.test))},view({attrs:t}){const{name:r,field:a}=t;return D.postSuccess?e(tr,{i18n:{header:pr.success}}):e(xt,e("h3",pr.forms[r].title),e(`form.pure-form[method=post][action=/modals/${r}][data-test=${r}-modal]`,Gt(),e(`input[type=hidden][name=_formName][value=${r}]`),e("div.pure-u-1",e(Yt,{name:a,strings:pr.forms[r],labelClass:"pure-u-1 pure-u-md-17-24",required:!0,autofocus:!0,autocomplete:!1})),e("span",e("button[type=submit][data-test=piiSubmit].pure-button.pure-button-primary",pr.submit),D.appData[a]?e("button[data-type=secondary][data-test=piiDelete].pure-button",{class:dr.deleteBtn,onclick(){D.modal.display(ur,{name:r,field:a})}},pr.delete):null),e("div.pure-u",{class:dr.info},pr.forms.pii.how),e("div.pure-u-1",e("p",{class:dr.details},pr.forms[r].use))))}},fr={exports:{}};var vr,br=(gr||(gr=1,function(e){var t={domainThreshold:2,secondLevelThreshold:2,topLevelThreshold:2,defaultDomains:["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","mac.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","google.com","optonline.net","sbcglobal.net","aol.com","me.com","btinternet.com","charter.net","shaw.ca"],defaultSecondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx"],defaultTopLevelDomains:["com","com.au","com.tw","ca","co.nz","co.uk","de","fr","it","ru","net","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","in","net","net.au","info","biz","mil","co.jp","sg","hu"],run:function(e){e.domains=e.domains||t.defaultDomains,e.secondLevelDomains=e.secondLevelDomains||t.defaultSecondLevelDomains,e.topLevelDomains=e.topLevelDomains||t.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||t.sift3Distance;var r=function(e){return e},a=e.suggested||r,n=e.empty||r,s=t.suggest(t.encodeEmail(e.email),e.domains,e.secondLevelDomains,e.topLevelDomains,e.distanceFunction);return s?a(s):n()},suggest:function(e,t,r,a,n){e=e.toLowerCase();var s=this.splitEmail(e);if(r&&a&&-1!==r.indexOf(s.secondLevelDomain)&&-1!==a.indexOf(s.topLevelDomain))return!1;if(c=this.findClosestDomain(s.domain,t,n,this.domainThreshold))return c!=s.domain&&{address:s.address,domain:c,full:s.address+"@"+c};var o=this.findClosestDomain(s.secondLevelDomain,r,n,this.secondLevelThreshold),i=this.findClosestDomain(s.topLevelDomain,a,n,this.topLevelThreshold);if(s.domain){var c=s.domain,l=!1;if(o&&o!=s.secondLevelDomain&&(c=c.replace(s.secondLevelDomain,o),l=!0),i&&i!=s.topLevelDomain&&(c=c.replace(s.topLevelDomain,i),l=!0),1==l)return{address:s.address,domain:c,full:s.address+"@"+c}}return!1},findClosestDomain:function(e,t,r,a){var n;a=a||this.topLevelThreshold;var s=99,o=null;if(!e||!t)return!1;r||(r=this.sift3Distance);for(var i=0;i<t.length;i++){if(e===t[i])return e;(n=r(e,t[i]))<s&&(s=n,o=t[i])}return s<=a&&null!==o&&o},sift3Distance:function(e,t){if(null==e||0===e.length)return null==t||0===t.length?0:t.length;if(null==t||0===t.length)return e.length;for(var r=0,a=0,n=0,s=0;r+a<e.length&&r+n<t.length;){if(e.charAt(r+a)==t.charAt(r+n))s++;else{a=0,n=0;for(var o=0;o<5;o++){if(r+o<e.length&&e.charAt(r+o)==t.charAt(r)){a=o;break}if(r+o<t.length&&e.charAt(r)==t.charAt(r+o)){n=o;break}}}r++}return(e.length+t.length)/2-s},splitEmail:function(e){var t=e.trim().split("@");if(t.length<2)return!1;for(var r=0;r<t.length;r++)if(""===t[r])return!1;var a=t.pop(),n=a.split("."),s="",o="";if(0==n.length)return!1;if(1==n.length)o=n[0];else{for(s=n[0],r=1;r<n.length;r++)o+=n[r]+".";o=o.substring(0,o.length-1)}return{topLevelDomain:o,secondLevelDomain:s,domain:a,address:t.join("@")}},encodeEmail:function(e){var t=encodeURI(e);return t=t.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.jQuery&&(jQuery.fn.mailcheck=function(e){var r=this;if(e.suggested){var a=e.suggested;e.suggested=function(e){a(r,e)}}if(e.empty){var n=e.empty;e.empty=function(){n.call(null,r)}}e.email=this.val(),t.run(e)})}(fr)),fr.exports),wr=o(br),yr={},_r={};function kr(){if(vr)return _r;function e(e){return"string"==typeof e&&(e=e.split(".")),e}return vr=1,_r.set=function(t,r,a){let n,s=t;const o=(r=e(r)).length-1;if(o>=0){for(n=0;n<o;n++)r[n]in s||(s[r[n]]={}),s=s[r[n]];s[r[n]]=a}return t},_r.get=function(t,r){if("object"!=typeof t)return;const a=(r=e(r)).length;for(let e=0;null!=t&&e<a;e++)t=t[r[e]];return t},_r.merge=function(){const e=arguments.length,t={};for(let r=0;r<e;r++){const e=arguments[r];for(const r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}return t},_r.each=function(e,t){let r=0;for(const a in e)e.hasOwnProperty(a)&&t(e[a],a,r++)},_r}var xr,Sr,Cr={};var Pr=(Sr||(Sr=1,function(e){const t=kr(),r=(xr||(xr=1,function(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"};function r(e){return t[e]}e.html=function(e){return`${e}`.replace(/[&<>"'\/`]/g,r)},e.regex=function(e){return`${e}`.replace(/[\-$\^*()+\[\]{}|\\,.?\s]/g,"\\$&")},e.regexp=e.regex}(Cr)),Cr),a=/\{\s*([^\|\}]+?)\s*(?:\|([^\}]*))?\s*\}/g;function n(r,a){const n=[];return a=t.merge(e.options,a),`data || (data = {});var $b='', $v=function(v){return v || v === 0 ? v : $b;}, $t='${`${r}`.replace(/\ufffe|\uffff/g,"").replace(a.rawOutput,(function(e,t){return"\ufffe"+(n.push(`'+\n$v(${t})+\n'`)-1)+"\uffff"})).replace(a.escapedOutput,(function(e,t){return"\ufffe"+(n.push(`'+\n$e($v(${t}))+\n'`)-1)+"\uffff"})).replace(a.code,(function(e,t){return"\ufffe"+(n.push(`';\n${t}\n$t+='`)-1)+"\uffff"})).replace(a.stringEscape,(function(e){return a.stringReplace[e]||""})).replace(/\ufffe(\d+)\uffff/g,(function(e,t){return n[parseInt(t,10)]})).replace(/\n\$t\+='';\n/g,"\n")}';\nreturn $t;`}e._compile=n,e.compile=function(e,t){const a=n(e,t);return new Function("$e","data",a).bind(null,r.html)},e.options={code:/<%([\s\S]+?)%>/g,escapedOutput:/<%=([\s\S]+?)%>/g,rawOutput:/<%==([\s\S]+?)%>/g,stringEscape:/\\|'|\r|\n|\t|\u2028|\u2029/g,stringReplace:{"\\":"\\\\","'":"\\'","\r":"\\r","\n":"\\n","\t":"\\t","\u2028":"\\u2028","\u2029":"\\u2029"}},e.sub=function(e,r){return e.replace&&"object"==typeof r?e.replace(a,(function(e,a){let n;return a.indexOf(".")>-1?(n=t.get(r,a),void 0!==n?n:e):void 0!==r[a]?r[a]:e})):e}}(yr)),yr);const Lr="mc3c2f22e3_toggle";var Ar={toggle:Lr,eye:"mc3c2f22e3_toggle mc3c2f22e3_eye",eyeSlash:"mc3c2f22e3_toggle mc3c2f22e3_eyeSlash",text:"mc3c2f22e3_text",textPassword:"mc3c2f22e3_textPassword"};const Er={view({attrs:t}){const{state:r,toggleTitle:a="Show/Hide Password"}=t;return e("button",{title:a,type:"button",class:r.show?Ar.eye:Ar.eyeSlash,onclick(e){r.show=!r.show,e.preventDefault(),e.stopPropagation()}})}},Tr={oninit({state:e}){e.show=!1},view:({attrs:t,state:r})=>{const{required:a,labelClass:n,name:s,strings:o,toggleTitle:i="Show/Hide Password"}=t;return e(Yt,{name:s,labelClass:n,required:a,type:r.show?"text":"password",strings:o},e(Er,{toggleTitle:i,state:r}))}};var $r="mc1d7c91af_formLogo",Ir={view:()=>e("img",{class:$r,src:"https://account.staticwars.com/img/logo-black.566d61a5.svg",alt:"ArenaNet"})};function Nr(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push(e)}const Or="mcc2f0cfba_suggestion";var Dr={$values:{colors:M},register:"register","pure-form":"pure-form","pure-menu-link":"pure-menu-link",footer:"footer",footerLogo:"footerLogo",footerGradient:"footerGradient",body:"body",formHeading:"mcc2f0cfba_formHeading",gw2:"gw2",flourish:"mcc2f0cfba_flourish",tagline:"mcc2f0cfba_tagline",fancy:"mcc2f0cfba_fancy",video:"mcc2f0cfba_video",vidBlurb:"serif mcc2f0cfba_vidBlurb","pure-button-primary":"pure-button-primary",help:"mcc2f0cfba_help",brandLogo:"mcc2f0cfba_brandLogo",pgw2:"pgw2",hot:"hot",pof:"pof",exLink:"mcc2f0cfba_exLink",vidCol:"pure-u-1 pure-u-sm-13-24 mcc2f0cfba_vidCol",looking:"mcc2f0cfba_looking",suggestion:Or,emailVerify:"mcc2f0cfba_emailVerify",emailPrompt:"mcc2f0cfba_emailPrompt",digits:"mcc2f0cfba_digits",tooltip:"mcc2f0cfba_tooltip",agree:"mcc2f0cfba_agree",regMod:"mcc2f0cfba_regMod",registerModule:"module mcc2f0cfba_registerModule",rules:"mc603867f7_rules mcc2f0cfba_rules",field:"field",error:"error",displayname:"mcc2f0cfba_displayname"};var Mr={$values:{colors:M},login:"login",body:"body","login-steam-return":"login-steam-return",loginForm:"pure-u-1 pure-form mc986c7a2d_loginForm",submit:"pure-button pure-button-primary mc986c7a2d_submit",loginModule:"module pure-u-1 pure-u-sm-16-24 pure-u-md-11-24 pure-g mc986c7a2d_loginModule",orThirdParty:"pure-u-1 mc986c7a2d_orThirdParty",thirdParties:"mc986c7a2d_thirdParties",thirdPartySignIn:"mc986c7a2d_thirdPartySignIn",hr:"mc986c7a2d_hr",lowerLinks:"pure-u-1 mc986c7a2d_lowerLinks",helpLinks:"mc986c7a2d_helpLinks",loginEmailSuggestion:"mcc2f0cfba_suggestion mc986c7a2d_loginEmailSuggestion","pure-button":"pure-button",allowNetwork:"mc986c7a2d_allowNetwork",anetLogoForm:"mc986c7a2d_anetLogoForm",totpForm:"mc986c7a2d_totpForm",totpImgs:"mc986c7a2d_totpImgs",otp:"mc986c7a2d_otp"},Fr={view:()=>["game_code","redirect_uri","return_to","fakeip","testCaptcha","forceCaptcha"].map((t=>e.route.param(t)?e("input[type='hidden']",{name:t,value:e.route.param(t)}):null))};const Rr=D.i18n.login,jr={epic:"https://account.staticwars.com/pages/login/epic-grey.1ebaa628.svg",steam:"https://account.staticwars.com/pages/login/steam-grey.5d9b1972.svg"};function Br({platform:e}){const t=`/login/${e}`,r=m.route.param("redirect_uri");return r?`${t}?redirect_uri=${encodeURIComponent(r)}`:t}var Ur={view(e){const{platform:t}=e.attrs;return m("form",Gt({method:"POST",action:`/login/${t}`,iovation:D?.features?.["iovation-login"]??window?.state?.features?.["iovation-login"]}),m(Fr),m("button",{"data-test":`${t}-login`,href:Br({platform:t}),class:Mr.thirdPartySignIn},m("img",{src:jr[t],alt:Rr[`signIn${t}`],title:Rr[`signIn${t}`]})))}};const Gr=D.i18n.forms.login,Hr=D.i18n.login;var qr={oninit({state:e}){if(e.emailSuggestion="",e.fields={},D.redirect&&/^http(s):\/\//.test(D.redirect)&&(document.location=decodeURIComponent(D.redirect)),"POST"===D.redirect.method)return Ft(D.redirect),void(e.posting=!0);(D.loggedIn||D.redirect)&&m.route.set(decodeURIComponent(D.redirect)||"/overview")},view({state:e}){const t=m.route.param("email"),r=D?.features??window?.state?.features??{},a=["steam","epic"].filter((e=>r[e]));return m("div",{class:Mr.loginModule,"data-test":"loginContainer"},e.posting?s:m("form",Gt({method:"POST",action:`/login?${m.buildQueryString(e.queryParams)}`,iovation:r["iovation-login"],recaptcha:r["captcha-login"]&&{action:"login"},class:Mr.loginForm}),m("input",{type:"hidden",name:"_formName",value:"login"}),m(Fr),m("h1.serif",m(Ir),Hr.header),m(Yt,{name:"email",autocomplete:"username",strings:Gr.email,labelClass:"pure-u-1",autofocus:!0,onchange:m.withAttr("value",(t=>{const r=wr.run({email:t});e.emailSuggestion=r?r.full:""})),oninput(t){e.fields.email=t.target.value}}),m("div",{class:Mr.loginEmailSuggestion},e.emailSuggestion?m.trust(Pr.sub(Gr.emailSuggestion,{email:e.emailSuggestion})):null),m(Tr,{name:"password",autocomplete:"current-password",type:"password",strings:Gr.password,labelClass:"pure-u-1"}),m("button",{class:Mr.submit,type:"submit",onclick(){Nr({event:"gtm-login",eventCategory:"login",eventAction:"login-click",eventLabel:"login"})}},Hr.signin)),m("p",{class:Mr.orThirdParty},m("span",Hr.orThirdParty)),m("div",{class:Mr.thirdParties,"data-third-party-count":a.length},a.map((e=>m(Ur,{platform:e})))),m("hr",{class:Mr.hr}),m("div",{class:Mr.lowerLinks},m(ft,{href:"/register?alt=gw2","data-test":"register-link"},Hr.register.linktext),m("span",{class:Mr.helpLinks},r.passwordReset?m(ft,{href:"/password-reset"+(t?`?email=${t}`:""),class:Mr.forgot,"data-test":"forgot-password"},Hr.forgot.pwReset):null,m("a",{href:D.get("urls.troubleLoggingIn"),"data-test":"trouble-logging-in"},Hr.forgot.trouble))))}};const Wr="mc13cf1e88_quaggan";var zr={quaggan:Wr,partyQuaggan:"mc13cf1e88_partyQuaggan",bigPartyQuaggan:"mc13cf1e88_quaggan mc13cf1e88_bigPartyQuaggan",quagganParty:"mc13cf1e88_quagganParty"};var Vr={oninit({state:t}){t.quaggans=[],t.possibleQuaggans=e.request({url:"https://api.guildwars2.com/v2/quaggans"}),t.addQuaggan=()=>{t.possibleQuaggans.then((e=>{var r;t.quaggans.push(e[(r=e.length,Math.floor(Math.random()*r))])}))}},view:({state:t})=>e(".pure-g",e(".pure-u-sm-20-24.pure-u-1.module",e("h3",D.i18n.fourohfour.foo),e(".pure-u-sm-20-24.pure-u-md-1-3.pure-u-1.leftCol",[e.trust(D.i18n.fourohfour.desc)]),e(".pure-u-sm-20-24.pure-u-md-2-3.pure-u-1",e("div",{class:t.quaggans.length?zr.bigPartyQuaggan:zr.quaggan,onclick:t.addQuaggan})),e("div",{class:zr.quagganParty},t.quaggans.map((r=>e("img",{class:zr.partyQuaggan,src:`https://static.staticwars.com/quaggans/${r}.jpg`,onclick:t.addQuaggan,alt:`Quaggan ${r}`}))))))};const Qr=D.i18n.wait.totp;var Kr={view:({children:t})=>"otp"in D.form.errors?e(".module.pure-u-1.pure-u-sm-1-2",e("form.pure-g.pure-form",Gt({action:"/login/wait/totp",method:"post",iovation:D.features["iovation-login"]}),e("input[type='hidden'][name='_formName'][value='loginWait']"),e(".pure-u-1",e("h2",Qr.expired.header),e("p",e.trust(Qr.expired.body)),e(ft,{class:"pure-button pure-button-primary",href:"/login"},Qr.expired.button)))):t};const Yr=D.i18n.wait.email;var Jr={view:({attrs:t})=>e(".module.pure-u-1.pure-u-md-1-2",e(".pure-g.pure-form",Gt({action:"/login/wait/email",method:"post",class:Mr.anetLogoForm,iovation:D.features["iovation-login"]}),e(Ir),e(Fr),e("input[type='hidden'][name='_formName'][value='loginWait']"),e(".pure-u-1",t.failed?e("div",e("h2",Yr.failed.header),e("p",Yr.failed.body),e("p",e(ft,{href:"/login",class:"pure-button pure-button-primary"},Yr.failed.link),e("img",{src:"https://static.staticwars.com/quaggans/lollipop.jpg",style:"width: 100%; margin-bottom: -32px;",alt:"Quaggan"}))):e("div",e("h2",Yr.waiting.header),e("p",Yr.waiting.body),e("noscript",e("p",Yr.waiting.noscript)),e(s)))))};const Zr=D.i18n.wait.allowlist;var Xr={view:()=>e(".module.pure-u-1.pure-u-md-2-3",e("h2",Zr.header),e("p",Zr.body))};const ea=D.i18n.wait.tfaside;var ta={view:()=>e(".pure-u-md-1-3.pure-hidden-sm.pure-hidden-tn",{class:Mr.totpImgs},e("div",e("img",{src:"https://account.staticwars.com/img/totp.97662a26.png",alt:""})),e("h4",ea.header),e("p",ea.body1),e("p",ea.body2),e("a",{href:D.get("urls.authenticator")},ea.link))};const ra={class:Mr.otp,type:"text",name:"otp",placeholder:"#####",maxlength:"5",size:"5",pattern:"[0-9]{5}",autocomplete:"one-time-code",oncreate({dom:e}){e.focus()}},aa=Object.assign({},ra,{placeholder:"######",maxlength:"6",size:"6",pattern:"[0-9]{6}"});var na={oninit:({attrs:e,state:t})=>{t.i18n=D.i18n.wait[e.type],t.inputAttrs="totp"===e.type?aa:ra},view:({attrs:t,state:r})=>e("div.module.pure-u-1.pure-u-sm-18-24.pure-g[data-test=email-auth]",e(ta),e("form.pure-form.pure-g.pure-u-1.pure-u-md-2-3",Gt({action:`/login/wait/${t.type}`,method:"post",class:Mr.totpForm,iovation:D.features["iovation-login"]}),e(Ir),e(Fr),e("div.pure-u-1",e("input[type=hidden][name=_formName]",{value:`wait${t.type}`}),e("h2",r.i18n.header),e("p",e.trust(r.i18n.body))),e("label.field.pure-u-1",e("input",r.inputAttrs)),e("label.field.pure-u-1",e("input[type=checkbox][name=allowlist]"),D.i18n.wait.remember),e("label.field.pure-u-1",e("button.pure-button.pure-button-primary[type=submit]",D.i18n.wait.submit))))};const sa=D.i18n.email.verify;var oa={view:()=>e(".module.pure-u-1.pure-u-md-1-2[data-test=verify-email]",e("div",e("h3",sa.title),e("p",sa.body1)))};const ia={email:{view:()=>e(Kr,e(na,{type:"email"}))},"email-link":{view:({attrs:t})=>e(Jr,t)},totp:{view:()=>e(Kr,e(na,{type:"totp"}))},allowlist:{view:()=>e(Xr)},sms:{view:()=>e(Kr,e(na,{type:"sms"}))},"verify-email":{view:({attrs:t})=>e(oa,t)}};var ca={oninit({state:t}){t.failed=!1;const r=e.buildQueryString({game_code:e.route.param("game_code"),redirect_uri:e.route.param("redirect_uri")});t.pollEmail=()=>e.request({method:"POST",url:`/ws/wait.json?${r}`,background:!0}).then((r=>{if(!r.redirect)return t.pollEmail();e.route.set(r.redirect)})).catch((()=>{t.failed=!0})),"email-link"===e.route.param("auth_type")&&t.pollEmail()},view(){const t=e.route.param("auth_type");return e(ia[t]?ia[t]:Vr)}};const la=D.i18n.allowlist.add;var ua={oninit({state:e}){e.allow=!1},view({state:t}){const r=D.result;return"error"===r?e(".module.pure-u-1.pure-u-sm-1-2",e("h2",la.failure),e("p",la.result.failure)):"success"===r?e(".module.pure-u-1.pure-u-sm-1-2",e("h2",la.success),e("p",la.result.success)):e(".module.pure-u-1.pure-u-sm-1-2",{class:Mr.allowNetwork},e("form.pure-form.inner[method=post][action=/login/allow]",Gt(),e("input[type=hidden][name=_formName][value=login/allow]"),e("input[type=hidden][name=token]",{value:D.token}),e("input[type=hidden][name=request]",{value:D.request}),e("input[type=hidden][name=ip]",{value:D.ip}),e("h2",la.heading),e("p",la.info),e("p",e.trust(la.address),` ${D.ip}`),e("label.field.pure-u-1",e("input[type=checkbox][name=allowlist]"),la.remember),e("input[type=hidden]",{value:t.allow,name:"allow"}),e("button.pure-button.pure-button-primary[type=submit][name=allow][value=true]",{onclick(){t.allow=!0}},la.submit),e("button.pure-button.pure-button-primary[type=submit][name=allow][value=false]",{onclick(){t.allow=!1}},la.deny)))}};var da={$values:{cronos:F.cronos,eason:F.eason,easonCaps:F.easonCaps},passwordResetModule:"module pure-u-1 pure-u-md-19-24 mcbdddcff9_passwordResetModule",passwordResetBtn:"mcbdddcff9_passwordResetBtn",tryAgain:"mcbdddcff9_tryAgain",return:"mcbdddcff9_return"};const pa=D.i18n["password-reset"],ma=D.i18n.forms["password-reset"];var ga={view:()=>e("div",{class:da.passwordResetModule},e("h3",e(Ir),pa.heading),e("form.pure-form[method=post][action=/password-reset]",Gt(),e("input[type=hidden][name=_formName][value=password-reset]"),e(Yt,{name:"email",type:"email",strings:ma.email,labelClass:"pure-u-1 pure-u-md-17-24"}),e("button[type=submit].pure-button.pure-button-primary",{class:da.passwordResetBtn},pa.button)))},ha={view:()=>{const t=e.route.param("auth_type")||"sms",r=D.i18n["password-reset"].auth[t],a=D.i18n.forms[`password-reset-${t}`];return e("div",{class:da.passwordResetModule},e("h3",r.heading),e("p",r.body),e("form.pure-form[method=post]",Gt({action:`/password-reset/auth/${t}`}),e("input[type=hidden][name=_formName]",{value:`password-reset-${t}`}),e("input[type=hidden][name=s]",{value:e.route.param("s")}),e("input[type=hidden][name=email]",{value:e.route.param("email")}),e(Yt,{name:"otp",strings:a.otp,labelClass:"pure-u-1 pure-u-md-17-24",maxlength:"sms"===t?5:6}),e("button[type=submit].pure-button.pure-button-primary",{class:da.passwordResetBtn},D.i18n.submit)))}};const fa=D.i18n["password-reset"].recovery,va=D.i18n.forms["password-reset-recovery"];var ba={view:()=>{const t=e.route.param("requirements").split(","),r=`password-reset-recovery-${t.join("")}`;return e("div",{class:da.passwordResetModule},e("h3",fa.heading),e("p",fa.body),e("form.pure-form[method=post][action=/password-reset/recovery]",Gt(),e(`input[type=hidden][name=_formName][value=${r}]`),e("input[type=hidden][name=s]",{value:e.route.param("s")}),e("input[type=hidden][name=email]",{value:e.route.param("email")}),t.map((t=>e(Yt,{name:t,labelClass:"pure-u-1 pure-u-md-17-24",strings:va[t]}))),e("button[type=submit].pure-button.pure-button-primary",{class:da.passwordResetBtn},D.i18n.submit)))}};const wa=D.i18n["password-reset"];var ya={view({attrs:t}){const r=!e.route.param("u");return e("div",{class:da.passwordResetModule},D.postSuccess?[e("h3",D.i18n.success),e("p",r?`${e.trust(wa.confirm.changelogin.body)} ${t.values.email}`:wa.confirm.success),e(ft,{class:"pure-button pure-button-primary",href:`/login?${t.values.email?e.buildQueryString({email:t.values.email}):""}`},wa.confirm.button)]:[e("h3",r?wa.confirm.changelogin.heading:wa.heading),e("form.pure-form[method=post][action=/password-reset/confirm]",Gt(),e("input[type=hidden][name=_formName][value=password-reset-confirm]"),e("input[type=hidden][name=s]",{value:e.route.param("s")}),r?e(Yt,{tabindex:0,name:"email",type:"email",strings:D.i18n.forms["password-reset-confirm"].email,labelClass:"pure-u-1 pure-u-md-17-24",oncreate({dom:e}){e.focus()}}):e("input[type=hidden][name=u]",{value:e.route.param("u")}),e(ar),e("button[type=submit].pure-button.pure-button-primary",{class:da.passwordResetBtn},r?D.i18n.submit:wa.button))])}};const _a=D.i18n["password-reset"];var ka={view(){const t=e.route.param("email")||"";return e("div",{class:da.passwordResetModule},e("h3",D.i18n.success),t?[e("p",Pr.sub(_a.success,{email:t})),e("p",_a.expirynote,e(ft,{href:"/password-reset"},_a.retry))]:e("p",D.i18n.changepw.success),e(ft,{class:["pure-button","pure-button-primary",da.passwordResetBtn].join(" "),href:`/login?email=${t}`},_a.returnlink))}},xa={view(){const t=D.i18n["password-reset"];return e("div",{class:da.passwordResetModule},e("h3",D.i18n.failure),e("p",e.trust(t.failure)),e("a.pure-button.pure-button-primary[href=/password-reset]",{class:da.tryAgain,config:e.route},t.tryagain),e(ft,{class:["pure-u",da.return].join(" "),href:"/login"},t.returnlink))}};const Sa=D.i18n.verify;var Ca={view:()=>e(".module.pure-u-1.pure-u-md-19-24",D.temp.success?[e("h3",D.i18n.success),e("p",Sa.success),e(ft,{class:"pure-button pure-button-primary",href:"/login"},Sa.button)]:[e("h3",D.i18n.failure),e("p",Sa.failure)])};class Pa{constructor(t){this.name=t,this.i18n=D.i18n.register[this.name],this.tagline1="",this.tagline2="fancy";const r=this;this.flourish={view:()=>e("div",{class:Dr.flourish})},this.tagline={view:()=>e(".serifCaps",{class:Dr.tagline},e("div",{class:Dr[this.tagline1]},e.trust(this.i18n.tagline1)),e("div",{class:Dr[this.tagline2]},e.trust(this.i18n.tagline2)))},this.lookingFor={view:()=>e("p",{class:Dr.looking},r.i18n.lookingFor,e("a",{"data-test":"regP4f",href:"/register?alt=gw2",onclick(t){t.preventDefault(),Nr({event:"gtm-p4f",eventCategory:"pageview",eventAction:"p4f-click",eventLabel:"p4f-reg"}),e.route.set(t.currentTarget.href)}},D.i18n.register.click))}}}class La extends Pa{constructor(){super("pof"),this.flourish.view=()=>null}}class Aa extends Pa{constructor(){super("pgw2"),this.tagline1="fancy",this.tagline2="",this.lookingFor.view=()=>null,this.p4f=!0}}const Ea={pof:La,hot:La,gw2:Aa,none:class extends Pa{constructor(){super("gw2")}},pgw2:Aa,p4f:Aa};var Ta={view:({attrs:t})=>e("iframe",{class:Dr.video,type:"text/html",width:503,height:340,frameborder:0,allowfullscreen:!0,src:`//www.youtube.com/embed/${t.vidId}?autohide=1&showinfo=0&modestbranding=0`})};const $a=D.i18n.forms.register;var Ia={view:()=>[e(Yt,{name:"code",labelClass:"pure-u-1",strings:$a.code}),e("a[tabindex=-1].pure-u-1",{class:Dr.help,href:D.get("urls.findingCodes"),target:"_blank",rel:"noopener noreferrer"},D.i18n.forms.register.code.help)]};const Na=D.i18n.forms.register,Oa=D.i18n.register,Da={email:Dt.register.email,displayname:Dt.register.displayname};var Ma={oninit({state:t}){let r;t.captcha=D.features["captcha-register"],t.iovation=D.features["iovation-register"],Object.assign(t,{displaynameSuffix:"####",emailSuggestion:"",fields:{email:"",displayname:""},getSuffix(){clearTimeout(r),Pt.validate(t.fields,Da).valid&&(t.displaynameSuffix="####",r=setTimeout((()=>{e.request({url:`/ws/username?${e.buildQueryString({_t:Date.now()})}`,data:t.fields}).then((({suffix:e})=>{t.displaynameSuffix=e}))}),200))}})},view({state:t,attrs:r}){const{regTheme:a}=r;return t.queryParams={alt:a.name},e("div.pure-u-1.pure-u-sm-20-24.pure-u-md-10-24",{class:[Dr.registerModule,Dr.regMod].join(" ")},e("div.pure-u-1",{class:Dr.brandLogo}),e("form.pure-form[data-test=registerForm]",Gt({method:"post",action:`/register?${e.buildQueryString(t.queryParams)}`,class:e.route.param("regType")?Dr.emailPrompt:"",onSuccess(){P("send","account_anet_new_account_success")},iovation:t.iovation,recaptcha:t.captcha&&{action:"register"}}),e.route.param("regType")?e("div[data-test=registerSuccess]",{class:Dr.emailVerify},e("h3",Oa["email-prompt"].title),e("img",{src:"https://account.staticwars.com/pages/register/img/mail_icon.3db89737.svg",alt:""}),e("h3",Oa["email-prompt"].subtitle),e("p",Oa["email-prompt"].body)):[e("h3.serif.pure-u-1",{class:Dr.formHeading},e.trust(a.i18n.title)),e("input",{type:"hidden",name:"_formName",value:"register"}),e(Fr),e(`input[type=hidden][name=url][value=${window.location.href.split("?")[0]}]`),e(Yt,{name:"email",autocomplete:"email",type:"email",labelClass:"pure-u-1",value:t.email,strings:Na.email,oninput:e.withAttr("value",(e=>{const r=wr.run({email:e});t.emailFocused=!0,t.emailSuggestion=r?r.full:"",t.fields.email=e,t.getSuffix()})),oncreate({dom:e}){e.focus()},onblur(){t.emailFocused=!1}}),t.emailSuggestion&&!t.emailFocused?e("div[data-test=emailSuggestion]",{class:Dr.suggestion,onclick(){t.email=t.emailSuggestion,delete t.emailSuggestion}},e.trust(Pr.sub(Na.emailSuggestion,{email:t.emailSuggestion}))):null,e(ar),e(Yt,{name:"displayname",autocomplete:"username",labelClass:`pure-u-2-3 ${Dr.displayname}`,maxlength:27,value:t.displayname,strings:Na.displayname,oninput:e.withAttr("value",(e=>{t.fields.displayname=e,t.getSuffix()}))}),e("div.pure-u",{class:Dr.digits},`.${t.displaynameSuffix}`,e("div",{class:Dr.help},Na.displayname.digits,e(qt,{style:Dr.tooltip},e.trust(Na.displayname["digits-help"])))),a.p4f?e("noscript",e(Ia)):e(Ia),D.china?null:e(Yt,{name:"newsletter",labelClass:"pure-u-1 pure-checkbox",type:"checkbox",value:"on",strings:Na.newsletter}),e(Yt,{name:"eula",type:"checkbox",labelClass:"pure-u-1 pure-checkbox",value:"on",strings:Na.eula}),e("button[type=submit].pure-button.pure-button-primary.pure-u-1",Na.submit),e("p.pure-u-1",{class:Dr.agree},e.trust(Na.accept.label)),e("div",{class:Dr.exLink},`${Na["download-text"]} `,e(ft,{href:"/welcome"},Na["download-link"])),e("div",{class:Dr.exLink},e.trust(a.i18n.learn))]))}};var Fa={title:D.i18n.header.registration.title,description:D.i18n.header.registration.description,onmatch(e){D.regTheme=function(e="pgw2"){return e in Ea||(e="pgw2"),new Ea[e]}(e.alt)},view(){const{regTheme:t}=D,r=t.i18n,a=function(){if(!D.videos)return;const e=D.videos[D.regTheme.name]||{};let t=e[D.lang];return"en"===D.lang&&"esrb"!==D.rating&&e["en-eu"]&&(t=e["en-eu"]),t}();return e("div",e("div",{class:Dr.vidCol},e(t.tagline),e(t.flourish),e(Ta,{vidId:a}),e("div",{class:Dr.vidBlurb},Object.keys(r.blurb).map((t=>e("p",e.trust(r.blurb[t]))))),e(t.lookingFor)),e(Ma,{regTheme:t}))}};const Ra="pure-button pure-button-primary mc3f5734ca_downloadBtn";var ja={welcome:"welcome",intro:"mc3f5734ca_intro",module:"pure-u-1 mc3f5734ca_module",downloadBtn:Ra,downloadBtnIn:"pure-button pure-button-primary mc3f5734ca_downloadBtn mc8f6ed05d_fadeIn mc3f5734ca_downloadBtnIn",downloadBtnOut:"pure-button pure-button-primary mc3f5734ca_downloadBtn mc3f5734ca_downloadBtnOut",eulaAck:"mc3f5734ca_eulaAck",select:"mc3f5734ca_select",logo:"mc3f5734ca_logo",canvasContainer:"mc3f5734ca_canvasContainer",gettingStarted:"pure-u-sm-3-4 pure-u-1 mc3f5734ca_gettingStarted"};function Ba(){const e=((window.navigator||!1).platform||"").toLowerCase().includes("mac")?"osx":"win";return{type:e,bits:"osx"===e||64}}function Ua(e){return`/content/download/${e.branch}/${e.os}/${e.bits}`}Ha.SKIP={},Ha.lift=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Wa(t).map((function(t){return e.apply(void 0,t)}))},Ha.scan=function(e,t,r){var a=r.map((function(r){var a=e(t,r);return a!==Ha.SKIP&&(t=a),a}));return a(t),a},Ha.merge=Wa,Ha.combine=qa,Ha.scanMerge=function(e,t){var r=e.map((function(e){return e[0]})),a=qa((function(){var a=arguments[arguments.length-1];return r.forEach((function(r,n){a.indexOf(r)>-1&&(t=e[n][1](t,r()))})),t}),r);return a(t),a},Ha["fantasy-land/of"]=Ha;var Ga=!1;function Ha(e){var t,r=[],a=[];function n(t){return arguments.length&&t!==Ha.SKIP&&(e=t,za(n)&&(n.changing(),n.state="active",r.forEach((function(t,r){t(a[r](e))})))),e}function s(){return(t=Ha()).map((function(e){return!0===e&&(n.parents.forEach((function(e){e.unregisterChild(n)})),n.state="ended",n.parents.length=r.length=a.length=0),e})),t}return n.constructor=Ha,n.state=arguments.length&&e!==Ha.SKIP?"active":"pending",n.parents=[],n.changing=function(){za(n)&&(n.state="changing"),r.forEach((function(e){e.changing()}))},n.map=function(t,s){var o="active"===n.state&&s!==Ha.SKIP?Ha(t(e)):Ha();return o.parents.push(n),r.push(o),a.push(t),o},n.toJSON=function(){return null!=e&&"function"==typeof e.toJSON?e.toJSON():e},n["fantasy-land/map"]=n.map,n["fantasy-land/ap"]=function(e){return qa((function(e,t){return e()(t())}),[e,n])},n.unregisterChild=function(e){var t=r.indexOf(e);-1!==t&&(r.splice(t,1),a.splice(t,1))},Object.defineProperty(n,"end",{get:function(){return t||s()}}),n}function qa(e,t){var r=t.every((function(e){if(e.constructor!==Ha)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return"active"===e.state})),a=r?Ha(e.apply(null,t.concat([t]))):Ha(),n=[],s=t.map((function(s){return s.map((function(o){return n.push(s),(r||t.every((function(e){return"pending"!==e.state})))&&(r=!0,a(e.apply(null,t.concat([n]))),n=[]),o}),Ha.SKIP)})),o=a.end.map((function(e){!0===e&&(s.forEach((function(e){e.end(!0)})),o.end(!0))}));return a}function Wa(e){return qa((function(){return e.map((function(e){return e()}))}),e)}function za(e){return"pending"===e.state||"active"===e.state||"changing"===e.state}Object.defineProperty(Ha,"HALT",{get:function(){return Ga||console.log("HALT is deprecated and has been renamed to SKIP"),Ga=!0,Ha.SKIP}});var Va,Qa={exports:{}},Ka=Qa.exports;var Ya=(Va||(Va=1,function(e,t){var r;r="undefined"!=typeof window?window:Ka,e.exports=function(e,t){var r="E LN10 LN2 LOG2E LOG10E PI SQRT1_2 SQRT2 abs acos asin atan ceil cos exp floor log round sin sqrt tan atan2 pow max min".split(" "),a="__hasSketch",n=Math,s="canvas",o="webgl",i="dom",c=t,l=e,u=[],d={fullscreen:!0,autostart:!0,autoclear:!0,autopause:!0,container:c.body,interval:1,globals:!0,retina:!1,type:s},p={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"};function m(e){return"[object Array]"==Object.prototype.toString.call(e)}function g(e){return"function"==typeof e}function h(e){return"number"==typeof e}function f(e){return"string"==typeof e}function v(e){return p[e]||String.fromCharCode(e)}function b(e,t,r){for(var a in t)!r&&a in e||(e[a]=t[a]);return e}function w(e,t){return function(){e.apply(t,arguments)}}function y(e){var t={};for(var r in e)"webkitMovementX"!==r&&"webkitMovementY"!==r&&(g(e[r])?t[r]=w(e[r],e):t[r]=e[r]);return t}function _(e){var t,r,a,n,o,d,m,h,w,_,k,x,S,C,P,L,A,E=0,T=[],N=!1,O=!1,D=l.devicePixelRatio||1,M=e.type==i,F=e.type==s,R={x:0,y:0,ox:0,oy:0,dx:0,dy:0},j=[e.eventTarget||e.element,Q,"mousedown","touchstart",Q,"mousemove","touchmove",Q,"mouseup","touchend",Q,"click",Q,"mouseout",Q,"mouseover",c,K,"keydown","keyup",l,Y,"focus","blur",q,"resize"],B={};for(x in p)B[p[x]]=!1;function U(t){g(t)&&t.apply(e,[].splice.call(arguments,1))}function G(e){for(d=0;d<j.length;d++)f(w=j[d])?a[(e?"add":"remove")+"EventListener"].call(a,w,r,!1):g(w)?r=w:a=w}function H(){I(t),t=$(H),O||(U(e.setup),O=g(e.setup)),N||(U(e.resize),N=g(e.resize)),e.running&&!E&&(e.dt=(h=+new Date)-e.now,e.millis+=e.dt,e.now=h,U(e.update),F&&(e.retina&&(e.save(),e.autoclear&&e.scale(D,D)),e.autoclear&&e.clear()),U(e.draw),F&&e.retina&&e.restore()),E=++E%e.interval}function q(){a=M?e.style:e.canvas,m=M?"px":"",L=e.width,A=e.height,e.fullscreen&&(A=e.height=l.innerHeight,L=e.width=l.innerWidth),e.retina&&F&&D&&(a.style.height=A+"px",a.style.width=L+"px",L*=D,A*=D),a.height!==A&&(a.height=A+m),a.width!==L&&(a.width=L+m),F&&!e.autoclear&&e.retina&&e.scale(D,D),O&&U(e.resize)}function W(e,t){return o=t.getBoundingClientRect(),e.x=e.pageX-o.left-(l.scrollX||l.pageXOffset),e.y=e.pageY-o.top-(l.scrollY||l.pageYOffset),e}function z(t,r){return W(t,e.element),(r=r||{}).ox=r.x||t.x,r.oy=r.y||t.y,r.x=t.x,r.y=t.y,r.dx=r.x-r.ox,r.dy=r.y-r.oy,r}function V(e){if(e.preventDefault(),(_=y(e)).originalEvent=e,_.touches)for(T.length=_.touches.length,d=0;d<_.touches.length;d++)T[d]=z(_.touches[d],T[d]);else T.length=0,T[0]=z(_,R);return b(R,T[0],!0),_}function Q(t){for(t=V(t),C=(P=j.indexOf(k=t.type))-1,e.dragging=!!/down|start/.test(k)||!/up|end/.test(k)&&e.dragging;C;)f(j[C])?U(e[j[C--]],t):f(j[P])?U(e[j[P++]],t):C=0}function K(t){x=t.keyCode,S="keyup"==t.type,B[x]=B[v(x)]=!S,U(e[t.type],t)}function Y(t){e.autopause&&("blur"==t.type?Z:J)(),U(e[t.type],t)}function J(){e.now=+new Date,e.running=!0}function Z(){e.running=!1}function X(){(e.running?Z:J)()}function ee(){F&&e.clearRect(0,0,e.width*D,e.height*D)}function te(){n=e.element.parentNode,d=u.indexOf(e),n&&n.removeChild(e.element),~d&&u.splice(d,1),G(!1),Z()}return b(e,{touches:T,mouse:R,keys:B,dragging:!1,running:!1,millis:0,now:NaN,dt:NaN,destroy:te,toggle:X,clear:ee,start:J,stop:Z}),u.push(e),e.autostart&&J(),G(!0),q(),H(),e}for(var k,x,S={CANVAS:s,WEB_GL:o,WEBGL:o,DOM:i,instances:u,install:function(e){if(!e[a]){for(var t=0;t<r.length;t++)e[r[t]]=n[r[t]];b(e,{TWO_PI:2*n.PI,HALF_PI:n.PI/2,QUARTER_PI:n.PI/4,random:function(e,t){return m(e)?e[~~(n.random()*e.length)]:(h(t)||(t=e||1,e=0),e+n.random()*(t-e))},lerp:function(e,t,r){return e+r*(t-e)},map:function(e,t,r,a,n){return(e-t)/(r-t)*(n-a)+a}}),e[a]=!0}},create:function(e){return(e=b(e||{},d)).globals&&S.install(self),k=e.element=e.element||c.createElement(e.type===i?"div":"canvas"),x=e.context=e.context||function(){switch(e.type){case s:return k.getContext("2d",e);case o:return k.getContext("webgl",e)||k.getContext("experimental-webgl",e);case i:return k.canvas=k}}(),(e.container||c.body).appendChild(k),S.augment(x,e)},augment:function(e,t){return(t=b(t||{},d)).element=e.canvas||e,t.element.className+=" sketch",b(e,t,!0),_(e)}},C=["ms","moz","webkit","o"],P=self,L=0,A="AnimationFrame",E="request"+A,T="cancel"+A,$=P[E],I=P[T],N=0;N<C.length&&!$;N++)$=P[C[N]+"Request"+A],I=P[C[N]+"Cancel"+A];return P[E]=$=$||function(e){var t=+new Date,r=n.max(0,16-(t-L)),a=setTimeout((function(){e(t+r)}),r);return L=t+r,a},P[T]=I=I||function(e){clearTimeout(e)},S}(r,r.document)}(Qa)),Qa.exports),Ja=o(Ya);function Za(e){const t=random()>.1;if(!e.regions)return;const r=e.regions[floor(random(0,e.regions.length))];this.x=random(r.x1,r.x2),this.y=random(r.y1,r.y2),this.vx=random(-15,0),this.vy=random(-18,-10),this.radius=random(1,2),this.lifespan=random(1e4,2e4),this.charge=this.lifespan;const a=round(t?random(255):random(230,255));this.color={r:a,g:100,b:30}}Za.prototype={isDead(){return this.charge<0||this.radius<.5||this.x<0||this.y<0},update(e){return this.charge-=e.dt/16,this.radius-=3e-4*e.dt,this.x+=this.vx*(.06*e.dt)*.25,this.y+=this.vy*e.dt/18*.125,!this.isDead()},draw(e){const t=round(100*this.charge)/50;let r;this.radius>8?(r=e.createRadialGradient(this.x,this.y,0,this.x,this.y,this.radius),r.addColorStop(0,`rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, 1)`),r.addColorStop(.3,`rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, 0.5)`),r.addColorStop(1,`rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, 0)`)):r=`rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, ${.9*t})`,e.fillStyle=r,e.beginPath(),e.arc(floor(this.x),floor(this.y),this.radius,TWO_PI,!1),e.fill()}};const Xa=1e3,en=920,tn=100;let rn=0,an=[];function nn(e){return Ja.create({autostart:!0,fullscreen:!1,width:e.offsetWidth,height:e.offsetHeight,container:e,update(){rn+=this.dt;const e=Math.round(.1*rn);an=an.filter((e=>e.update(this))),e&&(rn=0,function(e,t){const r=(e.width-Xa)/2,a=[{x1:r,y1:en,x2:r+1500,y2:en+tn}];for(let e=0;e<t;e++)an.push(new Za({regions:a}))}(this,e))},draw(){this.width!==e.offsetWidth&&(this.width=e.offsetWidth),this.globalCompositeOperation="lighter",an.forEach((e=>{e.draw(this)}))}})}var sn={oninit:e=>{e.state.play=Ha(!1)},oncreate:e=>{e.state.particles=nn(e.dom),window.stream=e.state.particles,e.state.play.map((()=>{e.state.particles&&e.state.particles.start()}))},view:()=>e("div",{class:ja.canvasContainer})};const on=D.i18n.welcome,cn=D.i18n.eulaAck;var ln={title:D.i18n.header.download.title,description:D.i18n.header.download.description,oninit({state:e}){const t=Ba(),r=D.gameList.find((e=>e.os===t.type&&e.bits===t.bits));e.client=r||D.gameList[0]},view:({state:t})=>[e("div",{class:ja.module},e("img",{class:ja.logo,src:"https://account.staticwars.com/img/gw2-logo.97cef240.png",alt:""}),e("h3",{class:ja.intro},on.heading2),e("div",e("a",{key:t.client.os,class:ja.downloadBtnIn,"data-test":"downloadClient",href:Ua(t.client),onclick(){P("send","account_anet_download_installer")},onbeforeremove:({dom:e})=>r(e,ja.downloadBtnOut)},on.downloadButton[t.client.os])),e("div",{class:ja.eulaAck},e.trust(Pr.sub(cn,{downloadText:on.downloadButton[t.client.os]})))),e("a[data-test=gettingStarted]",{class:ja.gettingStarted,href:D.get("urls.manual")},e("img",{src:"https://account.staticwars.com/img/gettingStartedBook.9183acb3.png",alt:""}),e("h3",on.info.title),e("p",on.info.box1)),e(sn)]};const un="mc2b75033f_miniDragon",dn="mc2b75033f_miniBox",pn="mc2b75033f_miniTxt";var mn={$values:{colors:M},security:"mc2b75033f_security",securityModule:"module mc2b75033f_securityModule",register:"register",unsecuredCtas:"mc2b75033f_unsecuredCtas",noButtonStyle:"mc2b75033f_noButtonStyle",miniDragon:un,secureMe:"mc2b75033f_secureMe",miniBox:dn,miniTxt:pn,creds:"mc2b75033f_creds","pure-button":"pure-button",subHead:"mc2b75033f_subHead",secLeftCol:"mc2b75033f_secLeftCol",secRightCol:"mc2b75033f_secRightCol",slideIn:"mc2b75033f_slideIn"};const gn="mc2177ec00_resend";var hn={$values:{colors:M},miniDragon:"mc2b75033f_miniDragon mc2177ec00_miniDragon",miniBox:"mc2b75033f_miniBox mc2177ec00_miniBox",miniTxt:"mc2b75033f_miniTxt mc2177ec00_miniTxt","security-2-step":"security-2-step","pure-button-primary":"pure-button-primary","security-2-step-sms-verify":"security-2-step-sms-verify",stepInfo:"mc2177ec00_stepInfo",yesNo:"mc2177ec00_yesNo",next:"mc2177ec00_next",cancel:"mc2177ec00_cancel",needsMini:"mc2177ec00_needsMini",stepFt:"mc2177ec00_stepFt",noSms:"mc2177ec00_noSms",disclaimer:"pure-u-1 mc2177ec00_disclaimer",expiredPrompt:"mc2177ec00_expiredPrompt",resent:"mc2177ec00_resent",allowlistInfo:"mc2177ec00_allowlistInfo",tooltip:"mc2177ec00_tooltip",smsResend:"mc2177ec00_smsResend",smsBack:"mc2177ec00_smsBack",smsRemove:"pure-form mc2177ec00_smsRemove",resend:gn,buttonLink:"mc2177ec00_resend mc2177ec00_buttonLink","security-2-step-sms-link":"security-2-step-sms-link",noMargin:"mc2177ec00_noMargin",secretLabel:"mc2177ec00_secretLabel",secretCode:"mc2177ec00_secretCode",qrCode:"mc2177ec00_qrCode",codeTitle:"mc2177ec00_codeTitle",miniContainer:"mc2177ec00_miniContainer",miniContent:"mc2177ec00_miniContent",totpDl:"mc2177ec00_totpDl",register:"register",otpLabel:"pure-u-1 mc2177ec00_otpLabel",emailConfirm:"mc2177ec00_emailConfirm"},fn={view:({attrs:r})=>D.user.email_verified?null:e("form[method=post]",Gt({action:"/security/email/confirm"+(r.resend?"?resend=true":"")}),e("button[type=submit]",{class:t([r.button,`pure-button pure-button-primary ${hn.buttonLink}`])},e(r.button?"span":"a",r.text||D.i18n.verifyEmail)))};const vn="modLink mc12c0b632_modLink",bn="serifCaps mc12c0b632_upgradeP4f";var wn={$values:{colors:M},overview:"mc12c0b632_overview",manage:"mc12c0b632_manage",module:"module mc12c0b632_module",middleColumn:"mc12c0b632_middleColumn",game:"mc12c0b632_game",modLink:vn,"game-gw2":"mc12c0b632_game-gw2",title:"mc12c0b632_title",ownedLink:"modLink mc12c0b632_modLink mc12c0b632_ownedLink",gameArt:"mc12c0b632_gameArt",owned:"mc12c0b632_owned",notOwned:"mc12c0b632_notOwned",inc:"mc12c0b632_inc","game-voe":"mc12c0b632_game-voe","game-jw":"mc12c0b632_game-jw","game-soto":"mc12c0b632_game-soto","game-eod":"mc12c0b632_game-eod","game-pof":"mc12c0b632_game-pof","game-hot":"mc12c0b632_game-hot","game-gw1":"mc12c0b632_game-gw1",links:"mc12c0b632_links",codeBtn:"mc12c0b632_codeBtn",upgradeP4f:bn,upgradeP4fOld:"serifCaps mc12c0b632_upgradeP4f mc12c0b632_upgradeP4fOld",upgradeEod:"serifCaps mc12c0b632_upgradeP4f mc12c0b632_upgradeEod",upgradePof:"serifCaps mc12c0b632_upgradeP4f mc12c0b632_upgradePof",upgradeSoto:"serifCaps mc12c0b632_upgradeP4f mc12c0b632_upgradeSoto",upgradeJw:"serifCaps mc12c0b632_upgradeP4f mc12c0b632_upgradeJw",upgradeVoe:"serifCaps mc12c0b632_upgradeP4f mc12c0b632_upgradeVoe",sideColumn:"mc12c0b632_sideColumn",upgrade:"mc12c0b632_upgrade",gameItem:"mc12c0b632_gameItem"};const yn=D.i18n.overview;var _n={view:()=>e("div.pure-u-1.pure-u-md-1-4",{class:wn.sideColumn},e("div.pure-u-1.pure-u-sm-20-24.pure-u-md-1",{class:wn.module},e("h3",yn.personal.title),e("div.modFieldStack",yn.personal.email,D.isSteamUser||D.isEpicUser?null:e("div.modLink",e(fn)),e("div.modVal",decodeURIComponent(D.user.login_name))),e("div.modFieldStack",yn.personal.display,e("div.modVal",decodeURIComponent(D.user.user_name))),e("div.modFieldStack",yn.personal.region,e("div.modVal",yn.personal[`region-${D.user.user_center}`]||""))))};const kn=D.i18n.gameContent,xn=D.i18n.overview,Sn={view:({attrs:t,children:r})=>t.href?e("a",{class:t.class,href:t.href,onclick(){Nr({event:"gtm-upgrade",eventCategory:"upgrade",eventAction:"upgrade-click",eventLabel:`upgrade-${t.game}`})}},r):e("div",t,r)};var Cn={view({attrs:r}){const a=r.href||D.getBuyLink(r.game),n=r.pp?D.get("i18n.gameContent.prepurchase"):r.cta;let s;return r.inc&&(s=r.pp?xn[r.game].pp:xn[r.game].inc),e("li",{class:t(wn[`game-${r.game}`],[r.owned,wn.owned,wn.notOwned],wn.gameItem)},e(Sn,{href:!r.owned&&a,game:r.game},e("div",{class:wn.gameArt}),e("div",{class:wn.game},s?e("p",{class:wn.inc},s):null,e("p",{class:wn.title},kn[r.game].title),r.owned&&!r.upgrade&&"gw2"!==r.game?e("div",{class:wn.ownedLink},kn.owned):e(Sn,{class:wn.modLink,href:r.owned&&a,game:r.game,owned:r.owned},n?e.trust(n):kn.buy))))}};const Pn=D.i18n.overview,Ln=D.i18n.gameContent;var An={view:()=>e("div.pure-u-1.pure-u-md-1-2",{class:wn.middleColumn},e("div.pure-u-1.pure-u-md-1.pure-u-sm-20-24",{class:wn.module},e(ft,{href:"/content",class:wn.manage},Ln.manage),e("h3",Pn.accounts),!D.loading||D.gw2Features?e("ul",e(Cn,{game:"gw2",owned:D.hasGw2,cta:D.hasGw2?Ln.downloadClient:D.i18n.register.link,href:D.hasGw2?"/content":"/register"}),Object.entries(D.gw2Features).filter((([e,t])=>t.isExp&&!["hot","pof"].includes(e))).reverse().map((([t,r])=>e(Cn,{game:t,owned:r.owned,pp:r.isPP,inc:!r.owned}))),e(Cn,{game:"pof",owned:D.gw2Features.pof?.owned,inc:!D.gw2Features.pof?.owned&&!D.gw2Features.hot?.owned}),e(Cn,{game:"hot",owned:D.gw2Features.hot?.owned,cta:D.get("i18n.overview.hot.buy"),inc:!D.gw2Features.pof?.owned&&!D.gw2Features.hot?.owned}),e(Cn,{game:"gw1",owned:D.hasGw1})):null))};const En=D.i18n.overview,Tn={pof:{css:wn.upgradePof,label:"Pof"},eod:{css:wn.upgradeEod,label:"Eod"},soto:{css:wn.upgradeSoto,label:"Soto"},jw:{css:wn.upgradeJw,label:"Jw"},voe:{css:wn.upgradeVoe,label:"Voe"}};var $n={view(){const t=D.missingExpansions.find((e=>"hot"!==e));if(D.loading||!t)return null;const r=Tn[t];return e("div.pure-u-1.pure-u-md-1.pure-u-sm-20-24",{class:wn.module},e("a",{href:D.getBuyLink(),class:r.css,onclick(){Nr({event:"gtm-upgrade",eventCategory:"upgrade",eventAction:"upgrade-click",eventLabel:`upgrade-sidebar${r.label}`})}},En.upsell))}};const In=D.i18n.overview;var Nn={view:()=>e("div.pure-u-1.pure-u-md-1-4",{class:wn.sideColumn},e("div.pure-u-1.pure-u-md-1.pure-u-sm-20-24",{class:wn.module},e("h3",In.links.title),e("nav",{class:wn.links},D.isSteamUser||D.isEpicUser?null:[e(ft,{href:"/content"},In.links.link1),e("a",{href:D.get("urls.securingAccount")},In.links.link2)],e("a",{href:D.get("urls.accountHelp")},In.links.link4)),e("button.pure-button.pure-button-primary.pure-u",{class:wn.codeBtn,"data-test":"openRedeemCode",onclick(e){e.preventDefault(),D.modal.display(er)}},In.links.button)),e($n))},On={view:()=>e("div.pure-g[data-test=overviewContainer]",{class:wn.overview},e(_n),e(An),e(Nn))};const Dn="mcddbb7792_circle",Mn="mcddbb7792_icon";var Fn={$values:{colors:M,iconSize:"15px",circleSize:"17px"},darkmode:"mcddbb7792_darkmode",circle:Dn,circleDm:"mcddbb7792_circle mcddbb7792_circleDm",icon:Mn,sun:"mcddbb7792_icon mcddbb7792_sun",moon:"mcddbb7792_icon mcddbb7792_moon"},Rn={view(){const t="darkmode"===D.theme;return e("button",{type:"button",class:Fn.darkmode,onclick(){D.theme=t?"default":"darkmode"}},e("div",{class:t?Fn.circleDm:Fn.circle}),e("img",{src:"https://account.staticwars.com/img/sun.4c96078d.svg",alt:"darkmode",class:Fn.sun}),e("img",{src:"https://account.staticwars.com/img/moon.d5695122.svg",alt:"darkmode",class:Fn.moon}))}};var jn,Bn={$values:{colors:M},"right-col":"mcb664cba1_right-col",settingsModule:"module pure-u-1 pure-u-sm-13-24 mcb664cba1_settingsModule",settings:"mcb664cba1_settings",email:"mcb664cba1_email",suggestion:"mcb664cba1_suggestion",subscriptions:"mcb664cba1_subscriptions",modField:"mcb664cba1_modField",disc:"mcb664cba1_disc",modSelect:"mcb664cba1_modSelect",saved:"pure-button-disabled mcb664cba1_saved",darkmode:"pure-u-1 pure-u-sm-13-24 mcb664cba1_darkmode",dmLabel:"mcb664cba1_dmLabel"};function Un(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,n,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=s.next()).done;)o.push(a.value)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(jn||(jn={}));var Gn={type:"xstate.init"};function Hn(e){return void 0===e?[]:[].concat(e)}function qn(e){return{type:"xstate.assign",assignment:e}}function Wn(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function zn(e){return function(t){return e===t}}function Vn(e){return"string"==typeof e?{type:e}:e}function Qn(e,t){return{value:e,context:t,actions:[],changed:!1,matches:zn(e)}}function Kn(e,t,r){var a=t,n=!1;return[e.filter((function(e){if("xstate.assign"===e.type){n=!0;var t=Object.assign({},a);return"function"==typeof e.assignment?t=e.assignment(a,r):Object.keys(e.assignment).forEach((function(n){t[n]="function"==typeof e.assignment[n]?e.assignment[n](a,r):e.assignment[n]})),a=t,!1}return!0})),a,n]}var Yn=function(e,t){return e.actions.forEach((function(r){var a=r.exec;return a&&a(e.context,t)}))};function Jn({commPrefs:e,langs:t}){const{subscriptions:r,lang:a}=e;return function(e,t){void 0===t&&(t={});var r=Un(Kn(Hn(e.states[e.initial].entry).map((function(e){return Wn(e,t.actions)})),e.context,Gn),2),a=r[0],n=r[1],s={config:e,_options:t,initialState:{value:e.initial,actions:a,context:n,matches:zn(e.initial)},transition:function(t,r){var a,n,o="string"==typeof t?{value:t,context:e.context}:t,i=o.value,c=o.context,l=Vn(r),u=e.states[i];if(u.on){var d=Hn(u.on[l.type]);try{for(var p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(d),m=p.next();!m.done;m=p.next()){var g=m.value;if(void 0===g)return Qn(i,c);var h="string"==typeof g?{target:g}:g,f=h.target,v=h.actions,b=void 0===v?[]:v,w=h.cond,y=void 0===w?function(){return!0}:w,_=void 0===f,k=null!=f?f:i,x=e.states[k];if(y(c,l)){var S=Un(Kn((_?Hn(b):[].concat(u.exit,b,x.entry).filter((function(e){return e}))).map((function(e){return Wn(e,s._options.actions)})),c,l),3),C=S[0],P=S[1],L=S[2],A=null!=f?f:i;return{value:A,context:P,actions:C,changed:f!==i||C.length>0||L,matches:zn(A)}}}}catch(e){a={error:e}}finally{try{m&&!m.done&&(n=p.return)&&n.call(p)}finally{if(a)throw a.error}}}return Qn(i,c)}};return s}({id:"commPrefs",initial:"idle",context:{saved:!0,langs:t,init:{subscriptions:r,lang:a},curr:{subscriptions:Object.assign({},r),lang:a}},states:{idle:{on:{TOGGLESUB:{target:"idle",actions:["toggle","checkSaved"]},SETLANG:{target:"idle",actions:["lang","checkSaved"]},SUBMIT:"loading"}},loading:{}}},{actions:{toggle:qn(((e,t)=>{if(t.subscription in e.curr.subscriptions)return e.curr.subscriptions[t.subscription]=!e.curr.subscriptions[t.subscription],e})),lang:qn(((e,t)=>{if(e.langs.includes(t.lang))return e.curr.lang=t.lang,e})),checkSaved:qn({saved:e=>JSON.stringify(e.init)===JSON.stringify(e.curr)})}})}const Zn=D.i18n.settings.commPrefs,Xn=[["anet",Zn.anet],["gw2","Guild Wars 2"],["gw","Guild Wars"]];var es={oninit({state:e}){const t=Jn(D);e.commPrefsService=function(e){var t=e.initialState,r=jn.NotStarted,a=new Set,n={_machine:e,send:function(n){r===jn.Running&&(t=e.transition(t,n),Yn(t,Vn(n)),a.forEach((function(e){return e(t)})))},subscribe:function(e){return a.add(e),e(t),{unsubscribe:function(){return a.delete(e)}}},start:function(a){if(a){var s="object"==typeof a?a:{context:e.config.context,value:a};t={value:s.value,actions:[],context:s.context,matches:zn(s.value)}}return r=jn.Running,Yn(t,Gn),n},stop:function(){return r=jn.Stopped,a.clear(),n},get state(){return t},get status(){return r}};return n}(t),e.commPrefsService.subscribe((t=>{e.commPrefs=t.context})),e.commPrefsService.start()},onremove({state:e}){e.commPrefsService.stop()},view({state:r,attrs:a}){const n=Object.values(r.commPrefs.curr.subscriptions).every((e=>!e)),s=r.commPrefs.saved||!r.valid;return[e("div",{class:Bn.subscriptions},Xn.map((([t,n])=>e("div",{class:Bn.modField},e("label",{for:t},n,e("input",{class:Bn.checkbox,type:"checkbox",id:t,name:t,checked:r.commPrefs.curr.subscriptions[t],"data-checkbox2":!0,"data-test":`commPrefs-${t}`,onchange(){r.commPrefsService.send({type:"TOGGLESUB",subscription:t}),r.valid=a.isValid(Dt.commPrefs)}})))))),e("div.modField",Zn.language,e("div",{class:Bn.modSelect},e("select",{name:"lang",disabled:n,"data-test":"commPrefs-lang",onchange(e){r.commPrefsService.send({type:"SETLANG",lang:e.target.value}),r.valid=a.isValid(Dt.commPrefs)}},D.langs.map((t=>e("option",{value:t,selected:r.commPrefs.curr.lang===t},t.toUpperCase())))))),e("button[type=submit]",{class:t("pure-button","pure-button-primary",[s,Bn.saved]),disabled:s,"data-test":"commPrefs-save"},r.commPrefs.saved?Zn.prefsSaved:Zn.updatePrefs)]}};const ts=D.i18n.settings.commPrefs;var rs={view({state:r,attrs:a}){const n=a.isValid(Dt.commPrefsSignup);return[e("div",{class:Bn.email},e("input",{type:"email",name:"email",placeholder:ts.label,"data-test":"commPrefs-signup",oninput({target:e}){r.suggested=wr.run({email:e.value})},onfocus(){r.showSuggested=!1},onblur(){r.showSuggested=!0}}),r.showSuggested&&r.suggested?e("div",{class:Bn.suggestion},e.trust(Pr.sub(ts.suggestion,{email:r.suggested.full}))):null),e("button[type=submit]",{class:t("pure-button","pure-button-primary",[!n,Bn.saved]),disabled:!n,"data-test":"commPrefs-save"},ts.signUp)]}};var as="mc22d631fe_settingsGift",ns="mc22d631fe_small";const ss=D.i18n.settings.gift;var os={view:()=>D.commPrefs.showIncentive?e("div",{class:as},e("h4",ss.header),e("div",e("p",e.trust(ss.copy)),e("div",e("img",{width:126,height:117,src:"https://account.staticwars.com/img/newsletter-incentive.a2bf639f.png",alt:""}))),e("p",{class:ns},ss.disc)):null};const is=D.i18n.settings.commPrefs;let cs;function ls(e){if(!cs)return!1;const t=At(cs);return Pt.validate(t,e).valid}const us={view(){const t=(D.isSteamUser||D.isEpicUser)&&!D.get("commPrefs.email");return D.commPrefs.error?e("p",D.i18n.errors.general):D.commPrefs.doi?e("div",e("h4",is.header),Object.values(is.signedUp.body).map((t=>e("p",Pr.sub(t,{email:decodeURIComponent(D.commPrefs.doiEmail)}))))):[e(os),t?e("p",is.signUpHeader):e("h4",is.newsletters),e(`form.pure-form[method=post][action=/${t?"comm-prefs-signup":"comm-prefs"}]`,Gt({oncreate({dom:e}){cs=e}}),e(`input[type=hidden][name=_formName][value=${t?"commPrefsSignup":"commPrefs"}]`),e(`input[type=hidden][name=signupUrl][value=${window.location.href.split("?")[0]}]`),e(t?rs:es,{isValid:ls}))]}};var ds={view:()=>e("div",{class:Bn.settingsModule},e("h3",is.header),D.china?"Disabled on China":[e(us),e("div",{class:Bn.disc},e.trust(is.disc))])};const{i18n:ps}=D,ms="change-displayname";Dt[ms].displayname.push((e=>e._value!==decodeURIComponent(D.user.user_name).split(".")[0]));var gs={view:()=>D.postSuccess?e(tr,{i18n:{header:ps.forms["change-displayname"].success}}):e(xt,e("h3",ps.forms["change-displayname"].heading),e("p",ps.forms["change-displayname"].subhead),e("form.pure-form[method=post][action=/modals/change-displayname][data-test=displayname-modal]",Gt(),e(`input[type=hidden][name=_formName][value=${ms}]`),e(".pure-u1",e(Yt,{name:"displayname",labelClass:"pure-u-1 pure-u-md-17-24",required:!0,type:"text",strings:ps.forms["change-displayname"],autofocus:!0,autocomplete:!1})),e("span",e("button[type=submit][data-test=displayname-submit].pure-button.pure-button-primary",ps.submit))))};const hs=D.i18n.settings;var fs={view(){const t=D.appData.locks.displayname,r=decodeURIComponent(D.appData.realname),a=decodeURIComponent(D.appData.phone);return e("div.pure-u-1.pure-u-sm-13-24",{class:Bn.settingsModule},e("h3",hs.info),e("div.modField",hs.email,e(".modVal",D.user.login_name)),"None"!==D.remoteRights?e("div.modField","User ID",e("div[data-test=portal-guid].modVal",D.user.user_id)):null,e("div.modField",hs.displayname,t?null:e("button",{class:"modLink","data-test":"change-displayname",onclick(e){e.preventDefault(),D.modal.display(gs)}},D.i18n.edit),e("div[data-test=displayname].modVal",decodeURIComponent(D.user.user_name))),e("div.modField",hs.realname,e("button",{class:"modLink","data-test":"change-realname",onclick(e){e.preventDefault(),D.modal.display(hr,{name:"change-realname",field:"realname",test:e=>e._value.substr(0,100).trim()!==r})}},D.i18n.edit),e("div[data-test=realname].modVal",r)),e("div.modField",hs.phone,e("button",{class:"modLink","data-test":"change-phone",onclick(e){e.preventDefault(),D.modal.display(hr,{name:"change-phone",field:"phone",test:e=>e._value.replace(/\D/g,"")!==a})}},D.i18n.edit),e("div[data-test=phone].modVal",a)))}};const vs=D.i18n.settings;var bs,ws,ys={view:()=>e(".pure-g[data-test=settingsContainer]",{class:Bn.settings},e(fs),e(ds),e("div",{class:Bn.darkmode},e("div",{class:Bn.dmLabel},vs.darkmode),e(Rn)))};var _s,ks,xs=function(){if(ws)return bs;ws=1;const e=/@steam$/;return bs=function(t){return t.replace(e,"")},bs}(),Ss=o(xs);var Cs=function(){if(ks)return _s;ks=1;const e=/@epic$/;return _s=function(t){return t.replace(e,"")},_s}(),Ps=o(Cs);var Ls="mc76842e3d_list";const As=D.i18n.login.error.thirdParty.support;var Es={oninit({attrs:t,state:r}){const{platform:a}=t;r.casedPlatform="steam"===a?"Steam":"Epic",r.platformId="steam"===a?Ss(D.user.login_name):Ps(D.user.login_name),r.displayName=D.user.user_name,r.emailParams=e.buildQueryString({subject:`${r.casedPlatform} support request`,body:`${r.casedPlatform} ID: ${r.steamId}\nDisplay name: ${r.displayName}\nSupport ID: ${D.user.user_id}`}),r.supportEmail=`<a href='mailto:${D.supportEmail}?${r.emailParams}'>${decodeURIComponent(D.supportEmail)}</a>`},view:({state:t})=>e("div.module.pure-u-1.pure-u-md-19-24",e("h3",As.header.replace("{platform}",t.casedPlatform)),e("p",e.trust(Pr.sub(As.p,{supportEmail:t.supportEmail}))),e("ul",{class:Ls},e("li",As.li.platformId.replace("{platform}",t.casedPlatform),t.platformId),e("li",As.li.displayName,t.displayName),e("li",As.li.supportId,D.user.user_id)))};const Ts=D.i18n.allowlist.add;var $s={view(){const t=e.route.param("netaddr");return e(".module.pure-u-1.pure-u-sm-1-2",e("form.pure-form.inner[method=post][action=/allowlist]",Gt(),e("input[type=hidden][name=_formName][value=allowlist]"),e("input[type=hidden][name=userid]",{value:e.route.param("userid")}),e("input[type=hidden][name=sessid]",{value:e.route.param("sessid")}),e("input[type=hidden][name=netaddr]",{value:t}),e("h2",Ts.heading),e("p",Ts.info),e("p",e.trust(Ts.address),` ${t}`),e("button.pure-button.pure-button-primary",Ts.submit)))}};const Is=D.i18n.allowlist.add;var Ns={view:()=>e("div.module.pure-u-1.pure-u-sm-1-2",e("h2",Is.success),e("p",Is.result.success),e(ft,{href:"/login",class:"pure-button pure-button-primary"},D.i18n.login.link))};const Os=D.i18n.allowlist.add;var Ds={view:()=>e(".module.pure-u-1.pure-u-sm-1-2",e("h2",Os.failure),e("p",Os.result.failure))},Ms={view:({attrs:t})=>t.str.split(/\{(.+?)\}/g).map((r=>t.inner[r]?e(t.inner[r]):r))};const Fs=D.i18n,Rs="change-accountname";Dt[Rs].email.push((e=>e._value!==D.user.login_name));var js={view:()=>D.postSuccess?e(tr,{i18n:{header:D.i18n.forms["change-email"].success.header,body:D.i18n.forms["change-email"].success.body.replace("{email}",D.user.login_name)}}):e(xt,e("h3",Fs["password-reset"].confirm.changelogin.heading),e("form.pure-form[method=post][action=/modals/change-account-name][data-test=accountname-modal]",Gt(),e(`input[type=hidden][name=_formName][value=${Rs}]`),e("div.pure-u-1",e("p",e.trust(Fs.forms["change-email"].instruction)),e(Yt,{name:"email",labelClass:"pure-u-1 pure-u-md-17-24",required:!0,type:"text",strings:Fs.forms["change-email"].email,autofocus:!0,autocomplete:!1}),e(Tr,{name:"password",labelClass:"pure-u-1 pure-u-md-17-24",required:!0,strings:Fs.forms.password,toggleTitle:Fs.forms.password.toggle})),e("span",e("button[type=submit][data-test=accountname-submit].pure-button.pure-button-primary",D.i18n.submit))))};const Bs="mcba7af2e3_notSelected";var Us={securityNav:"pure-menu pure-menu-horizontal mcba7af2e3_securityNav",register:"register",notSelected:Bs,selected:"mcba7af2e3_notSelected mcba7af2e3_selected"};function Gs(t){return e.route.get().startsWith(t)?Us.selected:Us.notSelected}var Hs={view(){const t=D.i18n.securityNav;return e("nav",{class:Us.securityNav},e(ft,{href:"/security/settings",class:Gs("/security/settings")},t.settings),D.user.email_verified?null:e(ft,{href:"/security/email",class:Gs("/security/email")},t.email),e(ft,{href:D.twoStepUrl(),class:Gs("/security/2-step")},t["2-step"]))}};const qs=new RegExp("^(?:66\\.162\\.136|10|192\\.168|^172\\.(?:1[6-9]|2[0-9]|3[0-1]))\\.");const Ws=D.i18n.security.settings,zs={view({attrs:e}){if(function(e){return qs.test(e)}(e.network.address))return Ws.internal;if(!e.network.location.country)return Ws.unknown;const t=["city","region","country"].map((t=>e.network.location[t])).filter((e=>e&&"string"==typeof e&&isNaN(parseInt(e,10)))).join(", ");return decodeURIComponent(t)}},Vs={view({attrs:t}){const r=t.allowlist?"allowlist":"login";if(!t.network.current)return e("form[method='post']",Gt({action:`/security/${r}/remove`}),e("input[type='hidden']",{name:"ip",value:t.network.address}),e("input[type='hidden']",{name:"prefix",value:t.network.network_prefix}),e("input[type='hidden']",{name:"location",value:t.network.session}),e("input.modLink[type='submit']",{class:mn.noButtonStyle,value:t.allowlist?Ws.remove:Ws.disconnect}))}};var Qs={view:({attrs:t})=>e("div.modFieldStack",e(zs,t),e(Vs,t),e("div.modVal",t.allowlist?`${t.network.begin_address} - ${t.network.end_address}`:t.network.address))};const Ks=D.i18n.security.settings,Ys={view:()=>e(ft,{href:D.twoStepUrl()},Ks.secureme.editLink)};var Js={view(){const r=D.auth_type,a="sms"===r||"totp"===r,n="darkmode"===D.theme?"https://account.staticwars.com/img/dragon-dm.b4e7c884.jpg":"https://account.staticwars.com/img/dragon.4cdc1346.jpg",s=D.appData.locks.email;return e("div[data-test=securityContainer]",{class:mn.security},e(Hs),e("div.pure-g",e("div.pure-u-sm-20-24.pure-u-md-1-3.pure-u-1.leftCol",e("div.pure-u-1",{class:[mn.securityModule,mn.creds].join(" ")},e("h3",Ks.creds),e("div.modFieldStack",Ks.accname,s?null:e("button",{class:"modLink","data-test":"editAccountName",onclick(e){e.preventDefault(),D.modal.display(js)}},Ks.edit),e("div.modLink",e(fn)),e("div.modVal[data-test='account-name']",decodeURIComponent(D.user.login_name))),e("div.modFieldStack",Ks.password,e("button",{class:"modLink",onclick(e){e.preventDefault(),D.modal.display(sr)}},Ks.edit)),e("div.modFieldStack",Ks.twostep,e(ft,{class:"modLink",href:D.twoStepUrl()},Ks.edit),e("div.modVal",Ks.type[r||"none"])))),e("div.pure-u-1.pure-u-sm-20-24.pure-u-md-2-3",{class:[mn.secureMe,mn.securityModule].join(" ")},e("h3",a?Ks.secureme.secured.head:Ks.secure.label),e("p.pure-u-1",a?Ks.secureme.secured.body1[r]:Ks.secureme.body3),a?null:e("div",{class:mn.unsecuredCtas},e("div.pure-u-1.pure-u-md-1-2",e(ft,{class:"pure-button pure-button-primary",href:D.twoStepUrl()},Ks.getgoing)),D.needsMini?e("div.pure-u-1.pure-u-md-1-2",{class:t(mn.miniDragon,mn.miniBox)},e("img",{src:n,alt:""}),e("div",{class:mn.miniTxt},D.i18n.twostep.signup.sms.done.mini)):null),e("div.pure-u-1.pure-u-md-1-2",{class:mn.secLeftCol},e("h4",{class:mn.subHead},a?Ks.secureme.secured.subhead:Ks.secureme.head1),a?e("p",e(Ms,{str:Ks.secureme.secured.body2,inner:{editLink:Ys}})):e.trust(Ks.secureme.body1)),e("div.pure-u-1.pure-u-md-1-2",{class:mn.secRightCol},e("h4",{class:mn.subHead},Ks.secureme.head2),e("p",e.trust(Ks.secureme.body2)))),e("div.pure-u-sm-20-24.pure-u-md-1-2.pure-u-1.leftCol",e("div.pure-u-1",{class:mn.securityModule},e("h3",Ks.authed_networks),D.allowlist.map((t=>e(Qs,{network:t,allowlist:!0}))))),e("div.pure-u-1.pure-u-sm-20-24.pure-u-md-1-2",{class:mn.securityModule},e("h3",Ks.current_logins),D.logins.map((t=>e(Qs,{network:{location:t.details,session:t.session,current:t.current,address:t.details.address}}))))))}},Zs={view:({attrs:r,children:a})=>e("div",{class:mn.security},e(Hs),e("div",{class:t("module pure-u-sm-20-24 pure-u-1",r.stepCss||"")},a))};const Xs=D.i18n.email.verify;var eo={view:()=>e(Zs,e("p",{class:hn.stepInfo},Xs.info),e("h3",Xs.title),e("p",Xs.body1),e(fn,{button:!0,text:Xs.button}))};const to=D.i18n.twostep.signup.email;var ro={view:()=>e(Zs,e.route.param("resend")&&!D.errorMessage?e("div",{class:hn.resent},to.resent):null,e("p",{class:hn.stepInfo},to.info),e("h3",to.title),e("p",to.body1),e("p",to.body2),e("span",to.resend.text),e(fn,{resend:!0,text:to.resend.link}),e("div",{class:hn.stepFt},e(ft,{href:"/security/settings",class:"pure-button pure-button-primary"},D.i18n.twostep.finish)))};function ao(t,r){"string"==typeof r&&(r=[r]);const a=e.route.param(),n=e.buildQueryString(r.reduce(((e,t)=>(Object.keys(a).includes(t)&&(e[t]=a[t]),e)),{}));return t+(n?`?${n}`:"")}const no=D.i18n.twostep.signup.later;var so={view:()=>e(Zs,e("p",{class:hn.stepInfo},no.info),e("h3",no.title),e("p",no.body1),e("div",{class:hn.stepFt},e(ft,{class:"pure-button pure-button-primary",href:e.route.get().includes("register")?ao("/welcome","alt"):"/content"},D.i18n.twostep.finish)))};const oo=D.i18n.twostep.signup.sms.verify;var io={view(){const t="darkmode"===D.theme?"https://account.staticwars.com/img/dragon-dm.b4e7c884.jpg":"https://account.staticwars.com/img/dragon.4cdc1346.jpg";return D.needsMini?e("div",{class:hn.miniContent},e("a",{class:hn.miniDragon,href:"https://wiki.guildwars2.com/wiki/Mini_Mystical_Dragon"},e("img",{src:t,alt:""}),e("div",oo.dragon))):null}};const co=D.i18n.twostep.signup.sms.verify;var lo={view(){const t=e.route.get().includes("register"),r="call"===e.route.param("type");return e(Zs,{stepCss:D.needsMini?hn.needsMini:""},e("p",{class:hn.stepInfo},co.info),e("h3",e(".pure-u-1.pure-u-md-15-24",co.title)),e("p",D.needsMini?co.bodyMini:co.body),e("div",{class:hn.miniContainer},e("form.pure-u-1.pure-u-md-15-24.pure-form[method=post]",Gt({action:ao("/security/2-step/sms/verify","alt")}),e("input[type=hidden][name=_formName][value=sms-verify]"),e("select[name=countryCode]",D.countries.map((t=>e("option",{value:t.dialingCode,selected:t.countryCode===D.myCountry},`${decodeURIComponent(t.name)} (+${t.dialingCode})`)))),e(Yt,{name:"phone",labelClass:"pure-u-1 pure-u-md-21-24",strings:D.i18n.forms["sms-verify"].phone,autocomplete:"tel"}),e("div",e(Yt,{name:"type",labelClass:"pure-u",strings:D.i18n.forms["sms-verify"].type,type:"radio",checked:!r,value:"text",disabled:"disabled",label:co.text})),e("button[type=submit].pure-button.pure-button-primary",co.next)),e(io)),e("div",e(".pure-u",{class:hn.noSms},`${co.nosms.text} `,e(ft,{href:ao("/security/2-step/totp/download","alt")},co.nosms.link)),t?e(ft,{class:hn.cancel,href:ao("/security/2-step/later","alt")},co.later):null,e("p",{class:hn.disclaimer},co.disclaimer)))}},uo={view({attrs:t}){const r=e.route.get().includes("register"),a=e.route.param("phone"),n=e.route.param("type"),s=D.shared_secret,o=D.i18n.twostep.signup[t.linkType].link,i="sms"===t.linkType;return e("form.pure-form",Gt({method:"POST",action:ao(`/security/2-step/${t.linkType}/link`,"alt")}),e(`input[type=hidden][name=_formName][value=${t.linkType}-link]`),i?[e("input[type=hidden][name=phone]",{value:a}),e("input[type=hidden][name=type]",{value:n})]:e("input[type=hidden][name=secret]",{value:s}),e(Yt,{name:"otp",labelClass:hn.otpLabel,strings:D.i18n.forms[`${t.linkType}-link`].otp,maxlength:i?5:6,autocomplete:"one-time-code"}),e(Yt,{name:"allowlist",strings:D.i18n.forms[`${t.linkType}-link`].allowlist,type:"checkbox",value:!0}),e("a",{class:hn.allowlistInfo},o.allowlist,e(qt,{style:hn.tooltip},e.trust(o["allowlist-info"]))),e("div",{class:hn.stepFt},r?e(ft,{class:hn.cancel,href:ao("/security/2-step/later","alt")},D.i18n.twostep.registered.cancel):null,e("button[type=submit].pure-button.pure-button-primary",{class:hn.next},D.i18n.twostep.next)))}};const po=D.i18n.twostep.signup.sms.link;var mo={view(){const t=e.route.param("phone"),r=e.route.param("countryCode"),a=e.route.param("type");return e(Zs,e.route.param("invalid")?e("div",{class:hn.expiredPrompt},e("h3",po.invalid),e("p",po["invalid-text"]),e(ft,{class:"pure-button pure-button-primary",href:ao("/security/2-step",["alt","phone","type"])},po.tryagain)):null,e.route.param("resend")&&!D.errorMessage?e("div",{class:hn.resent},po.resent):null,e("p",{class:hn.stepInfo},po.info),e("h3",po.title),e("p",Pr.sub(po.body1,{phone:r+t})),e(uo,{linkType:"sms"}),e("div",{class:hn.smsResend},e("form[method=post]",Gt({action:ao("/security/2-step/sms/verify","alt")}),e("input[type=hidden][name=_formName][value=sms-verify]"),e("input[type=hidden][name=phone]",{value:t}),e("input[type=hidden][name=countryCode]",{value:r}),e("input[type=hidden][name=type]",{value:a}),e("input[type=hidden][name=resend][value=true]"),po.resend.text,e("button[type=submit]",{class:hn.buttonLink},po.resend.link))),e("div",{class:hn.smsBack},po.goback.text,e(ft,{class:hn.resend,href:ao("/security/2-step","alt")},po.goback.link)))}};const go=D.i18n.twostep.unlink.sms.warning;var ho={view:()=>e(Zs,e("h3",go.title),e("p",go.body1),e("div",{class:hn.stepFt},e("form[method=post][action=/security/2-step/sms/unlink/warning]",Gt(),e("button.pure-button.pure-button-primary[type=submit]",{class:hn.next},go.button)),e(ft,{class:hn.cancel,href:"/security/settings"},D.i18n.forms.confirm.cancel)))};const fo=D.i18n.twostep.unlink.sms.remove;var vo={view:()=>e(Zs,e.route.param("resend")&&!D.errorMessage?e("div",{class:hn.resent},fo.resent):null,e("h3",fo.title),e("p",e.trust(fo.body1)),e("p",Pr.sub(fo.body2,{phone:D.phone})),e("form",Gt({method:"POST",action:"/security/2-step/sms/unlink/remove",class:hn.smsRemove}),e("input[type=hidden][name=_formName][value=sms-remove]"),e(Yt,{name:"otp1",strings:D.i18n.forms["sms-remove"].otp1,class:"pure-u-1",maxlength:5}),e("div",{class:hn.stepFt},e("button[type=submit].pure-button.pure-button-primary",{class:hn.next},D.i18n.twostep.next))),e("div",{class:hn.smsResend},e("form[method=post][action=/security/2-step/sms/unlink/warning]",Gt(),fo.resend.text,e("input[type=hidden][name=resend][value=true]"),e("button[type=submit]",{class:hn.buttonLink},fo.resend.link))))},bo={view({attrs:t}){const r=e.route.get().includes("register"),a=e.route.param("miniDelivered"),n=D.i18n.twostep.signup[t.type].done,s="darkmode"===D.theme?"https://account.staticwars.com/img/dragon-dm.b4e7c884.jpg":"https://account.staticwars.com/img/dragon.4cdc1346.jpg";return e(Zs,e("p",{class:hn.stepInfo},n.info),e("h3",n.title),e("div.pure-u-1",{class:a?"pure-u-md-10-24":null},e("p",Pr.sub(n.body1,{email:D.user.login_name})),e("p",n.body2)),a?e("div.pure-u-1.pure-u-md-14-24",{class:hn.miniDragon},e("div.pure-u-1",{class:hn.miniBox},e("img",{src:s,alt:""}),e("div",{class:hn.miniTxt},D.i18n.twostep.signup.sms.done.mini))):null,e("div",{class:hn.stepFt},e(ft,{class:"pure-button pure-button-primary",href:r?ao("/welcome","alt"):"/security/settings"},D.i18n.twostep.finish)))}},wo={view({attrs:t}){const r=D.i18n.twostep.unlink[t.type].done;return e(Zs,e("h3",r.title),e("p",r.body1),e("p",D.user&&D.user.email_verified?r.email:r.none),e("div",{class:hn.stepFt},e(ft,{class:"pure-button pure-button-primary",href:"/security/settings"},D.i18n.twostep.finish)))}};const yo="mcdb4790d1_qr";var _o={qr:yo,show:"mcdb4790d1_qr mcdb4790d1_show",hide:"mcdb4790d1_qr mcdb4790d1_hide"};const ko={};var xo={oninit({attrs:e}){ko[e.value]||m.request({method:"POST",url:"/ws/qr",data:{data:e.value}}).then((t=>{ko[e.value]=t.base64}))},view:({attrs:e})=>m("img",{class:ko[e.value]?_o.show:_o.hide,src:ko[e.value],width:e.size||200,height:e.size||200,alt:D.i18n.qrcode})};const So=D.i18n.twostep.signup.totp.link;var Co={onremove(){D.shared_secret=null},view(){const t=D.shared_secret;return e(Zs,e("p",{class:hn.stepInfo},So.info),e("h3",So.title),e(".pure-u-1.pure-u-md-14-24",e("p",{class:hn.noMargin},So.body1),e("p",{class:hn.secretLabel},So.yourCode),e("p",{class:hn.secretCode,key:t},t),e("p",So.body2)),e(".pure-u-1.pure-u-md-10-24",{class:hn.qrCode},t?e(xo,{value:`otpauth://totp/GW2-${D.user.login_name}?secret=${t}`}):null),e("h3",{class:hn.codeTitle},So["code-title"]),e("p",So["code-body"]),e(uo,{linkType:"totp"}))}};function Po(t,r){return{view:(...a)=>D.features[t]?e(r,...a):null}}const Lo=D.i18n.twostep.signup.totp.download,Ao=D.i18n.twostep.signup.sms.verify,Eo={ios:{href:"http://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8&uo=4",target:"ios",alt:"Google Authenticator - Google, Inc.",src:"https://account.staticwars.com/pages/security/2-step/totp/img/ios.476068ab.png"},android:{href:"http://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2",target:"android",alt:"Android app on Google Play",src:"https://account.staticwars.com/pages/security/2-step/totp/img/android.5b4df862.png"},windows:{href:"https://winauth.github.io/winauth/",target:"_blank",alt:"WinAuth",src:"https://account.staticwars.com/pages/security/2-step/totp/img/windows.aaa6ae41.png"}},To={view:({attrs:t})=>e("ul",{class:hn.totpDl},t.apps.map((t=>e("li",e("a",{href:Eo[t].href,target:Eo[t].target},e("img",{alt:Eo[t].alt,src:Eo[t].src,width:"135px",height:"40px"}))))))},$o={view:()=>e("div",e("div.pure-u",{class:hn.noSms},`${Lo.noauthapp.text} `,e(ft,{href:ao("/security/2-step/sms/verify","alt")},Lo.noauthapp.link)),e("p",{class:hn.disclaimer},Ao.disclaimer))};var Io={view(){const t=e.route.get().includes("register");return e(Zs,{stepCss:D.needsMini?hn.needsMini:""},e("p",{class:hn.stepInfo},Lo.info),e("h3",Lo.title),e("p",Lo.body1),e("div",{class:hn.miniContainer},e("div",e("h4",Lo.mobile),e(To,{apps:["ios","android"]}),e("h4",{class:hn.authAppHeader},Lo.desktop),e(To,{apps:["windows"]})),e(io)),e("div",{class:hn.stepFt},t?e(ft,{href:ao("/security/2-step/later","alt"),class:hn.cancel},D.i18n.twostep.registered.cancel):null,e(ft,{class:`${hn.next} pure-button pure-button-primary`,href:ao("/security/2-step/totp/link","alt")},D.i18n.twostep.next)),e(Po("2fa-sms-link",$o)))}};const No=D.i18n.twostep.unlink.totp.warning;var Oo={view:()=>e(Zs,e("h3",No.title),e("p",No.body1),e("div",{class:hn.yesNo},e(ft,{class:"pure-button pure-button-primary",href:"/security/2-step/totp/unlink/remove"},No.button),e(ft,{class:hn.cancel,href:"/security/settings"},D.i18n.forms.confirm.cancel)))};const Do=D.i18n.twostep.unlink.totp.remove;var Mo={view:()=>e(Zs,e("h3",Do.title),e("p",e.trust(Do.body1)),e("p",e.trust(Do.body2)),e("form.pure-form",Gt({method:"POST",action:"/security/2-step/totp/unlink/remove"}),e("input[type=hidden][name=_formName][value=totp-remove]"),e(Yt,{name:"otp1",labelClass:"pure-u-1",strings:D.i18n.forms["totp-remove"].otp1,maxlength:6}),e(Yt,{name:"otp2",labelClass:"pure-u-1",strings:D.i18n.forms["totp-remove"].otp2,maxlength:6}),e("div",{class:hn.stepFt},e("button[type=submit].pure-button.pure-button-primary",{class:hn.next},D.i18n.twostep.next))))};const Fo="module mc41f1d62a_module",Ro="mc41f1d62a_branchClient",jo=Ro+" mc41f1d62a_dlBtn",Bo="mc41f1d62a_gameLink",Uo="mc41f1d62a_icon";var Go={$values:{colors:M},gameContent:"mc41f1d62a_gameContent",gcHeading:"mc41f1d62a_gcHeading",module:Fo,contentHd:"mc41f1d62a_contentHd",addCode:"mc41f1d62a_addCode",minSpec:"mc41f1d62a_minSpec",branchTitle:"mc41f1d62a_branchTitle",branchClient:Ro,dlBtn:jo,branchClients:"mc41f1d62a_branchClients",expandedModule:"module mc41f1d62a_module mc41f1d62a_expandedModule",gw2Module:"module mc41f1d62a_module mc41f1d62a_gw2Module",gameBd:"pure-u-1 mc41f1d62a_gameBd",gameLink:Bo,upIcon:"pure-u mc41f1d62a_gameLink mc41f1d62a_upIcon",siteIcon:"pure-u mc41f1d62a_gameLink mc41f1d62a_siteIcon",win:"mc41f1d62a_branchClient mc41f1d62a_dlBtn pure-u mc41f1d62a_win",icon:Uo,openCode:"mc41f1d62a_icon mc41f1d62a_openCode",openLink:"mc41f1d62a_icon mc41f1d62a_openLink",gw2Content:"pure-u-1 pure-u-sm-14-24 mc41f1d62a_gw2Content",clientInfo:"mc41f1d62a_clientInfo",dlTitle:"mc41f1d62a_dlTitle",eulaAck:"mc41f1d62a_eulaAck",featuresModule:"module mc41f1d62a_featuresModule"};const Ho={view(){const t=D.i18n.gameContent;return e("div.pure-u-1",{class:Go.contentHd},e("button.modLink.floatRight",{class:Go.addCode,onclick(){D.modal.display(er)}},t.openCode))}},qo={view(){const t=D.i18n.gameContent;return e("div.module.pure-u-1",{class:Go.module},e("button",{class:Go.openCode,onclick(e){e.preventDefault(),D.modal.display(er)}},e("h3",{class:Go.gcHeading},t.openCode)))}};var Wo={view(){const t=D.i18n.gameContent;return D.hasGw1||D.isSteamUser||D.isEpicUser?null:e("div.module.pure-u-1",{class:Go.module},e("button",{class:Go.openLink,"data-test":"linkGw1",onclick(e){e.preventDefault(),D.modal.display(cr)}},e("h3",{class:Go.gcHeading},t.openLink)))}},zo=Po("gameFeatures",{view(){const t=D.i18n.gameContent;return e("div.pure-u-1",{class:Go.featuresModule},e("h3",`${D.gameCode} ${t.features}`),e("table",{class:"table"},e("thead",e("tr",e("th","id"),e("th","count"),e("th","max"),e("th","name"))),e("tbody",D.accountFeatures.map((({id:t,count:r,max_count:a,name:n})=>e("tr",e("td",t),e("td",r),e("td",a),e("td",n)))))))}});const Vo=D.i18n.gameContent,Qo=D.i18n.eulaAck,Ko={view({attrs:t}){let r=t.client.os;return t.client.test?r=`${t.client.os}test`:t.client.beta&&(r=`${t.client.os}beta`),e("a",{class:Go[t.client.os],"data-test":"downloadClient",href:Ua(t.client),onclick(){P("send","account_anet_download")}},Vo.download[r],e("br"),Vo.download[`${t.client.bits}bit`])}},Yo={view(t){const{platform:r}=t.attrs;return[e("h3",Vo.downloads.thirdParty.title.replace("{platform}",r)),e("p",Vo.downloads.thirdParty.p.replace("{platform}",r)),e("a",{href:D.get(`urls.${r.toLowerCase()}Install`)},Vo.downloads.thirdParty.a.replace("{platform}",r))]}};var Jo={view(t){const{bestClient:r}=t.attrs;return D.isSteamUser?e(Yo,{platform:"Steam"}):D.isEpicUser?e(Yo,{platform:"Epic"}):[e("h3",Vo.downloads.title),e("div",{class:Go.clientInfo},e("span",{class:Go.dlTitle},Vo.download.client," - "),Vo.download.location),e(Ko,{client:r}),e("p",{class:Go.eulaAck},e.trust(Pr.sub(Qo,{downloadText:Vo.download.win})))]}};const Zo=D.i18n.gameContent;var Xo={oninit({state:e}){const t=Ba();e.clients=[],e.nonGw2BranchClients=[],D.gameList.forEach((r=>{"gw2"===r.branch?r.os!==t.type||r.bits!==t.bits?e.clients.push(r):e.bestClient=r:e.nonGw2BranchClients.push(r)})),e.bestClient||(e.bestClient=e.clients.shift())},view:({state:t})=>e("div",{class:Go.gw2Content},e(Jo,{bestClient:t.bestClient}),e("p",{class:Go.minSpec},e("a",{href:D.get("urls.minSysReqs")},Zo.minimum[t.bestClient.os])),t.nonGw2BranchClients.length?[e("h3",{class:Go.branchTitle},`${Zo.branches.title} - Internal`),e("div",{class:Go.branchClients},t.nonGw2BranchClients.map((t=>e("a",{class:Go.dlBtn,href:Ua(t)},`${t.branch.toUpperCase()} ${t.os}${t.bits}`))))]:null)},ei={view(){const t=D.i18n.gameContent,r=!D.get("gw2Features.full.owned"),a=!D.gw2Features&&D.features;return e("div.pure-u-1",{class:Go.expandedModule},e("div",{class:Go.gameBd},e("h3",{class:Go.gcHeading},t[r?"p4f":"gw2"].title),e("div",{class:Go.gameLinks},D.missingExpansions.length?e("a",{class:Go.upIcon,href:a?"/register?alt=gw2":D.getBuyLink(),config:a&&e.route,target:!a&&"_blank",rel:!a&&"noopener noreferrer"},a?D.i18n.register.link:t.upgrade):null,e("a",{class:Go.siteIcon,href:t.gw2.url},t.site)),D.gameList.length?e(Xo):null))}};const ti=new Intl.DateTimeFormat,ri={goods_names(t,{type:r="html"}={}){switch(r){case"html":return e.trust(t.join("<br>"));case"csv":return`"${t.join(",")}"`;default:return t.join(",")}},cart_location:e=>D.i18n.purchaseHistory.labels.cart_locations[e],payment_type:e=>D.i18n.purchaseHistory.labels.payment_types[e],status:e=>D.i18n.purchaseHistory.labels.statuses[e]};function ai(e){return Number(e).toFixed(2)}const ni=["registered","goods_names","order_key","cart_location","status","subtotal","sales_tax","sales_tax_rate","grand_total","currency_code","payment_type"];const si={INIT:"init",LOADING:"loading",LOADING_DETAILS:"loadingDetails",LOADED:"loaded",ERROR:"error",EMPTY:"empty"},oi="Error fetching orders",ii="Error fetching order details",ci={page:void 0,page_size:10,orders:void 0,total_count:void 0,details:void 0,csv:void 0,errorState:void 0,error:void 0};class li{#t;#r={};#a={};constructor({apiUrl:e}){Object.assign(this,ci),this.#t=e,this.state=si.INIT}#n(e){Object.assign(this,ci),this.state=si.ERROR,this.errorState=oi,this.error=e}#s(e){this.details=ci.details,this.state=si.ERROR,this.errorState=ii,this.error=e}#o(e={}){Object.assign(this,e),this.#r[this.page]=this.orders,this.csv=function(e){if(!e)return;const t=D.i18n.purchaseHistory;return[ni.map((e=>t.labels[e]||e)),...e.map((e=>ni.map((t=>{const r=e[t];return ri[t]?ri[t](r,{type:"csv"}):r}))))].map((e=>e.join(","))).join("\n")}(this.orders),this.state=this.total_count?si.LOADED:si.EMPTY}async getOrders({page:t=1}){if(this.page===t)return;this.page=t,this.orders=ci.orders,this.csv=ci.csv,this.details=ci.details;const r=this.#r[t];if(r)this.#o({page:t,orders:r});else{this.state=si.LOADING;e:try{const e=await fetch(`/wapi/api/user/orders?page=${t}&format=json`,{method:"GET",credentials:"include"});if(404===e.status){this.#o({page:t,orders:[],total_count:0});break e}const{wapi:r}=await e.json(),{orders:a,total_count:n}=r;a.forEach((e=>{var t;e.registered=(t=e.registered,ti.format(new Date(t))),e.grand_total=ai(e.grand_total),e.sales_tax=ai(e.sales_tax),e.status=e.current_order_process_status,3===e.current_order_process_status&&3!==e.current_order_process_type&&(e.status=12)})),this.#o({page:t,orders:a,total_count:n})}catch(e){this.#n(e)}e.redraw()}}async getDetails(t){const r=this.#a[t];if(r)this.details=r;else{this.details=ci.details,this.state=si.LOADING_DETAILS;try{const e=await fetch(`/wapi/api/user/orders/${t}?format=json`,{method:"GET",credentials:"include"});if(404===e.status)throw new Error("Order details not found");const{wapi:r}=await e.json();r.grand_total=ai(r.grand_total),r.refund_total=ai(r.refund_total),r.subtotal=ai(r.subtotal),r.taxes.sales_tax=ai(r.taxes.sales_tax),r.taxes.sales_tax_rate=`${(100*r.taxes.sales_tax_rate).toFixed(2)}%`,r.line_items.forEach((e=>{e.goods_base_price=ai(e.goods_base_price),e.goods_discount_amount=ai(e.goods_discount_amount),e.goods_sale_price=ai(e.goods_sale_price)})),this.#a[t]=r,this.details=r,this.state=si.LOADED}catch(e){this.#s(e)}e.redraw()}}}const ui="mc6757e24d_action",di="mc6757e24d_currency";var pi={$values:{colors:M,tableCellPaddingVertical:R,tableCellPaddingHorizontal:j,firstLastTableCellPadding:B,hideOrderKey:"850px",hideCartLocation:"650px",hideStatus:"500px",lowOpacity:"0.2",highOpacity:"0.5"},tableContainer:"mc6757e24d_tableContainer",table:"table mc6757e24d_table",skeletonRow:"mc6757e24d_skeletonRow",registered:"mc6757e24d_registered",order_key:"mc6757e24d_order_key",cart_location:"mc6757e24d_cart_location",goods_names:"mc6757e24d_goods_names",detailsTable:"mc6757e24d_detailsTable",status:"mc6757e24d_status",grand_total:"mc6757e24d_grand_total",action:ui,actionExpanded:"mc6757e24d_action mc6757e24d_actionExpanded",dummyRow:"mc6757e24d_dummyRow",subtotal_row:"mc6757e24d_subtotal_row",grand_total_row:"mc6757e24d_grand_total_row",sales_tax_row:"mc6757e24d_sales_tax_row",detailsContainer:"mc6757e24d_detailsContainer",order_keySmall:"mc6757e24d_order_keySmall",vat:"mc6757e24d_vat",price:"mc6757e24d_price",detailsFooter:"mc6757e24d_detailsFooter",payment_method:"mc6757e24d_payment_method",download:"mc6757e24d_download",currency:di,currencyHideSmall:"mc6757e24d_currency mc6757e24d_currencyHideSmall"};const mi={USD:"$",EUR:"\u20ac",GBP:"\xa3"},gi={0:"https://account.staticwars.com/pages/content/img/braintree.a0479015.svg",1:"https://account.staticwars.com/pages/content/img/paypal.24e6f5cb.svg",2:"https://account.staticwars.com/pages/content/img/credit-card.4d7a3505.svg",4:"https://account.staticwars.com/pages/content/img/adyen.1f461306.svg"},hi={view({attrs:t}){const{amount:r,currencyCode:a,hideSmall:n}=t;return e("span",{class:pi.price},mi[a],r," ",e("span",{class:n?pi.currencyHideSmall:pi.currency},a))}},fi={oninit({attrs:e}){const{order_key:t}=e.purchase;D.purchaseHistory.getDetails(t)},view({attrs:t}){const{purchaseHistory:r}=D,a=D.i18n.purchaseHistory;return[e("tr",{class:pi.dummyRow},e("td",{colspan:"100%"})),e("tr",e("td",{colspan:"100%"},r.details&&e("div",{class:pi.detailsContainer},e("table",{class:pi.detailsTable},e("tbody",r.details.line_items.map((t=>e("tr",e("td",{class:pi.goods_names},t.goods_name),e("td",e(hi,{amount:t.goods_sale_price,currencyCode:r.details.currency_code}))))),e("tr",{class:pi.subtotal_row},e("td",e("span",a.labels.subtotal)),e("td",e(hi,{amount:r.details.subtotal,currencyCode:r.details.currency_code}))),e("tr",{class:pi.sales_tax_row},e("td",e("span",a.labels.sales_tax,e("span",{class:pi.vat},`(${r.details.taxes.sales_tax_rate})`))),e("td",e(hi,{amount:r.details.taxes.sales_tax,currencyCode:r.details.currency_code}))),e("tr",{class:pi.grand_total_row},e("td",a.labels.grand_total),e("td",e(hi,{amount:r.details.grand_total,currencyCode:r.details.currency_code}))))),e("div",{class:pi.detailsFooter},e("p",{class:pi.payment_method},a.labels.payment_type,a.labels.colon," ",e("img",{src:gi[t.purchase.payment_type]})," ",a.labels.payment_types[t.purchase.payment_type]),e("p",{class:pi.order_key},a.labels.order_key,a.labels.colon," ",t.purchase.order_key),e("p",{class:pi.cart_location},a.labels.cart_location,a.labels.colon," ",ri.cart_location(t.purchase.cart_location)),e("p",{class:pi.status},a.labels.status,a.labels.colon," ",ri.status(t.purchase.status)))),r.state===si.LOADING_DETAILS&&e(s,{fixed:!1})))]}},vi=["registered","goods_names","order_key","cart_location","status","grand_total"],bi={view(){const{purchaseHistory:t}=D;return Array(t.page_size).fill().map(((t,r)=>e("tr",{class:pi.skeletonRow},vi.map(((t,a)=>e("td",{class:pi[t],style:`--delay: ${.1*(r+a)}s`},"\xa0"))),e("td",{class:pi.action}))))}};var wi={onbeforeupdate({state:e}){e.showRowPage!==D.purchaseHistory.page&&(e.showRowId=null)},view({state:t}){const r=D.i18n.purchaseHistory,{purchaseHistory:a}=D;return!a.state===si.EMPTY?null:e("div",{class:pi.tableContainer},a.csv&&e("a",{class:pi.download,href:`data:text/csv;charset=utf-8,${encodeURIComponent(a.csv)}`,"aria-label":r.download,download:r.filename.replace("{page}",a.page)},e("img",{src:"https://account.staticwars.com/pages/content/img/download.28475f08.svg",alt:""})),e("table",{"data-test":`purchase-history-${a.state}`,class:pi.table},e("thead",e("tr",vi.map((t=>e("th",{class:pi[t]},r.labels[t]))),e("th",{class:pi.action},e.trust("&nbsp;")))),e("tbody",{"data-test":`purchase-history-page-${a.page}`},a.state===si.LOADING&&e(bi),a.orders?.map((n=>{const s=t.showRowId===n.order_key;return[e("tr",vi.map((t=>{let r=n[t];return"grand_total"===t?r=e(hi,{amount:r,currencyCode:n.currency_code,hideSmall:!0}):ri[t]&&(r=ri[t](r)),e("td",{class:pi[t]},r)})),e("td",{class:s?pi.actionExpanded:pi.action},e("button",{"aria-label":r.details[s?"showLess":"showMore"],onclick(){t.showRowId=s?null:n.order_key,t.showRowPage=a.page}},e("img",{src:"https://account.staticwars.com/pages/content/img/arrow.274f78dc.png",alt:""})))),s&&e(fi,{purchase:n})]})))))}};var yi={$values:{colors:M},pagination:"mc750f7051_pagination","pagination-first":"mc750f7051_pagination-first","pagination-previous":"mc750f7051_pagination-previous","pagination-next":"mc750f7051_pagination-next","pagination-last":"mc750f7051_pagination-last","pagination-page":"mc750f7051_pagination-page"};function _i(e,t,r){const a=[],n=Math.ceil(t/r);if(n<=5)return s=1,o=n+1,Array.from({length:o-s},((e,t)=>t+s));var s,o;let i=e,c=0;for(;a.length<5&&c<10;){i>0&&i<=n&&a.push(i);i=e+(c%2==0?-1:1)*(Math.floor(c/2)+1),c++}return a.sort(((e,t)=>Number(e)-Number(t)))}function ki({key:t,page:r,attrs:a}){const n=D.i18n.purchaseHistory,{purchaseHistory:s}=D;return e("button",{"data-active":!t&&r===s.page,"data-page":r,"aria-label":n.pagination[t]||r,"data-test":`pagination-button-${t||r}`,title:n.pagination[t],key:t||r,class:yi[t?`pagination-${t}`:"pagination-page"],...a,onclick(e){e.preventDefault(),r!==s.page&&s.getOrders({page:r})}},t?e("img",{src:{first:"https://account.staticwars.com/pages/content/img/first.a90cf34e.svg",previous:"https://account.staticwars.com/pages/content/img/previous.448642b8.svg",next:"https://account.staticwars.com/pages/content/img/next.5ee3f135.svg",last:"https://account.staticwars.com/pages/content/img/last.d0c30a8c.svg"}[t]}):r)}var xi={view(){const{purchaseHistory:t}=D;if(!t.total_count||t.total_count<=t.page_size)return null;const{total_count:r,page:a,page_size:n}=t,s=_i(a,r,n),o=Math.ceil(r/n),i=a+1<o?a+1:o,c=a-1>0?a-1:1;return e("nav",{class:yi.pagination,"data-test":`purchase-history-pagination-${s.length}`},[{key:"first",page:1,attrs:{disabled:1===a}},{key:"previous",page:c,attrs:{disabled:a===c}}].map(ki),s.map((e=>ki({page:e}))),[{key:"next",page:a+1<o?a+1:o,attrs:{disabled:a===i}},{key:"last",page:o,attrs:{disabled:a===o}}].map(ki))}};var Si={$values:{hideCurrencySymbol:"600px"},bd:"module mc9913131c_bd",buySiteCtas:"mc9913131c_buySiteCtas",storeButtons:"mc9913131c_storeButtons",storeButton:"pure-button pure-button-primary pure-u mc9913131c_storeButton",legal:"mc9913131c_legal",error:"mc9913131c_error"};const Ci={view(){const t=D.i18n.purchaseHistory,r={Portal:["gw2","gw1"],Steam:["gw2"],Epic:["gw2"]}[D.provider],a=`${D.provider.toLowerCase()}Install`;return e("div",{class:Si.buySiteCtas},e("p",e.trust(t.buySite[D.provider])),e("div",{class:Si.storeButtons},r.map((r=>e("a",{class:Si.storeButton,href:D.getBuyLink(r)},t.buySiteCta[D.provider][r])))),e("p",e.trust(Pr.sub(t.buySite.cs,{supportEmail:D.supportEmail}))),e("p",e("a",{href:D.urls[a]},t.buySite.kb)))}};var Pi={oninit(){D.purchaseHistory=new li({apiUrl:D.urls.wapiUrl}),D.isSteamUser||D.purchaseHistory.getOrders({page:1})},view(){const t=D.i18n.purchaseHistory,{purchaseHistory:r}=D;return[r.errorState===oi&&e("p",{class:Si.error},t.errors.loading),!D.isThirdParty&&r.state===si.EMPTY&&e("p",{"data-test":"purchase-history-empty"},t.empty),D.isThirdParty&&e("p",e.trust(Pr.sub(t.thirdPartyHistory[D.provider],{href:D.urls.purchaseHistory[D.provider]}))),(D.isSteamUser||r.state===si.EMPTY)&&e(Ci),[si.LOADING,si.LOADED,si.LOADING_DETAILS].includes(r.state)&&[e(wi),e(xi)]]}};var Li,Ai=Po("purchaseHistory",{view(){const t=D.i18n.purchaseHistory;return e("div.pure-u-1",{class:Si.bd},e("h3",t.title),e(Pi),e("div",{class:Si.legal},t.legal.map((t=>e("p",e.trust(Pr.sub(t,{faqUrl:D.urls.purchaseSupport}))))),e("p","NC Interactive, LLC | 3180 139th Avenue SE, #500 | Bellevue, WA 98005")))}}),Ei={view:()=>[e("div.pure-g",{class:Go.gameContent,"data-test":"contentContainer"},e(Ho),e(ei),e(Ai),e(zo),e(qo),e(Wo))]},Ti={exports:{}};var $i=(Li||(Li=1,function(e,t){var r;r=function(){return function(){var e={686:function(e,t,r){r.d(t,{default:function(){return x}});var a=r(279),n=r.n(a),s=r(370),o=r.n(s),i=r(817),c=r.n(i);function l(e){try{return document.execCommand(e)}catch(e){return!1}}var u=function(e){var t=c()(e);return l("cut"),t},d=function(e,t){var r=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),r=document.createElement("textarea");r.style.fontSize="12pt",r.style.border="0",r.style.padding="0",r.style.margin="0",r.style.position="absolute",r.style[t?"right":"left"]="-9999px";var a=window.pageYOffset||document.documentElement.scrollTop;return r.style.top="".concat(a,"px"),r.setAttribute("readonly",""),r.value=e,r}(e);t.container.appendChild(r);var a=c()(r);return l("copy"),r.remove(),a},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},r="";return"string"==typeof e?r=d(e,t):e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==e?void 0:e.type)?r=d(e.value,t):(r=c()(e),l("copy")),r};function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,r=void 0===t?"copy":t,a=e.container,n=e.target,s=e.text;if("copy"!==r&&"cut"!==r)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==n){if(!n||"object"!==m(n)||1!==n.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===r&&n.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===r&&(n.hasAttribute("readonly")||n.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return s?p(s,{container:a}):n?"cut"===r?u(n):p(n,{container:a}):void 0};function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function f(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=y(e);if(t){var n=y(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return w(this,r)}}function w(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function _(e,t){var r="data-clipboard-".concat(e);if(t.hasAttribute(r))return t.getAttribute(r)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(s,e);var t,r,a,n=b(s);function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=n.call(this)).resolveOptions(t),r.listenClick(e),r}return r=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===h(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=o()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget,r=this.action(t)||"copy",a=g({action:r,container:this.container,target:this.target(t),text:this.text(t)});this.emit(a?"success":"error",{action:r,text:a,trigger:t,clearSelection:function(){t&&t.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(e){return _("action",e)}},{key:"defaultTarget",value:function(e){var t=_("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return _("text",e)}},{key:"destroy",value:function(){this.listener.destroy()}}],a=[{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return p(e,t)}},{key:"cut",value:function(e){return u(e)}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,r=!!document.queryCommandSupported;return t.forEach((function(e){r=r&&!!document.queryCommandSupported(e)})),r}}],f((t=s).prototype,r),f(t,a),s}(n()),x=k},828:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:function(e,t,r){var a=r(828);function n(e,t,r,a,n){var o=s.apply(this,arguments);return e.addEventListener(r,o,n),{destroy:function(){e.removeEventListener(r,o,n)}}}function s(e,t,r,n){return function(r){r.delegateTarget=a(r.target,t),r.delegateTarget&&n.call(e,r)}}e.exports=function(e,t,r,a,s){return"function"==typeof e.addEventListener?n.apply(null,arguments):"function"==typeof r?n.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return n(e,t,r,a,s)})))}},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var r=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===r||"[object HTMLCollection]"===r)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,t,r){var a=r(879),n=r(438);e.exports=function(e,t,r){if(!e&&!t&&!r)throw new Error("Missing required arguments");if(!a.string(t))throw new TypeError("Second argument must be a String");if(!a.fn(r))throw new TypeError("Third argument must be a Function");if(a.node(e))return function(e,t,r){return e.addEventListener(t,r),{destroy:function(){e.removeEventListener(t,r)}}}(e,t,r);if(a.nodeList(e))return function(e,t,r){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,r)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,r)}))}}}(e,t,r);if(a.string(e))return function(e,t,r){return n(document.body,e,t,r)}(e,t,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(e){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var r=e.hasAttribute("readonly");r||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),r||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var a=window.getSelection(),n=document.createRange();n.selectNodeContents(e),a.removeAllRanges(),a.addRange(n),t=a.toString()}return t}},279:function(e){function t(){}t.prototype={on:function(e,t,r){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var a=this;function n(){a.off(e,n),t.apply(r,arguments)}return n._=t,this.on(e,n,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),a=0,n=r.length;a<n;a++)r[a].fn.apply(r[a].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),a=r[e],n=[];if(a&&t)for(var s=0,o=a.length;s<o;s++)a[s].fn!==t&&a[s].fn._!==t&&n.push(a[s]);return n.length?r[e]=n:delete r[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}return r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r(686)}().default},e.exports=r()}(Ti)),Ti.exports),Ii=o($i);var Ni="mc77d066a1_application",Oi="mc77d066a1_twitch",Di="mc77d066a1_check",Mi="mc77d066a1_learn";const Fi=D.i18n.drops.check,Ri="fulfilled",ji="none";function Bi(e){let t;switch(e){case Ri:t=D.i18n.success;break;case ji:t=D.i18n.complete;break;default:t=D.i18n.failure}return{i18n:{header:t,body:Fi[e]},name:e}}var Ui=Po("checkTwitchDrops",{checking:!1,view:t=>D.twitch_id?e("button",{class:Di,"data-test":"check-undelivered-drops",onclick(r){r.preventDefault(),t.state.checking=!0,D.loading=!0,e.request({method:"POST",url:"/twitch/check-drops"}).then((e=>{D.modal.display(tr,Bi(e.status))})).catch((e=>{D.modal.display(tr,Bi(e.message))})).finally((()=>{t.state.checking=!1,D.loading=!1}))},disabled:t.state.checking},Fi.check):null});const Gi=D.i18n.oauth2.linking;var Hi=Po("twitchDrops",{view(){const t=D.twitch_id?"post":"get",r=D.twitch_id?"/oauth2/disconnect-account?client_id=twitch_drops":"/oauth2/init-account-linking?client_id=twitch_drops";return e("form",Gt({method:t,action:r,onSuccess(){D.twitch_id&&(D.modal.display(tr,{i18n:{header:D.i18n.success,body:Gi.disconnect.twitchComplete}}),D.twitch_id=null)}}),e("div",{class:Ni},e("h4","Twitch"),e("button[type=submit]",{class:Oi,"data-test":D.twitch_id?"disconnect-twitch":"connect-twitch","aria-label":D.twitch_id?Gi.disconnect.twitch:Gi.connect.twitch},D.twitch_id?Gi.disconnect.plain:Gi.connect.plain)),e("a",{href:D.get("urls.twitchInfo"),class:Mi},Gi.twitchInfo),e(Ui))}});const qi="mc6c2f4d74_subtext",Wi="mc6c2f4d74_keyEye",zi=Wi+" mc6c2f4d74_keyCopy",Vi="mc6c2f4d74_keyPermissions",Qi="mc6c2f4d74_permission";var Ki={$values:{colors:M},applications:"pure-g mc6c2f4d74_applications",module:"mc6c2f4d74_module",pureBtnSecondary:"mc6c2f4d74_pureBtnSecondary",subtext:qi,newKey:"mc6c2f4d74_subtext pure-button mc6c2f4d74_newKey",apiKey:"mc6c2f4d74_apiKey",keyName:"mc6c2f4d74_keyName",keyContainer:"mc6c2f4d74_keyContainer",key:"mc6c2f4d74_key",keyCode:"mc6c2f4d74_keyCode",keyEye:Wi,keyCopy:zi,qrBtn:"mc6c2f4d74_keyEye mc6c2f4d74_keyCopy mc6c2f4d74_qrBtn",actions:"mc6c2f4d74_actions",keyPermissions:Vi,permissionName:"mc6c2f4d74_permissionName",permissionDesc:"mc6c2f4d74_permissionDesc",permission:Qi,edit:"mc6c2f4d74_keyPermissions mc6c2f4d74_edit",permWithGear:"mc6c2f4d74_permission mc6c2f4d74_permWithGear",drops:"mc6c2f4d74_drops"},Yi={view:()=>e("div.module.pure-u-1",{class:Ki.module},e("h3",D.i18n.oauth2.accountLinking),e("ul",e("li",e(Hi))))},Ji={view:({attrs:t,children:r})=>e(".module.pure-u-1",{class:Ki.module},e("h3",t.header),e("p",{onclick(t){const r=t.target.getAttribute("href")||"";"/"===r.charAt(0)&&(t.preventDefault(),e.route.set(r))}},e.trust(t.desc)),r)};const Zi=D.i18n.apikeys;var Xi={oninit({state:e}){e.qr=!1},view({state:r}){const a=D.keys;return[e("div[data-test=create-text].pure-u-1",e(Ji,{header:Zi.index.header,desc:Zi.index.desc})),e("div.module.pure-u-1",{class:Ki.module},e(ft,{"data-test":"create-button",href:"/applications/create",class:a.length>=D.maxKeysPerUser?"pure-button-disabled":Ki.newKey,onclick:a.length<D.maxKeysPerUser?void 0:()=>!1},Zi.index.list.new),e("h3",Zi.index.list.header),e("div",a.length?a.map((a=>{const n=`/applications/${a.id}`;return e("div",{class:Ki.apiKey,key:a.id},e("h4",[e("span[data-test=api-key]",{class:Ki.keyName},decodeURIComponent(a.name)),e(ft,{href:`${n}/edit`,class:Ki.subtext},Zi.index.list.edit),e(ft,{href:`${n}/delete`,class:Ki.subtext},Zi.index.list.delete)]),e("div",{class:Ki.keyContainer},e("input",{class:Ki.keyCode,style:{opacity:a.mask?0:1},id:`key-${a.id}`,value:a.key,type:a.dontHide?"text":"password",readonly:!0,onclick({currentTarget:e}){e.setSelectionRange(0,e.value.length)}}),e("div",{class:Ki.actions},e("button[data-test=key-visibility]",{class:Ki.keyEye,onclick(){a.dontHide=!a.dontHide,a.dontHide?a.timeout=setTimeout((()=>{delete a.dontHide,e.redraw()}),3e3):clearTimeout(a.timeout)}}),e("button[data-test=copy-key]",{class:t(Ki.keyCopy,"key-copy"),"data-clipboard-target":`#key-${a.id}`,onclick(){const t=a.dontHide;a.dontHide=!0,a.mask=!t,setTimeout((()=>{a.dontHide=t,delete a.mask,e.redraw()}),20)}}),e("button[data-test=key-qr]",{class:Ki.qrBtn,onclick(){r.qr=r.qr!==a.key&&a.key}})),r.qr===a.key?e("div",{class:Ki.key},e(xo,{value:r.qr})):null),e("ul",{class:Ki.keyPermissions},a.scopes.map((t=>e("li",{class:Ki.permWithGear},e("abbr",{title:Zi.scopes[t]||""},t))))))})):e("div.no-keys",Zi.index.list.empty)))]}},ec={view:()=>e("div",{class:Ki.applications,"data-test":"applicationsContainer",oncreate(){new Ii(".key-copy")}},e("div.pure-u-sm-20-24.pure-u-md-1-3.pure-u-1.leftCol",e(Yi)),e("div.pure-u-1.pure-u-sm-20-24.pure-u-md-2-3.rightCol",e(Xi)))},tc={oninit(e){e.state.value=e.attrs.value},view:e=>m("div",{class:Ki.applications,"data-test":`${e.attrs.name}Form`},m(".pure-u-1",m(Ji,{header:e.attrs.i18n.header,desc:e.attrs.i18n.desc}),m(".module.pure-u-1",{class:Ki.module},m("form.pure-form",Gt({strings:e.attrs.formI18n.name,method:"post",action:e.attrs.action}),m("input[type='hidden'][name='_formName'][value='apikey']"),m(Yt,{name:"name",strings:e.attrs.formI18n.name,labelClass:"pure-u-1",maxlength:128,value:e.state.value,oninput:m.withAttr("value",(t=>{e.state.value=t}))}),e.children,m("button.pure-button.pure-button-primary[type=submit]",e.attrs.i18n.submit),m(ft,{href:"/applications",class:["pure-button",Ki.pureBtnSecondary].join(" ")},e.attrs.i18n.cancel)))))};const rc=D.i18n.apikeys.edit,ac=D.i18n.forms.apikeys.edit;var nc={view(){const t=e.route.param("id"),r=D.key||D.keys.find((e=>e.id===t));return e(tc,{action:`/applications/${t}/edit`,i18n:rc,formI18n:ac,value:decodeURIComponent(r.name)})}};const sc=D.i18n.apikeys.create,oc=D.i18n.forms.apikeys.create;var ic={view:()=>m(tc,{name:"createKey",action:"/applications/create",i18n:sc,formI18n:oc},m("ul",{class:Ki.edit},(D.scopes||[]).map((e=>{const t=`permission-${e}`;return m("li",{class:Ki.permission},m("input",Object.assign({id:t,name:"permissions[]",type:"checkbox",value:e},"account"===e?{checked:"checked",readonly:"",onclick:()=>!1}:null)),m("label",{class:Ki.permissionName,for:t},e),m("div",{class:Ki.permissionDesc},D.i18n.apikeys.scopes[e]))}))))};const cc=D.i18n.apikeys;var lc={view(){const t=e.route.param("id");return e("div",{class:Ki.applications},e(".pure-u-1",e(Ji,{header:cc.delete.header,desc:cc.delete.desc},e("form.pure-form",Gt({method:"post",action:`/applications/${t}/delete`}),e("button.pure-button.pure-button-primary",{type:"submit"},cc.delete.submit),e(ft,{href:"/applications",class:["pure-button",Ki.pureBtnSecondary].join(" ")},cc.delete.cancel)))))}};var uc={error:"module mc93e2bb63_error"};let dc;var pc={oninit(){e.request({url:"https://api.guildwars2.com/v2/quaggans/cry"}).then((({url:e})=>{dc=e}))},view:()=>dc?e("div",{class:uc.error},e("img",{src:dc,alt:""})):null},mc={oninit(){D.errorMessage||(window.location=e.route.get())},view:()=>D.errorMessage?e(pc):null};var gc="mca50206ab_p";const hc=D.i18n;var fc={oninit(e){e.state.bodyTxt=hc.oauth2.linkingComplete.body.split("{Applications}")},view:t=>e(".module.pure-u-1.pure-u-sm-1-2",{"data-test":"account-linking-success"},e("h2",hc.oauth2.linkingComplete.header),e("p",{class:gc},t.state.bodyTxt[0]),e(ft,{href:"/applications"},hc.nav.applications),e("p",{class:gc},t.state.bodyTxt[1]))};const vc="pure-u-1-3 mc538071e9_social";var bc={$values:{colors:M},socials:"mc538071e9_socials",social:vc,facebook:"pure-u-1-3 mc538071e9_social mc538071e9_facebook",tumblr:"pure-u-1-3 mc538071e9_social mc538071e9_tumblr",youtube:"pure-u-1-3 mc538071e9_social mc538071e9_youtube",twitter:"pure-u-1-3 mc538071e9_social mc538071e9_twitter",forums:"pure-u-1-3 mc538071e9_social mc538071e9_forums",twitch:"pure-u-1-3 mc538071e9_social mc538071e9_twitch"};const wc=D.i18n.social;var yc={oninit(e){e.state.links=Object.entries(wc.links)},view:t=>e(".module",e("h3",wc.header),e("div",{class:bc.socials},t.state.links.map((([t,r])=>e("a",{class:bc[t],href:r},t)))))};const _c="mc5c80d38e_subContent",kc="mc5c80d38e_unsubSuccess";var xc={$values:{colors:M},subContent:_c,unsubContent:"mc5c80d38e_unsubContent",unsubForm:"mc5c80d38e_unsubForm",suggestion:"mcc2f0cfba_suggestion mc5c80d38e_suggestion",unsubDisc:"mc5c80d38e_unsubDisc",unsubSuccess:kc,unsubError:"mc5c80d38e_unsubError",formThanks:"mc5c80d38e_formThanks",unsubFormHide:"mc5c80d38e_unsubFormHide",unsubQuestion:"mc5c80d38e_unsubQuestion",module:"module",unsubAnswers:"mc5c80d38e_unsubAnswers",thanks:"mc5c80d38e_thanks",thanksShow:"mc5c80d38e_thanksShow",unsubscribe:"unsubscribe",error:"error",body:"body"};const Sc=D.i18n.unsubscribe,Cc={radios:{}};function Pc(e){e.stopPropagation()}var Lc={view:()=>e("div",e("h2",{class:xc.unsubSuccess},Sc.success.header),e("div",{class:xc.formThanks},e("div",{class:t(xc.unsubForm,[Cc.replied,xc.unsubFormHide])},e("p",{class:xc.unsubQuestion},e.trust(Sc.success.question)),e("form.pure-form",{onsubmit(e){e.preventDefault(),Cc.replied||Object.keys(Cc.radios).forEach((e=>{Cc.radios[e]&&(Cc.replied=!0,Nr({event:"gtm-unsubReason",eventCategory:"email",eventAction:"unsubReason",eventLabel:Sc.unsub.reasons[e]}))}))},oninput:Pc,onchange:Pc},e("div",{class:xc.unsubAnswers},Object.keys(Sc.unsub.reasons).map((t=>e("label.field.pure-u-1",e("input[type=checkbox].pure-u",{onchange(e){Cc.radios[t]=e.currentTarget.checked}}),e(".labelText.pure-u",Sc.unsub.reasons[t]))))),e("button[type=submit].pure-button.pure-button-primary",Sc.unsub.submit))),e("p",{class:t(xc.thanks,[Cc.replied,xc.thanksShow])},Sc.thanks)),e("p",e.trust(Sc.success.resub)))};const Ac=D.i18n.unsubscribe;var Ec={view:()=>e("div",e("h2",{class:xc.unsubError},Ac.error.header),e("p",{class:xc.unsubQuestion},Ac.error.req),e("p",{class:xc.unsubQuestion},e.trust(Ac.error.support)))};const Tc=D.i18n.unsubscribe,$c=D.i18n.forms.unsubscribe;var Ic={oninit({state:e}){e.emailSuggestion=""},view:({state:t})=>e("div",{class:xc.unsubContent},e(".pure-u-sm-3-4.pure-u-1",e("div",D.unsubscribed?D.unsubscribed.success?e(Lc):e(Ec):[e("h2",Tc.header),e("form.pure-form",Gt({class:xc.unsubForm,method:"post",action:"/unsubscribe"}),e("input[type=hidden][name=_formName][value=unsubscribe]"),e(Yt,{name:"email",labelClass:"pure-u-1",strings:$c.email,autocomplete:"email",type:"email",onchange:e.withAttr("value",(e=>{const r=wr.run({email:e});t.emailSuggestion=r?r.full:""}))}),e("div",{class:xc.suggestion},t.emailSuggestion?e.trust(Pr.sub($c.emailSuggestion,{email:t.emailSuggestion})):null),e("button[type=submit].pure-button.pure-button-primary",$c.submit))]),e(yc),e("p",{class:xc.unsubDisc},e.trust(Tc.disc))))};var Nc={$values:{colors:M,cronos:F.cronos,eason:F.eason,easonCaps:F.easonCaps,fonts:F},subContent:"mc5c80d38e_subContent pure-u-sm-3-4 pure-u-1 mc6a98ee60_subContent",success:"mc5c80d38e_unsubSuccess mc6a98ee60_success",eod:"serif module mc6a98ee60_eod",mobImg:"mc6a98ee60_mobImg",button:"pure-button pure-button-primary mc6a98ee60_button"};const Oc=D.i18n.subscribed;var Dc={oninit(){P("send","account_anet_doi")},view:()=>e("div",{class:Nc.subContent},e("h2",{class:Nc.success},Oc.header),e("p",Oc.info),e("a",{class:Nc.eod,href:D.getBuyLink(),"data-test":"buyLink"},e("img",{class:Nc.mobImg,src:"https://account.staticwars.com/pages/subscribed/img/eod-mobile.2f748243.jpg",alt:""}),e("div",e("p",e.trust(Oc.eodAd)),e("span",{class:Nc.button},Oc.buyNow))),e(yc))};function Mc({key:e,value:t,domain:r,exp:a}){document.cookie=`${e}=${t};domain=${r};expires=${a};SameSite=None;Secure`}wr.defaultDomains.push("163.com","abv.bg","adelphia.net","aim.com","alice.it","aol.com","arcor.de","att.net","bellsouth.net","bigpond.com","bluewin.ch","blueyonder.co.uk","btinternet.com","charter.net","club-internet.fr","comcast.net","cox.net","earthlink.net","excite.com","free.fr","freemail.hu","freenet.de","gmail.com","gmx.at","gmx.ch","gmx.de","gmx.net","googlemail.com","hotmail.ca","hotmail.co.uk","hotmail.com","hotmail.de","hotmail.es","hotmail.fr","hotmail.it","interia.pl","juno.com","laposte.net","libero.it","live.ca","live.co.uk","live.com","live.com.au","live.de","live.fr","live.nl","live.se","mail.com","mail.ru","me.com","msn.com","naver.com","netscape.net","neuf.fr","ntlworld.com","o2.pl","online.de","op.pl","optonline.net","orange.fr","outlook.com","qq.com","rambler.ru","rocketmail.com","rogers.com","sbcglobal.net","seznam.cz","shaw.ca","skynet.be","sympatico.ca","t-online.de","telenet.be","telus.net","tiscali.co.uk","tlen.pl","us.army.mil","verizon.net","videotron.ca","voila.fr","vp.pl","wanadoo.fr","web.de","wp.pl","yahoo.ca","yahoo.cn","yahoo.co.uk","yahoo.com","yahoo.com.au","yahoo.com.cn","yahoo.com.hk","yahoo.com.tw","yahoo.de","yahoo.es","yahoo.fr","yahoo.it","yandex.ru","ymail.com");const Fc={"add-code":er,"change-pw":sr,"link-accounts":cr,name:hr,phone:hr},Rc="2fa-sms-link",jc=document.querySelector("meta[name='description']");let Bc=!0;function Uc(t,r){return!(r?.features&&!window.state?.features?.[r.features])&&{onmatch(...r){const a=r[0];a[404]||D.redirect||D.updateState({first:Bc}).then((()=>{P("send","account_anet_login")})),!D.loggedIn||D.isPreloaded()||D.redirect||D.preloadPages(),D.errorMessage&&!Bc&&D.clearErrorMessage(),t.onmatch&&t.onmatch(...r),document.title=t.title||"ArenaNet",jc.setAttribute("content",t.description||""),D.setDefaults(),Bc&&(Bc=!1,window.state?.features?.disableCidSync||function(t){const r=location.hostname.split(".").slice(-2).join("."),a=D.get("urls.cid")||window.state.urls.cid;if(!a)return;const n={_t:Date.now(),cid:t};e.request({url:`${a}?${e.buildQueryString(n)}`,background:!0,config(e){e.withCredentials=!0}}).then((e=>{e.cid&&Mc({key:"cid",value:e.cid.value,domain:r,exp:e.cid.date}),e.cidKey&&Mc({key:"cidKey",value:e.cidKey.value,domain:r,exp:e.cidKey.date}),Nr({event:"gtm-cidLanding",eventCategory:"cid",eventAction:document.location.pathname,eventLabel:t})})).catch((e=>{console.log(e),Nr({event:"gtm-cidLanding",eventCategory:"cid",eventAction:document.location.pathname,eventLabel:t})}))}(a.cid)),Nr({event:"gaPageView",page:e.route.get()||window.location.pathname})},render:()=>e(yt,e(t,r))}}function Gc(t){return{onmatch(){e.route.set(t)}}}e.route.prefix("");const Hc={"":Gc("/login"),"/":Gc("/login"),"/login":Uc(qr),"/login/wait/:auth_type":Uc(ca),"/login/allow":Uc(ua),"/login/steam/return":window.state?.features?.steam?Uc(qr):void 0,"/password-reset":Uc(ga),"/password-reset/auth/:auth_type":Uc(ha),"/password-reset/recovery":Uc(ba),"/password-reset/confirm":Uc(ya),"/password-reset/success":Uc(ka),"/password-reset/error":Uc(xa),"/recovery":Uc(ga),"/verify":Uc(Ca),"/register":Uc(Fa),"/welcome":Uc(ln),"/overview":Uc(On),"/settings":Uc(ys),"/steam-support":Uc(Es,{platform:"steam"}),"/epic-support":Uc(Es,{platform:"epic"}),"/allowlist":Gc("/allowlist-ip"),"/allowlist-ip":Uc($s),"/allowlist-ip/success":Uc(Ns),"/allowlist-ip/error":Uc(Ds),"/security":Uc(Js),"/security/settings":Uc(Js),"/security/email":Uc(eo),"/security/email/confirm":Uc(ro),"/security/2-step":Uc(Io),"/security/2-step/later":Uc(so,{features:Rc}),"/security/2-step/sms/verify":Uc(lo,{features:Rc}),"/security/2-step/sms/link":Uc(mo,{features:Rc}),"/security/2-step/sms/done":Uc(bo,{type:"sms",features:Rc}),"/security/2-step/totp/download":Uc(Io),"/security/2-step/totp/link":Uc(Co),"/security/2-step/totp/done":Uc(bo,{type:"totp"}),"/security/2-step/totp/unlink/warning":Uc(Oo),"/security/2-step/totp/unlink/remove":Uc(Mo),"/security/2-step/totp/unlink/done":Uc(wo,{type:"totp"}),"/security/2-step/sms/unlink/warning":Uc(ho),"/security/2-step/sms/unlink/remove":Uc(vo),"/security/2-step/sms/unlink/done":Uc(wo,{type:"sms"}),"/modals/:modal":{onmatch({modal:t}){D.modal.display(Fc[t],{name:t}),e.route.set("/overview")}},"/content":Uc(Ei),"/applications":Uc(ec),"/applications/create":Uc(ic),"/applications/:id/edit":Uc(nc),"/applications/:id/delete":Uc(lc),"/oauth2/authorization":Uc(mc),"/oauth2/init-account-linking":Uc(mc),"/oauth2/link-accounts":Uc(mc),"/oauth2/account-link-complete":Uc(fc),"/unsubscribe":Uc(Ic),"/subscribed":Uc(Dc),"/:404...":Uc(Vr)};e.route(document.getElementById("mount"),"/login",Object.fromEntries(Object.entries(Hc).filter((([e,t])=>!1!==t))))}(m);
//# sourceMappingURL=rollup.js.map
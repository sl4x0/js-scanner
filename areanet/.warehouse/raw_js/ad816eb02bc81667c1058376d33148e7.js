const HOM_config={ignore:['skin-sam-overlay','skin-sam-widget','skin-sam-widget-stack','skin-sam-tabview'],groups:{'js/':{combine:!0,comboBase:'https://2hom.staticwars.com/combo/_',root:'/js/',base:'/js/',modules:{'hom-character-search':{path:'character-search.5d64adc9.js',requires:['cookie','event','transition','gallery-boxshadow-anim','anim-easing','hom-points']},'details-page':{path:'details-page.65fc7926.js',requires:['event','tabview','hom-points','main-page','hom-points-header','hom-reward-meter','hom-points-animator','details-page-css','hom-loader-details']},'hom-item-modal':{path:'item-modal.59100bda.js',requires:['base','overlay','anim','gallery-outside-events','gallery-overlay-extras','gallery-event-nav-keys','gallery-overlay-transition']},'hom-link-btn':{path:'link-btn.5c34039a.js',requires:['event-mouseenter','anim','transition']},'hom-loader-details':{path:'loader-details.1d30b28a.js',requires:['gallery-dispatcher']},'hom-loader-main':{path:'loader-main.92c16671.js',requires:['gallery-dispatcher','node','event-custom']},'hom-loader-monitor':{path:'loader-monitor.27a16db.js',requires:['gallery-dispatcher']},'main-page':{path:'main-page.f0763edf.js',requires:['event-custom','transition','anim','hom-item-modal','hom-points-header','hom-reward-meter','hom-points','hom-points-animator','hom-loader-main','main-page-css']},'hom-page-control':{path:'page-control.3da3e336.js',requires:['base','event-delegate','history-hash','hom-points']},'hom-points-animator':{path:'points-anim.b0f4ffd3.js',requires:['node','gallery-generic-anim']},'hom-points-header':{path:'points-header.4b047ff3.js',requires:['node','hom-points','hom-todo','hom-points-animator','hom-print-btn','hom-link-btn','hom-loader-monitor']},'hom-points':{path:'points.1dd99894.js',requires:['base','arena-base64']},'hom-print-btn':{path:'print-btn.6eebd4fa.js',requires:['event-mouseenter','transition']},'print-page':{path:'print-page.5a4e56fc.js',requires:['base','node','print-page-css','io-base','hom-character-search']},'hom-reward-meter-overlay':{path:'reward-meter-overlay.6dc173d8.js',requires:['node','event-mouseenter','overlay','gallery-overlay-transition']},'hom-reward-meter':{path:'reward-meter.899e9564.js',requires:['event','transition','hom-points','gallery-generic-anim','hom-todo','hom-reward-meter-overlay','hom-loader-monitor','reward-monitor-css','icons-css']},'hom-todo':{path:'todo.906ecd95.js',requires:['base','event-mouseenter','hom-points','oop','json','cookie']},'welcome-page':{path:'welcome-page.8694a321.js',requires:['event','node','hom-character-search','hom-page-control']}}},'js/gallery/':{combine:!0,comboBase:'https://2hom.staticwars.com/combo/_',root:'/js/gallery/',base:'/js/gallery/',modules:{'gallery-boxshadow-anim':{path:'boxshadow-anim.411441ac.js',requires:['anim-base']},'gallery-dispatcher':{path:'dispatcher.b6f8b33d.js',requires:['base','node-base','io-base','get','async-queue','classnamemanager']},'gallery-generic-anim':{path:'generic-anim.f946de23.js',requires:['base','base-build']},'gallery-overlay-extras':{path:'overlay-extras.8b77c590.js',supersedes:['gallery-overlay-modal'],requires:['overlay','plugin','event-resize','event-outside']}}},'js/lib/':{combine:!0,comboBase:'https://2hom.staticwars.com/combo/_',root:'/js/lib/',base:'/js/lib/',modules:{'arena-base64':{path:'Base64Codec.2e2f6a63.js',requires:[]}}},css:{combine:!0,comboBase:'https://2hom.staticwars.com/combo/_',root:'/css/',base:'/css/',modules:{'icons-css':{path:'icons.3bdf6a84.css',type:'css'},'main-page-css':{path:'main-page.1f3c1616.css',type:'css'},'details-page-css':{path:'details-page.69272956.css',type:'css'},'reward-monitor-css':{path:'reward-monitor.66eb93b.css',type:'css'},'print-page-css':{path:'print-page.32fc1a61.css',type:'css'}}}}}
YUI.add("hom-todo",(function(e){"use strict";const t=e.Lang,o=e.namespace("hom");o.Todo=e.Base.create("Todo",e.Base,[],{_timer:null,initializer(){const i={emitFacade:!1,preventable:!1};function n(i){let n=i.currentTarget,s={on:"mouseenter"===i.type},a=o.Todo.data(e.merge(o.Todo._itemRetriever(n),s),s.on);s.on?(this._timer&&t.isFunction(this._timer.cancel)&&this._timer.cancel(),this.fire("hover",a),n=a=s=null):this._timer=e.later(100,this,(function(){this.fire("hover",a),n=a=s=null}))}function s(t){e.Cookie.setSub("todo","display",t.newVal)}this.parse(e.Cookie.getSub("todo","values")),this.publish("hover",i),this.publish("change",i),e.delegate("mouseenter",n,"body",".todo-item",this),e.delegate("mouseleave",n,"body",".todo-item",this),e.delegate("click",(function(e){e.preventDefault();let t=e.currentTarget,i=o.Todo._itemRetriever(t);this.set(`${i.section}.${i.item.replace(/\./g,"-")}`,t.hasClass("on-todo")?0:1),t=i=null}),"body",".todo-item",this),this.after(["devotionChange","fellowshipChange","honorChange","resilienceChange","valorChange"],(function(e){let t;e.subAttrName&&(t=e.subAttrName.split(".")[1]),this.fire("change",o.Todo.data({section:e.attrName,item:t||null,value:e.newVal[t]}))})),this.after("change",(function(t){const i=e.clone(this.getValues());i.fellowship["M-O-X-"]&&(i.fellowship["M.O.X."]=1,delete i.fellowship["M-O-X-"]);const n=o.Points.putBits(i);e.Cookie.setSub("todo","values",n)}),this),this.after("displayChange",s),s({newVal:this.get("display")})},parse(t){t&&(t=o.Points.parseBits(t),e.each(t,(function(o,i){e.each(o,(function(e,o){e||delete t[i][o]}))})),t.fellowship["M.O.X."]&&(t.fellowship["M-O-X-"]=1,delete t.fellowship["M.O.X."]),this.setAttrs(t))},getValues(e){return this.getAttrs(e||["devotion","fellowship","honor","resilience","valor"])},getComputedValues(i){const n=o.points.get("character"),s=this.getValues(i),a=e.aggregate(e.clone(n),s,!0);return e.each(n.devotion,(function(e,o){t.isValue(s.devotion[o])&&(a.devotion[o]=(t.isNumber(a.devotion[o])?a.devotion[o]:0)+e)})),a},urlData:()=>e.Cookie.getSub("todo","values")},{ATTRS:{display:{valueFn(){const o=e.Cookie.getSub("todo","display",(function(e){return"true"===e}));return!t.isBoolean(o)||o},validator:t.isBoolean},devotion:{value:{}},fellowship:{value:{}},honor:{value:{}},resilience:{value:{}},valor:{value:{}}},_itemRegex:/section\-(\w+)/,_itemRetriever(e){const t=e.ancestor("ul"),i={section:null,item:null};return e.test("li")||(e=e.ancestor("li")),i.item=e.one(".txt").get("innerHTML"),i.section=t.get("className").match(o.Todo._itemRegex),i.section[1]&&(i.section=i.section[1]),i},data(i,n){const s=o.Points[`${i.section}Points`],a=o.points.get(`character.${i.section}`),l=o.todo.get(i.section),r={complete:a,todo:o.todo.get("display")?e.merge(a,l):{},hover:{}};"devotion"===i.section&&e.each(a,(function(e,o){r.todo[o]=a[o]+(t.isNumber(l[o])?l[o]:0)}));const c={complete:o.points.get(i.section),todo:s(r.todo),hover:{}};return n&&(r.hover=e.clone(r.todo),i.item=i.item.replace(/\./g,"-"),"devotion"===i.section?r.hover[i.item]+=i.on:r.hover[i.item]=i.on,c.hover=s(r.hover)),{details:i,items:r,points:c}}}),o.todo=new o.Todo}),"@VERSION@",{requires:["base","event-mouseenter","hom-points","oop","json","cookie"]});